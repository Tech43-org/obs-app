import{Q as he,a as rl,b as L}from"./focus-manager.0068caea.js";import{Q as oe}from"./QSpace.c614c7e4.js";import{s as X,A as d,B as ie,V as ol,a4 as _e,C as te,aJ as kt,aK as qt,N as Q,z as g,aP as ct,U as Je,ab as dt,F as H,a6 as Ut,G as Ze,ar as nl,aq as il,H as xt,J as sl,K as vt,aC as ul,ax as ft,aV as Ke,aW as mt,aX as cl,P as Tt,aY as dl,ao as be,Q as A,i as et,e as tt,a as Pt,o as F,k as E,w as c,l as n,p as P,t as D,aQ as Ne,g as ce,Y as de,Z as ve,m as ne,_ as Rt,$ as vl,a0 as fl,W as M,T as ml,X as Xe,aZ as bl,a_ as gl,a$ as Ie,b0 as bt,b1 as gt,n as Z,a3 as yl,aU as yt,b2 as ht,b3 as hl,b4 as _l,b5 as Sl,b6 as wl}from"./index.49fc7c04.js";import{Q as Cl}from"./QBtnGroup.34647990.js";import{Q as j}from"./QChip.0dea64ff.js";import{C as _t,Q as re}from"./ClosePopup.b42ac126.js";import{Q as pl}from"./QToolbar.0e7d31f4.js";import{d as kl,h as ql,Q as Ae}from"./QInput.152723dc.js";import{Q as ye}from"./QCardActions.1b383fd5.js";import{u as Se,c as we,Q as Ul,a as Ve,b as Dt}from"./QList.fd90aac6.js";import{o as xl,u as Tl,a as Oe,Q as Pl}from"./QCheckbox.ee7a24b7.js";import{Q as Rl}from"./QSeparator.f68a0bf8.js";import{d as Dl,e as Il,f as It,Q as Vl}from"./QSelect.0a5bf3b8.js";var K=X({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:i}){const b=te(),{proxy:{$q:v}}=b,u=r=>{i("click",r)};return()=>{if(e.props===void 0)return d("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:u},ie(a.default));let r,f;const h=b.vnode.key;if(h){if(r=e.props.colsMap[h],r===void 0)return}else r=e.props.col;if(r.sortable===!0){const t=r.align==="right"?"unshift":"push";f=ol(a.default,[]),f[t](d(_e,{class:r.__iconClass,name:v.iconSet.table.arrowUp}))}else f=ie(a.default);const _={class:r.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:r.headerStyle,onClick:t=>{r.sortable===!0&&e.props.sort(r),u(t)}};return d("th",_,f)}}});const Bl=d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Fl=X({name:"QRadio",props:{...Se,...kt,...kl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:a,emit:i}){const{proxy:b}=te(),v=we(e,b.$q),u=qt(e,xl),r=Q(null),{refocusTargetEl:f,refocusTarget:h}=Tl(e,r),_=g(()=>ct(e.modelValue)===ct(e.val)),t=g(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(v.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),S=g(()=>{const s=e.color!==void 0&&(e.keepColor===!0||_.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${_.value===!0?"truthy":"falsy"}${s}`}),x=g(()=>(_.value===!0?e.checkedIcon:e.uncheckedIcon)||null),T=g(()=>e.disable===!0?-1:e.tabindex||0),R=g(()=>{const s={type:"radio"};return e.name!==void 0&&Object.assign(s,{".checked":_.value===!0,"^checked":_.value===!0?"checked":void 0,name:e.name,value:e.val}),s}),q=ql(R);function p(s){s!==void 0&&(dt(s),h(s)),e.disable!==!0&&_.value!==!0&&i("update:modelValue",e.val,s)}function N(s){(s.keyCode===13||s.keyCode===32)&&dt(s)}function w(s){(s.keyCode===13||s.keyCode===32)&&p(s)}return Object.assign(b,{set:p}),()=>{const s=x.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(_e,{class:"q-radio__icon",name:x.value})])]:[Bl];e.disable!==!0&&q(s,"unshift"," q-radio__native q-ma-none q-pa-none");const o=[d("div",{class:S.value,style:u.value,"aria-hidden":"true"},s)];f.value!==null&&o.push(f.value);const m=e.label!==void 0?Je(a.default,[e.label]):ie(a.default);return m!==void 0&&o.push(d("div",{class:"q-radio__label q-anchor--skip"},m)),d("div",{ref:r,class:t.value,tabindex:T.value,role:"radio","aria-label":e.label,"aria-checked":_.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:N,onKeyup:w},o)}}});const Vt={radio:Fl,checkbox:Oe,toggle:Pl},Nl=Object.keys(Vt);var Be=X({name:"QOptionGroup",props:{...Se,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(a=>"value"in a&&"label"in a)},name:String,type:{default:"radio",validator:e=>Nl.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:a,slots:i}){const{proxy:{$q:b}}=te(),v=Array.isArray(e.modelValue);e.type==="radio"?v===!0&&console.error("q-option-group: model should not be array"):v===!1&&console.error("q-option-group: model should be array in your case");const u=we(e,b),r=g(()=>Vt[e.type]),f=g(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),h=g(()=>{const t={role:"group"};return e.type==="radio"&&(t.role="radiogroup",e.disable===!0&&(t["aria-disabled"]="true")),t});function _(t){a("update:modelValue",t)}return()=>d("div",{class:f.value,...h.value},e.options.map((t,S)=>{const x=i["label-"+S]!==void 0?()=>i["label-"+S](t):i.label!==void 0?()=>i.label(t):void 0;return d("div",[d(r.value,{modelValue:e.modelValue,val:t.value,name:t.name===void 0?e.name:t.name,disable:e.disable||t.disable,label:x===void 0?t.label:null,leftLabel:t.leftLabel===void 0?e.leftLabel:t.leftLabel,color:t.color===void 0?e.color:t.color,checkedIcon:t.checkedIcon,uncheckedIcon:t.uncheckedIcon,dark:t.dark||u.value,size:t.size===void 0?e.size:t.size,dense:e.dense,keepColor:t.keepColor===void 0?e.keepColor:t.keepColor,"onUpdate:modelValue":_},x)])}))}}),ee=X({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const i=te(),b=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return d("td",{class:b.value},ie(a.default));const v=i.vnode.key,u=(e.props.colsMap!==void 0?e.props.colsMap[v]:null)||e.props.col;if(u===void 0)return;const{row:r}=e.props;return d("td",{class:b.value+u.__tdClass(r),style:u.__tdStyle(r)},ie(a.default))}}}),Al=X({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:a}){const i=g(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>d("tr",{class:i.value},ie(a.default))}});const Ol=["horizontal","vertical","cell","none"];var $l=X({name:"QMarkupTable",props:{...Se,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ol.includes(e)}},setup(e,{slots:a}){const i=te(),b=we(e,i.proxy.$q),v=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(b.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>d("div",{class:v.value},[d("table",{class:"q-table"},ie(a.default))])}});function Bt(e,a){return d("div",e,[d("table",{class:"q-table"},a)])}const Ql={list:Ul,table:$l},Ll=["list","table","__qtable"];var Ml=X({name:"QVirtualScroll",props:{...Dl,type:{type:String,default:"list",validator:e=>Ll.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:i}){let b;const v=Q(null),u=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:f,padVirtualScroll:h,onVirtualScrollEvt:_}=Il({virtualScrollLength:u,getVirtualScrollTarget:R,getVirtualScrollEl:T}),t=g(()=>{if(u.value===0)return[];const w=(s,o)=>({index:r.value.from+o,item:s});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(w):e.itemsFn(r.value.from,r.value.to-r.value.from).map(w)}),S=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),x=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});H(u,()=>{f()}),H(()=>e.scrollTarget,()=>{p(),q()});function T(){return v.value.$el||v.value}function R(){return b}function q(){b=sl(T(),e.scrollTarget),b.addEventListener("scroll",_,vt.passive)}function p(){b!==void 0&&(b.removeEventListener("scroll",_,vt.passive),b=void 0)}function N(){let w=h(e.type==="list"?"div":"tbody",t.value.map(a.default));return a.before!==void 0&&(w=a.before().concat(w)),Je(a.after,w)}return Ut(()=>{f()}),Ze(()=>{q()}),nl(()=>{q()}),il(()=>{p()}),xt(()=>{p()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Bt({ref:v,class:"q-table__middle "+S.value},N()):d(Ql[e.type],{...i,ref:v,class:[i.class,S.value],...x.value},N)}}});const jl={xs:2,sm:4,md:6,lg:10,xl:14};function St(e,a,i){return{transform:a===!0?`translateX(${i.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var El=X({name:"QLinearProgress",props:{...Se,...kt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:i}=te(),b=we(e,i.$q),v=qt(e,jl),u=g(()=>e.indeterminate===!0||e.query===!0),r=g(()=>e.reverse!==e.query),f=g(()=>({...v.value!==null?v.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),h=g(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),_=g(()=>St(e.buffer!==void 0?e.buffer:1,r.value,i.$q)),t=g(()=>`with${e.instantFeedback===!0?"out":""}-transition`),S=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${t.value} q-linear-progress__track--${b.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),x=g(()=>St(u.value===!0?1:e.value,r.value,i.$q)),T=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${t.value} q-linear-progress__model--${u.value===!0?"in":""}determinate`),R=g(()=>({width:`${e.value*100}%`})),q=g(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${t.value}`);return()=>{const p=[d("div",{class:S.value,style:_.value}),d("div",{class:T.value,style:x.value})];return e.stripe===!0&&u.value===!1&&p.push(d("div",{class:q.value,style:R.value})),d("div",{class:h.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Je(a.default,p))}}});let ge=0;const zl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Gl=["update:fullscreen","fullscreen"];function Hl(){const e=te(),{props:a,emit:i,proxy:b}=e;let v,u,r;const f=Q(!1);ul(e)===!0&&H(()=>b.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&t()}),H(()=>a.fullscreen,S=>{f.value!==S&&h()}),H(f,S=>{i("update:fullscreen",S),i("fullscreen",S)});function h(){f.value===!0?t():_()}function _(){f.value!==!0&&(f.value=!0,r=b.$el.parentNode,r.replaceChild(u,b.$el),document.body.appendChild(b.$el),ge++,ge===1&&document.body.classList.add("q-body--fullscreen-mixin"),v={handler:t},ft.add(v))}function t(){f.value===!0&&(v!==void 0&&(ft.remove(v),v=void 0),r.replaceChild(b.$el,u),f.value=!1,ge=Math.max(0,ge-1),ge===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),b.$el.scrollIntoView!==void 0&&setTimeout(()=>{b.$el.scrollIntoView()})))}return Ut(()=>{u=document.createElement("span")}),Ze(()=>{a.fullscreen===!0&&_()}),xt(t),Object.assign(b,{toggleFullscreen:h,setFullscreen:_,exitFullscreen:t}),{inFullscreen:f,toggleFullscreen:h}}function Yl(e,a){return new Date(e)-new Date(a)}const Wl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Kl(e,a,i,b){const v=g(()=>{const{sortBy:f}=a.value;return f&&i.value.find(h=>h.name===f)||null}),u=g(()=>e.sortMethod!==void 0?e.sortMethod:(f,h,_)=>{const t=i.value.find(T=>T.name===h);if(t===void 0||t.field===void 0)return f;const S=_===!0?-1:1,x=typeof t.field=="function"?T=>t.field(T):T=>T[t.field];return f.sort((T,R)=>{let q=x(T),p=x(R);return t.rawSort!==void 0?t.rawSort(q,p,T,R)*S:q==null?-1*S:p==null?1*S:t.sort!==void 0?t.sort(q,p,T,R)*S:Ke(q)===!0&&Ke(p)===!0?(q-p)*S:mt(q)===!0&&mt(p)===!0?Yl(q,p)*S:typeof q=="boolean"&&typeof p=="boolean"?(q-p)*S:([q,p]=[q,p].map(N=>(N+"").toLocaleString().toLowerCase()),q<p?-1*S:q===p?0:S)})});function r(f){let h=e.columnSortOrder;if(cl(f)===!0)f.sortOrder&&(h=f.sortOrder),f=f.name;else{const S=i.value.find(x=>x.name===f);S!==void 0&&S.sortOrder&&(h=S.sortOrder)}let{sortBy:_,descending:t}=a.value;_!==f?(_=f,t=h==="da"):e.binaryStateSort===!0?t=!t:t===!0?h==="ad"?_=null:t=!1:h==="ad"?t=!0:_=null,b({sortBy:_,descending:t,page:1})}return{columnToSort:v,computedSortMethod:u,sort:r}}const Xl={filter:[String,Object],filterMethod:Function};function Jl(e,a){const i=g(()=>e.filterMethod!==void 0?e.filterMethod:(b,v,u,r)=>{const f=v?v.toLowerCase():"";return b.filter(h=>u.some(_=>{const t=r(_,h)+"";return(t==="undefined"||t==="null"?"":t.toLowerCase()).indexOf(f)!==-1}))});return H(()=>e.filter,()=>{Tt(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:i}}function Zl(e,a){for(const i in a)if(a[i]!==e[i])return!1;return!0}function wt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ea={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ta(e,a){const{props:i,emit:b}=e,v=Q(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:i.rowsPerPageOptions.length!==0?i.rowsPerPageOptions[0]:5},i.pagination)),u=g(()=>{const t=i["onUpdate:pagination"]!==void 0?{...v.value,...i.pagination}:v.value;return wt(t)}),r=g(()=>u.value.rowsNumber!==void 0);function f(t){h({pagination:t,filter:i.filter})}function h(t={}){Tt(()=>{b("request",{pagination:t.pagination||u.value,filter:t.filter||i.filter,getCellValue:a})})}function _(t,S){const x=wt({...u.value,...t});if(Zl(u.value,x)===!0){r.value===!0&&S===!0&&f(x);return}if(r.value===!0){f(x);return}i.pagination!==void 0&&i["onUpdate:pagination"]!==void 0?b("update:pagination",x):v.value=x}return{innerPagination:v,computedPagination:u,isServerSide:r,requestServerInteraction:h,setPagination:_}}function la(e,a,i,b,v,u){const{props:r,emit:f,proxy:{$q:h}}=e,_=g(()=>b.value===!0?i.value.rowsNumber||0:u.value),t=g(()=>{const{page:o,rowsPerPage:m}=i.value;return(o-1)*m}),S=g(()=>{const{page:o,rowsPerPage:m}=i.value;return o*m}),x=g(()=>i.value.page===1),T=g(()=>i.value.rowsPerPage===0?1:Math.max(1,Math.ceil(_.value/i.value.rowsPerPage))),R=g(()=>S.value===0?!0:i.value.page>=T.value),q=g(()=>(r.rowsPerPageOptions.includes(a.value.rowsPerPage)?r.rowsPerPageOptions:[a.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(m=>({label:m===0?h.lang.table.allRows:""+m,value:m})));H(T,(o,m)=>{if(o===m)return;const I=i.value.page;o&&!I?v({page:1}):o<I&&v({page:o})});function p(){v({page:1})}function N(){const{page:o}=i.value;o>1&&v({page:o-1})}function w(){const{page:o,rowsPerPage:m}=i.value;S.value>0&&o*m<_.value&&v({page:o+1})}function s(){v({page:T.value})}return r["onUpdate:pagination"]!==void 0&&f("update:pagination",{...i.value}),{firstRowIndex:t,lastRowIndex:S,isFirstPage:x,isLastPage:R,pagesNumber:T,computedRowsPerPageOptions:q,computedRowsNumber:_,firstPage:p,prevPage:N,nextPage:w,lastPage:s}}const aa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ra=["update:selected","selection"];function oa(e,a,i,b){const v=g(()=>{const R={};return e.selected.map(b.value).forEach(q=>{R[q]=!0}),R}),u=g(()=>e.selection!=="none"),r=g(()=>e.selection==="single"),f=g(()=>e.selection==="multiple"),h=g(()=>i.value.length!==0&&i.value.every(R=>v.value[b.value(R)]===!0)),_=g(()=>h.value!==!0&&i.value.some(R=>v.value[b.value(R)]===!0)),t=g(()=>e.selected.length);function S(R){return v.value[R]===!0}function x(){a("update:selected",[])}function T(R,q,p,N){a("selection",{rows:q,added:p,keys:R,evt:N});const w=r.value===!0?p===!0?q:[]:p===!0?e.selected.concat(q):e.selected.filter(s=>R.includes(b.value(s))===!1);a("update:selected",w)}return{hasSelectionMode:u,singleSelection:r,multipleSelection:f,allRowsSelected:h,someRowsSelected:_,rowsSelectedNumber:t,isRowSelected:S,clearSelection:x,updateSelection:T}}function Ct(e){return Array.isArray(e)?e.slice():[]}const na={expanded:Array},ia=["update:expanded"];function sa(e,a){const i=Q(Ct(e.expanded));H(()=>e.expanded,r=>{i.value=Ct(r)});function b(r){return i.value.includes(r)}function v(r){e.expanded!==void 0?a("update:expanded",r):i.value=r}function u(r,f){const h=i.value.slice(),_=h.indexOf(r);f===!0?_===-1&&(h.push(r),v(h)):_!==-1&&(h.splice(_,1),v(h))}return{isRowExpanded:b,setExpanded:v,updateExpanded:u}}const ua={visibleColumns:Array};function ca(e,a,i){const b=g(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(h=>({name:h,label:h.toUpperCase(),field:h,align:Ke(f[h])?"right":"left",sortable:!0})):[]}),v=g(()=>{const{sortBy:f,descending:h}=a.value;return(e.visibleColumns!==void 0?b.value.filter(t=>t.required===!0||e.visibleColumns.includes(t.name)===!0):b.value).map(t=>{const S=t.align||"right",x=`text-${S}`;return{...t,align:S,__iconClass:`q-table__sort-icon q-table__sort-icon--${S}`,__thClass:x+(t.headerClasses!==void 0?" "+t.headerClasses:"")+(t.sortable===!0?" sortable":"")+(t.name===f?` sorted ${h===!0?"sort-desc":""}`:""),__tdStyle:t.style!==void 0?typeof t.style!="function"?()=>t.style:t.style:()=>null,__tdClass:t.classes!==void 0?typeof t.classes!="function"?()=>x+" "+t.classes:T=>x+" "+t.classes(T):()=>x}})}),u=g(()=>{const f={};return v.value.forEach(h=>{f[h.name]=h}),f}),r=g(()=>e.tableColspan!==void 0?e.tableColspan:v.value.length+(i.value===!0?1:0));return{colList:b,computedCols:v,computedColsMap:u,computedColspan:r}}const Fe="q-table__bottom row items-center",Ft={};It.forEach(e=>{Ft[e]={}});var da=X({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ft,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Se,...zl,...ua,...Xl,...ea,...na,...aa,...Wl},emits:["request","virtualScroll",...Gl,...ia,...ra],setup(e,{slots:a,emit:i}){const b=te(),{proxy:{$q:v}}=b,u=we(e,v),{inFullscreen:r,toggleFullscreen:f}=Hl(),h=g(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),_=Q(null),t=Q(null),S=g(()=>e.grid!==!0&&e.virtualScroll===!0),x=g(()=>" q-table__card"+(u.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),T=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":x.value)+(u.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(r.value===!0?" fullscreen scroll":"")),R=g(()=>T.value+(e.loading===!0?" q-table--loading":""));H(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+T.value,()=>{S.value===!0&&t.value!==null&&t.value.reset()});const{innerPagination:q,computedPagination:p,isServerSide:N,requestServerInteraction:w,setPagination:s}=ta(b,se),{computedFilterMethod:o}=Jl(e,s),{isRowExpanded:m,setExpanded:I,updateExpanded:ae}=sa(e,i),O=g(()=>{let l=e.rows;if(N.value===!0||l.length===0)return l;const{sortBy:y,descending:C}=p.value;return e.filter&&(l=o.value(l,e.filter,Y.value,se)),Ot.value!==null&&(l=$t.value(e.rows===l?l.slice():l,y,C)),l}),z=g(()=>O.value.length),G=g(()=>{let l=O.value;if(N.value===!0)return l;const{rowsPerPage:y}=p.value;return y!==0&&(qe.value===0&&e.rows!==l?l.length>Ue.value&&(l=l.slice(0,Ue.value)):l=l.slice(qe.value,Ue.value)),l}),{hasSelectionMode:J,singleSelection:Ce,multipleSelection:fe,allRowsSelected:pe,someRowsSelected:me,rowsSelectedNumber:$e,isRowSelected:Qe,clearSelection:Nt,updateSelection:ke}=oa(e,i,G,h),{colList:At,computedCols:Y,computedColsMap:lt,computedColspan:at}=ca(e,p,J),{columnToSort:Ot,computedSortMethod:$t,sort:Le}=Kl(e,p,At,s),{firstRowIndex:qe,lastRowIndex:Ue,isFirstPage:Me,isLastPage:je,pagesNumber:xe,computedRowsPerPageOptions:Qt,computedRowsNumber:Te,firstPage:Ee,prevPage:ze,nextPage:Ge,lastPage:He}=la(b,q,p,N,s,z),Lt=g(()=>G.value.length===0),Mt=g(()=>{const l={};return It.forEach(y=>{l[y]=e[y]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function jt(){S.value===!0&&t.value.reset()}function Et(){if(e.grid===!0)return ll();const l=e.hideHeader!==!0?st:null;if(S.value===!0){const C=a["top-row"],k=a["bottom-row"],U={default:B=>ot(B.item,a.body,B.index)};if(C!==void 0){const B=d("tbody",C({cols:Y.value}));U.before=l===null?()=>B:()=>[l()].concat(B)}else l!==null&&(U.before=l);return k!==void 0&&(U.after=()=>d("tbody",k({cols:Y.value}))),d(Ml,{ref:t,class:e.tableClass,style:e.tableStyle,...Mt.value,scrollTarget:e.virtualScrollTarget,items:G.value,type:"__qtable",tableColspan:at.value,onVirtualScroll:Gt},U)}const y=[Ht()];return l!==null&&y.unshift(l()),Bt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},y)}function zt(l,y){if(t.value!==null){t.value.scrollTo(l,y);return}l=parseInt(l,10);const C=_.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(C!==null){const k=_.value.querySelector(".q-table__middle.scroll"),U=C.offsetTop-e.virtualScrollStickySizeStart,B=U<k.scrollTop?"decrease":"increase";k.scrollTop=U,i("virtualScroll",{index:l,from:0,to:q.value.rowsPerPage-1,direction:B})}}function Gt(l){i("virtualScroll",l)}function rt(){return[d(El,{class:"q-table__linear-progress",color:e.color,dark:u.value,indeterminate:!0,trackColor:"transparent"})]}function ot(l,y,C){const k=h.value(l),U=Qe(k);if(y!==void 0)return y(nt({key:k,row:l,pageIndex:C,__trClass:U?"selected":""}));const B=a["body-cell"],V=Y.value.map($=>{const Re=a[`body-cell-${$.name}`],De=Re!==void 0?Re:B;return De!==void 0?De(Yt({key:k,row:l,pageIndex:C,col:$})):d("td",{class:$.__tdClass(l),style:$.__tdStyle(l)},se($,l))});if(J.value===!0){const $=a["body-selection"],Re=$!==void 0?$(Wt({key:k,row:l,pageIndex:C})):[d(Oe,{modelValue:U,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(De,al)=>{ke([k],[l],De,al)}})];V.unshift(d("td",{class:"q-table--col-auto-width"},Re))}const W={key:k,class:{selected:U}};return e.onRowClick!==void 0&&(W.class["cursor-pointer"]=!0,W.onClick=$=>{i("RowClick",$,l,C)}),e.onRowDblclick!==void 0&&(W.class["cursor-pointer"]=!0,W.onDblclick=$=>{i("RowDblclick",$,l,C)}),e.onRowContextmenu!==void 0&&(W.class["cursor-pointer"]=!0,W.onContextmenu=$=>{i("RowContextmenu",$,l,C)}),d("tr",W,V)}function Ht(){const l=a.body,y=a["top-row"],C=a["bottom-row"];let k=G.value.map((U,B)=>ot(U,l,B));return y!==void 0&&(k=y({cols:Y.value}).concat(k)),C!==void 0&&(k=k.concat(C({cols:Y.value}))),d("tbody",k)}function nt(l){return Ye(l),l.cols=l.cols.map(y=>be({...y},"value",()=>se(y,l.row))),l}function Yt(l){return Ye(l),be(l,"value",()=>se(l.col,l.row)),l}function Wt(l){return Ye(l),l}function Ye(l){Object.assign(l,{cols:Y.value,colsMap:lt.value,sort:Le,rowIndex:qe.value+l.pageIndex,color:e.color,dark:u.value,dense:e.dense}),J.value===!0&&be(l,"selected",()=>Qe(l.key),(y,C)=>{ke([l.key],[l.row],y,C)}),be(l,"expand",()=>m(l.key),y=>{ae(l.key,y)})}function se(l,y){const C=typeof l.field=="function"?l.field(y):y[l.field];return l.format!==void 0?l.format(C,y):C}const ue=g(()=>({pagination:p.value,pagesNumber:xe.value,isFirstPage:Me.value,isLastPage:je.value,firstPage:Ee,prevPage:ze,nextPage:Ge,lastPage:He,inFullscreen:r.value,toggleFullscreen:f}));function Kt(){const l=a.top,y=a["top-left"],C=a["top-right"],k=a["top-selection"],U=J.value===!0&&k!==void 0&&$e.value>0,B="q-table__top relative-position row items-center";if(l!==void 0)return d("div",{class:B},[l(ue.value)]);let V;if(U===!0?V=k(ue.value).slice():(V=[],y!==void 0?V.push(d("div",{class:"q-table__control"},[y(ue.value)])):e.title&&V.push(d("div",{class:"q-table__control"},[d("div",{class:["q-table__title",e.titleClass]},e.title)]))),C!==void 0&&(V.push(d("div",{class:"q-table__separator col"})),V.push(d("div",{class:"q-table__control"},[C(ue.value)]))),V.length!==0)return d("div",{class:B},V)}const it=g(()=>me.value===!0?null:pe.value);function st(){const l=Xt();return e.loading===!0&&a.loading===void 0&&l.push(d("tr",{class:"q-table__progress"},[d("th",{class:"relative-position",colspan:at.value},rt())])),d("thead",l)}function Xt(){const l=a.header,y=a["header-cell"];if(l!==void 0)return l(We({header:!0})).slice();const C=Y.value.map(k=>{const U=a[`header-cell-${k.name}`],B=U!==void 0?U:y,V=We({col:k});return B!==void 0?B(V):d(K,{key:k.name,props:V},()=>k.label)});if(Ce.value===!0&&e.grid!==!0)C.unshift(d("th",{class:"q-table--col-auto-width"}," "));else if(fe.value===!0){const k=a["header-selection"],U=k!==void 0?k(We({})):[d(Oe,{color:e.color,modelValue:it.value,dark:u.value,dense:e.dense,"onUpdate:modelValue":ut})];C.unshift(d("th",{class:"q-table--col-auto-width"},U))}return[d("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},C)]}function We(l){return Object.assign(l,{cols:Y.value,sort:Le,colsMap:lt.value,color:e.color,dark:u.value,dense:e.dense}),fe.value===!0&&be(l,"selected",()=>it.value,ut),l}function ut(l){me.value===!0&&(l=!1),ke(G.value.map(h.value),G.value,l)}const Pe=g(()=>{const l=[e.iconFirstPage||v.iconSet.table.firstPage,e.iconPrevPage||v.iconSet.table.prevPage,e.iconNextPage||v.iconSet.table.nextPage,e.iconLastPage||v.iconSet.table.lastPage];return v.lang.rtl===!0?l.reverse():l});function Jt(){if(e.hideBottom===!0)return;if(Lt.value===!0){if(e.hideNoData===!0)return;const C=e.loading===!0?e.loadingLabel||v.lang.table.loading:e.filter?e.noResultsLabel||v.lang.table.noResults:e.noDataLabel||v.lang.table.noData,k=a["no-data"],U=k!==void 0?[k({message:C,icon:v.iconSet.table.warning,filter:e.filter})]:[d(_e,{class:"q-table__bottom-nodata-icon",name:v.iconSet.table.warning}),C];return d("div",{class:Fe+" q-table__bottom--nodata"},U)}const l=a.bottom;if(l!==void 0)return d("div",{class:Fe},[l(ue.value)]);const y=e.hideSelectedBanner!==!0&&J.value===!0&&$e.value>0?[d("div",{class:"q-table__control"},[d("div",[(e.selectedRowsLabel||v.lang.table.selectedRecords)($e.value)])])]:[];if(e.hidePagination!==!0)return d("div",{class:Fe+" justify-end"},el(y));if(y.length!==0)return d("div",{class:Fe},y)}function Zt(l){s({page:1,rowsPerPage:l.value})}function el(l){let y;const{rowsPerPage:C}=p.value,k=e.paginationLabel||v.lang.table.pagination,U=a.pagination,B=e.rowsPerPageOptions.length>1;if(l.push(d("div",{class:"q-table__separator col"})),B===!0&&l.push(d("div",{class:"q-table__control"},[d("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||v.lang.table.recordsPerPage]),d(Vl,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:C,options:Qt.value,displayValue:C===0?v.lang.table.allRows:C,dark:u.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Zt})])),U!==void 0)y=U(ue.value);else if(y=[d("span",C!==0?{class:"q-table__bottom-item"}:{},[C?k(qe.value+1,Math.min(Ue.value,Te.value),Te.value):k(1,z.value,Te.value)])],C!==0&&xe.value>1){const V={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(V.size="sm"),xe.value>2&&y.push(d(A,{key:"pgFirst",...V,icon:Pe.value[0],disable:Me.value,onClick:Ee})),y.push(d(A,{key:"pgPrev",...V,icon:Pe.value[1],disable:Me.value,onClick:ze}),d(A,{key:"pgNext",...V,icon:Pe.value[2],disable:je.value,onClick:Ge})),xe.value>2&&y.push(d(A,{key:"pgLast",...V,icon:Pe.value[3],disable:je.value,onClick:He}))}return l.push(d("div",{class:"q-table__control"},y)),l}function tl(){const l=e.gridHeader===!0?[d("table",{class:"q-table"},[st()])]:e.loading===!0&&a.loading===void 0?rt():void 0;return d("div",{class:"q-table__middle"},l)}function ll(){const l=a.item!==void 0?a.item:y=>{const C=y.cols.map(U=>d("div",{class:"q-table__grid-item-row"},[d("div",{class:"q-table__grid-item-title"},[U.label]),d("div",{class:"q-table__grid-item-value"},[U.value])]));if(J.value===!0){const U=a["body-selection"],B=U!==void 0?U(y):[d(Oe,{modelValue:y.selected,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(V,W)=>{ke([y.key],[y.row],V,W)}})];C.unshift(d("div",{class:"q-table__grid-item-row"},B),d(Rl,{dark:u.value}))}const k={class:["q-table__grid-item-card"+x.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(k.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(k.onClick=U=>{i("RowClick",U,y.row,y.pageIndex)}),e.onRowDblclick!==void 0&&(k.onDblclick=U=>{i("RowDblclick",U,y.row,y.pageIndex)})),d("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(y.selected===!0?" q-table__grid-item--selected":"")},[d("div",k,C)])};return d("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},G.value.map((y,C)=>l(nt({key:h.value(y),row:y,pageIndex:C}))))}return Object.assign(b.proxy,{requestServerInteraction:w,setPagination:s,firstPage:Ee,prevPage:ze,nextPage:Ge,lastPage:He,isRowSelected:Qe,clearSelection:Nt,isRowExpanded:m,setExpanded:I,sort:Le,resetVirtualScroll:jt,scrollTo:zt,getCellValue:se}),dl(b.proxy,{filteredSortedRows:()=>O.value,computedRows:()=>G.value,computedRowsNumber:()=>Te.value}),()=>{const l=[Kt()],y={ref:_,class:R.value};return e.grid===!0?l.push(tl()):Object.assign(y,{class:[y.class,e.cardClass],style:e.cardStyle}),l.push(Et(),Jt()),e.loading===!0&&a.loading!==void 0&&l.push(a.loading()),d("div",y,l)}}});function pt(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function va(e,a,i={}){const{mimeType:b,byteOrderMark:v,encoding:u}=typeof i=="string"?{mimeType:i}:i,r=u!==void 0?new TextEncoder(u).encode([a]):a,f=v!==void 0?[v,r]:[r],h=new Blob(f,{type:b||"application/octet-stream"}),_=document.createElement("a");_.href=window.URL.createObjectURL(h),_.setAttribute("download",e),typeof _.download=="undefined"&&_.setAttribute("target","_blank"),_.classList.add("hidden"),_.style.position="fixed",document.body.appendChild(_);try{return _.click(),pt(_),!0}catch(t){return pt(_),t}}const le=e=>(vl("data-v-7a711d08"),e=e(),fl(),e),fa=le(()=>M("span",{style:{"font-weight":"bold"}},"Selection:",-1)),ma=le(()=>M("span",{style:{"font-weight":"bold"}},"Timeframe:",-1)),ba=le(()=>M("span",{style:{"font-weight":"bold"}},"Performer Users:",-1)),ga=le(()=>M("span",{style:{"font-weight":"bold"}},"Performer Groups:",-1)),ya=le(()=>M("span",{style:{"font-weight":"bold"}},"Related Users:",-1)),ha=le(()=>M("span",{style:{"font-weight":"bold"}},"Actions:",-1)),_a=le(()=>M("span",{style:{"font-weight":"bold"}},"Decription Filter:",-1)),Sa=le(()=>M("span",{style:{"font-weight":"bold"}},"Size:",-1)),wa=et({__name:"ActivityTableSummaryCard",props:{showSelections:{type:Boolean,default:!1},selections:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},timeframes:{type:Object,default:()=>({})},tableRef:{type:Object,default:null}},setup(e){const a=tt(),i=Pt();return(b,v)=>(F(),E(he,null,{default:c(()=>[n(he,{class:"col"},{default:c(()=>[n(rl,{class:"q-pa-md",style:{"background-color":"var(--primary-white)"}},{default:c(()=>[n(L,null,{default:c(()=>[P(" Summary ")]),_:1}),e.showSelections?(F(),E(L,{key:0},{default:c(()=>[fa,n(j,{color:"teal-3"},{default:c(()=>{var u;return[P(D(((u=e.selections.find(r=>r.value===e.filters.selection))==null?void 0:u.label)||""),1)]}),_:1})]),_:1})):Ne("",!0),n(L,null,{default:c(()=>[ma,n(j,{color:"orange-3"},{default:c(()=>{var u;return[P(D(((u=e.timeframes.find(r=>r.value===e.filters.timeframe))==null?void 0:u.label)||""),1)]}),_:1}),P("from "+D(e.filters.dateStart)+" to "+D(e.filters.dateEnd),1)]),_:1}),n(L,null,{default:c(()=>{var u;return[ba,(F(!0),ce(ve,null,de([...new Set((u=e.tableRef)==null?void 0:u.computedRows.map(r=>r.performerUserFullName))],(r,f)=>(F(),E(j,{key:f,color:"purple-3"},{default:c(()=>[P(D(r),1)]),_:2},1024))),128))]}),_:1}),n(L,null,{default:c(()=>{var u;return[ga,(F(!0),ce(ve,null,de([...new Set((u=e.tableRef)==null?void 0:u.computedRows.map(r=>r.performerUserGroupName))],(r,f)=>(F(),E(j,{key:f,color:"teal-3"},{default:c(()=>[P(D(r),1)]),_:2},1024))),128))]}),_:1}),n(L,null,{default:c(()=>{var u;return[ya,(F(!0),ce(ve,null,de([...new Set((u=e.tableRef)==null?void 0:u.computedRows.map(r=>r.relatedUserFullName).filter(Boolean))],(r,f)=>(F(),E(j,{key:f,color:"light-green-3"},{default:c(()=>[P(D(r),1)]),_:2},1024))),128))]}),_:1}),n(L,null,{default:c(()=>{var u;return[ha,(F(!0),ce(ve,null,de([...new Set((u=e.tableRef)==null?void 0:u.computedRows.map(r=>r.action))],(r,f)=>(F(),E(j,{color:"blue-3",key:f},{default:c(()=>[P(D(r),1)]),_:2},1024))),128))]}),_:1}),n(L,null,{default:c(()=>{var u;return[_a,P(" "+D(((u=e.filters.term)==null?void 0:u.length)>0?e.filters.term:"None"),1)]}),_:1}),n(L,null,{default:c(()=>{var u;return[Sa,P(" Showing "+D((u=e.tableRef)==null?void 0:u.computedRowsNumber)+" of "+D(ne(a).activity.length)+" Rows where ",1),n(j,{color:"pink-3"},{default:c(()=>[P(D(ne(i).selectedUser.fullName),1)]),_:1}),P("was involved")]}),_:1})]),_:1})]),_:1})]),_:1}))}});var Ca=Rt(wa,[["__scopeId","data-v-7a711d08"]]);const pa=et({__name:"RecordActivityCard",setup(e){const a=tt(),i=Q(),b=Q({action:"Perform DevOps",description:"Full Access credentials has been updated on server <server>, file <filename> by <your-name>",file:{base64:"",name:""}});return ml(()=>{i.value&&URL.revokeObjectURL(i.value)}),(v,u)=>(F(),E(he,{style:{width:"auto","min-width":"26rem",height:"auto"}},{default:c(()=>[n(L,{header:""},{default:c(()=>[P("Add Activity")]),_:1}),n(Ve,null,{default:c(()=>[n(j,{"text-color":"white",icon:"sym_o_terminal",color:"blue-grey-10",label:b.value.action},null,8,["label"])]),_:1}),n(Ve,null,{default:c(()=>[n(Dt,null,{default:c(()=>[n(Ae,{outlined:"",autogrow:"",modelValue:b.value.description,"onUpdate:modelValue":u[0]||(u[0]=r=>b.value.description=r),label:"Description",type:"textarea",rules:[r=>!!r||"Required"],style:{height:"6rem"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),n(ye,null,{default:c(()=>[n(Ve,null,{default:c(()=>[Xe(n(A,{dense:"",label:"Cancel"},null,512),[[_t]])]),_:1}),n(oe),n(Ve,null,{default:c(()=>[Xe(n(A,{dense:"",color:"primary",label:"Save",onClick:u[1]||(u[1]=r=>ne(a).createActivity(b.value))},null,512),[[_t]])]),_:1})]),_:1})]),_:1}))}});const ka={class:"q-ma-md column",style:{gap:"0.6rem"}},qa={class:"q-ma-md column",style:{gap:"0.6rem"}},Ua={class:"q-mx-md"},xa=et({__name:"ActivityTable",props:{showSelections:{type:Boolean,default:!0}},setup(e){const a=tt(),i=Pt();Ze(()=>{q("today")});const b=Q(null),v=Q([{name:"rowNumber",label:"rowNumber",align:"right",field:"",sortable:!1},{name:"activityId",label:"ID",align:"left",field:"activityId",sortable:!1},{name:"date",label:"Date",align:"left",field:"date",sortable:!1},{name:"time",label:"Time",align:"left",field:"time",sortable:!1},{name:"performerUserFullName",label:"User",align:"left",field:"performerUserFullName",sortable:!1},{name:"performerUserGroupName",label:"Group",align:"left",field:"performerUserGroupName",sortable:!1},{name:"relatedUserFullName",label:"Related User",align:"left",field:"relatedUserFullName",sortable:!1},{name:"action",label:"Action",align:"left",field:"action",sortable:!1},{name:"description",label:"Description",align:"left",field:"description",sortable:!1}]),u=["rowNumber","date","time","performerUserFullName","performerUserGroupName","relatedUserFullName","action","description"],r=Q(!1),f=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"monthToDate",label:"Month to Date"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom"}],h=[{value:"access",label:"Access"},{value:"userCreated",label:"New Users"},{value:"userUpdateGroup",label:"Group Changes"},{value:"userInactive",label:"Inactivated"}],_=w=>{switch(t.value.selection=w,t.value.performerUserId=[],t.value.relatedUserId=[],t.value.actions=[],t.value.term="",w){case"access":a.readActivity(wl.value);break;case"userCreated":a.readActivity(Sl.value);break;case"userUpdateGroup":a.readActivity(_l.value);break;case"userInactive":a.readActivity(hl.value);break}},t=Q({term:"",selection:"access",timeframe:"today",dateStart:"",dateEnd:"",searchColumns:["description"],performerUserId:[],performerUserGroupId:[],relatedUserId:[],actions:[]}),S=g(()=>[...new Set(a.activity.map(w=>w.action))]),x=g(()=>a.activity.map(w=>({value:w.performerUserId,label:w.performerUserFullName})).filter((w,s,o)=>s===o.findIndex(m=>m.label===w.label&&m.value===w.value))),T=g(()=>a.activity.map(w=>({value:w.performerUserGroupId||"",label:w.performerUserGroupName||""})).filter((w,s,o)=>s===o.findIndex(m=>m.label===w.label&&m.value===w.value))),R=g(()=>a.activity.map(w=>({value:w.relatedUserId,label:w.relatedUserFullName})).filter((w,s,o)=>s===o.findIndex(m=>m.label===w.label&&m.value===w.value))),q=w=>{t.value.timeframe=w;const s=bl(),o=gl(s);let m=new Date,I=new Date;switch(w){case"today":m=o,I=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),23,59,59));break;case"yesterday":m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()-1)),I=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()-1,23,59,59));break;case"monthToDate":m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),1)),I=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),23,59,59));break;case"lastMonth":m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()-1,1)),I=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),0));break;case"custom":m=new Date(t.value.dateStart),I=new Date(t.value.dateEnd),isNaN(m.getTime())||isNaN(I.getTime())?Ie({message:"Invalid custom date range",color:"negative",icon:"warning"}):I<m&&Ie({message:"End date cannot be before start date",color:"negative",icon:"warning"});break}t.value.dateStart=bt(m),t.value.dateEnd=bt(I)},p=g(()=>{const w=gt(t.value.dateStart),s=gt(t.value.dateEnd);return a.activity.filter(o=>{var Ce,fe,pe,me;const m=new Date(o.createdAt),I=new Date(Date.UTC(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate())),ae=I>=w&&I<=s,O=!((Ce=t.value.performerUserId)!=null&&Ce.length)||t.value.performerUserId.includes(o.performerUserId),z=!((fe=t.value.relatedUserId)!=null&&fe.length)||t.value.relatedUserId.includes(o.relatedUserId),G=!((pe=t.value.actions)!=null&&pe.length)||t.value.actions.includes(o.action),J=!((me=t.value.performerUserGroupId)!=null&&me.length)||o.performerUserGroupId&&t.value.performerUserGroupId.includes(o.performerUserGroupId);return ae&&O&&z&&G&&J})}),N=()=>{if(!b.value)return;const w=b.value.filteredSortedRows,s=[v.value.map(O=>ht(O.label))].concat(w.map(O=>v.value.map(z=>ht(typeof z.field=="function"?z.field(O):O[z.field===void 0?z.name:z.field])).join(","))).join(`\r
`),o=new Date,I=`User Activity ${`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()} ${o.getHours()}-${o.getMinutes()}-${o.getSeconds()}`}.csv`;va(I,s,"text/csv")!==!0?Ie({message:"Browser denied file download...",color:"negative",icon:"warning"}):Ie({message:"File downloaded successfully...",color:"positive",icon:"download"})};return H(()=>i.selectedUser,()=>{t.value.performerUserId=[],t.value.relatedUserId=[],t.value.actions=[],t.value.term=""}),(w,s)=>(F(),E(he,null,{default:c(()=>[n(da,{ref_key:"tableRef",ref:b,rows:p.value,columns:v.value,"row-key":"activityId","rows-per-page-options":[-1],"visible-columns":u,filter:t.value.term,dense:"","hide-pagination":"","virtual-scroll":"",class:"header-table",style:{"min-height":"80vh",margin:"0.4rem"}},{top:c(()=>[n(L,{class:"text-h3"},{default:c(()=>[P(" Activity ")]),_:1}),n(oe),e.showSelections?(F(),E(Cl,{key:0},{default:c(()=>[(F(),ce(ve,null,de(h,o=>n(A,{class:"q-px-md",key:o.value,dense:"",label:o.label,color:t.value.selection===o.value?"blue":"primary",onClick:m=>_(o.value)},null,8,["label","color","onClick"])),64))]),_:1})):Ne("",!0),n(oe),n(j,{class:"bg-blue text-white q-ma-md"},{default:c(()=>[n(Z,{icon:"sym_o_priority_high"}),P(" Dates in UTC ")]),_:1}),n(he,{class:"q-gutter-x-md"},{default:c(()=>[w.$route.name==="Admin"?(F(),E(re,{key:0,round:"",color:"primary",label:"Log DevOps Activity"},{default:c(()=>[n(pa)]),_:1})):Ne("",!0),n(A,{color:"primary",icon:"sym_o_download",label:"Download",onClick:N}),n(A,{dense:"",icon:r.value?"sym_o_more_vert":"sym_o_more_horiz",onClick:s[0]||(s[0]=o=>r.value=!r.value),class:"q-ml-md"},null,8,["icon"])]),_:1}),Xe(n(pl,null,{default:c(()=>[n(Ca,{tableRef:b.value,showSelections:e.showSelections,selections:h,timeframes:f,filters:t.value},null,8,["tableRef","showSelections","filters"])]),_:1},512),[[yl,r.value]])]),"header-cell-rowNumber":c(o=>[n(K,{props:o},{default:c(()=>[n(_e,{size:"xs",color:"grey",name:"sym_o_tag"})]),_:2},1032,["props"])]),"header-cell-date":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_filter_list",size:"sm","text-color":"primary"}),P(" "+D(o.col.label),1)]),default:c(()=>[M("div",ka,[(F(),ce(ve,null,de(f,m=>n(A,{key:m.value,outline:"",label:m.label,color:t.value.timeframe===m.value?"primary":"",onClick:I=>q(m.value)},null,8,["label","color","onClick"])),64))]),M("div",qa,[n(Ae,{outlined:"",debounce:"300",modelValue:t.value.dateStart,"onUpdate:modelValue":s[1]||(s[1]=m=>t.value.dateStart=m),label:"Date Start",type:"date",disable:t.value.timeframe!=="custom"},null,8,["modelValue","disable"]),n(Ae,{outlined:"",debounce:"300",modelValue:t.value.dateEnd,"onUpdate:modelValue":s[2]||(s[2]=m=>t.value.dateEnd=m),label:"Date End",type:"date",disable:t.value.timeframe!=="custom"},null,8,["modelValue","disable"])])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-time":c(o=>[n(K,{props:o},{default:c(()=>[n(L,{style:{"font-size":"16px"}},{default:c(()=>[P(D(o.col.label),1)]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserFullName":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_filter_list",size:"sm","text-color":t.value.performerUserId&&t.value.performerUserId.length>0?"primary":""},null,8,["text-color"]),P(" "+D(o.col.label),1)]),default:c(()=>[n(ye,{style:{width:"256px"}},{default:c(()=>[n(oe),n(A,{dense:"",label:"Clear",onClick:s[3]||(s[3]=m=>t.value.performerUserId=[])})]),_:1}),n(Be,{modelValue:t.value.performerUserId,"onUpdate:modelValue":s[4]||(s[4]=m=>t.value.performerUserId=m),options:x.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserGroupName":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_filter_list",size:"sm","text-color":t.value.performerUserGroupId&&t.value.performerUserGroupId.length>0?"primary":""},null,8,["text-color"]),P(" "+D(o.col.label),1)]),default:c(()=>[n(ye,{style:{width:"256px"}},{default:c(()=>[n(oe),n(A,{dense:"",label:"Clear",onClick:s[5]||(s[5]=m=>t.value.performerUserGroupId=[])})]),_:1}),n(Be,{modelValue:t.value.performerUserGroupId,"onUpdate:modelValue":s[6]||(s[6]=m=>t.value.performerUserGroupId=m),options:T.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-relatedUserFullName":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_filter_list",size:"sm","text-color":t.value.relatedUserId&&t.value.relatedUserId.length>0?"primary":""},null,8,["text-color"]),P(" "+D(o.col.label),1)]),default:c(()=>[n(ye,{style:{width:"256px"}},{default:c(()=>[n(oe),n(A,{dense:"",label:"Clear",onClick:s[7]||(s[7]=m=>t.value.relatedUserId=[])})]),_:1}),n(Be,{modelValue:t.value.relatedUserId,"onUpdate:modelValue":s[8]||(s[8]=m=>t.value.relatedUserId=m),options:R.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-action":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_filter_list",size:"sm","text-color":t.value.actions&&t.value.actions.length>0?"primary":""},null,8,["text-color"]),P(" "+D(o.col.label),1)]),default:c(()=>[n(ye,{style:{width:"192px"}},{default:c(()=>[n(oe),n(A,{dense:"",label:"Clear",onClick:s[9]||(s[9]=m=>t.value.actions=[])})]),_:1}),n(Be,{modelValue:t.value.actions,"onUpdate:modelValue":s[10]||(s[10]=m=>t.value.actions=m),options:S.value.map(m=>({label:m,value:m})),type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-description":c(o=>[n(K,{props:o},{default:c(()=>[n(re,{dense:"",round:""},{label:c(()=>[n(Z,{icon:"sym_o_search",size:"sm","text-color":t.value.term!==""?"primary":""},null,8,["text-color"]),P(" "+D(o.col.label),1)]),default:c(()=>[M("div",Ua,[n(Ae,{outlined:"",dense:"",debounce:"300",modelValue:t.value.term,"onUpdate:modelValue":s[12]||(s[12]=m=>t.value.term=m),type:"search",placeholder:"Description search\u2026",style:{"align-self":"center"}},{append:c(()=>[n(_e,{name:t.value.term?"close":"search",class:yt({"cursor-pointer":t.value.term}),onClick:s[11]||(s[11]=m=>t.value.term?t.value.term="":null)},null,8,["name","class"])]),_:1},8,["modelValue"])])]),_:2},1024)]),_:2},1032,["props"])]),body:c(o=>[n(Al,{props:o},{default:c(()=>[n(ee,{class:"text-grey"},{default:c(()=>[P(D(o.rowIndex+1),1)]),_:2},1024),n(ee,{key:"date",props:o},{default:c(()=>[P(D(o.row.date),1)]),_:2},1032,["props"]),n(ee,{key:"time",props:o},{default:c(()=>[P(D(o.row.time),1)]),_:2},1032,["props"]),n(ee,{key:"performerUserFullName",props:o},{default:c(()=>[n(Dt,null,{default:c(()=>[P(D(o.row.performerUserFullName),1)]),_:2},1024)]),_:2},1032,["props"]),n(ee,{key:"performerUserGroupName",props:o},{default:c(()=>[n(j,{"text-color":"white",color:"cyan",label:o.row.performerUserGroupName},null,8,["label"])]),_:2},1032,["props"]),n(ee,{key:"relatedUserFullName",props:o},{default:c(()=>[M("span",{class:yt({"text-grey":!o.row.relatedUserFullName})},D(o.row.relatedUserFullName||"No one"),3)]),_:2},1032,["props"]),n(ee,{key:"action",props:o},{default:c(()=>{var m;return[n(j,{"text-color":"white",color:((m=ne(a).activityActions.find(I=>I.action===o.row.action))==null?void 0:m.color)||"grey"},{default:c(()=>{var I,ae;return[n(Z,{"text-color":"white",icon:((I=ne(a).activityActions.find(O=>O.action===o.row.action))==null?void 0:I.icon)||"question_mark",color:((ae=ne(a).activityActions.find(O=>O.action===o.row.action))==null?void 0:ae.color)||"grey"},null,8,["icon","color"]),P(" "+D(o.row.action),1)]}),_:2},1032,["color"])]}),_:2},1032,["props"]),n(ee,{key:"description",props:o},{default:c(()=>[o.row.attachment?(F(),E(A,{key:0,size:"sm",icon:"sym_o_download","text-color":"primary",dense:"",onClick:m=>ne(a).downloadAttachment(o.row.activityId)},null,8,["onClick"])):Ne("",!0),P(" "+D(o.row.description),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])]),_:1}))}});var La=Rt(xa,[["__scopeId","data-v-0b5b2f62"]]);export{La as A};
