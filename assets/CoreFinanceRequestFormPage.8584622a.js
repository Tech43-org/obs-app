import{Q as mt}from"./QToolbarTitle.66ac37f5.js";import{v as vt,x as _e,O as L,z as C,H as Ne,G as bt,bj as Oe,a0 as H,aP as pt,A as S,ae as Ie,ad as gt,av as _t,a9 as ie,V as yt,C as he,aI as Ct,s as me,F as ne,y as ht,at as Pt,au as wt,B as Ee,ao as Tt,i as Pe,e as we,o as $,k as X,w as a,l as e,X as je,a1 as ze,m as n,a8 as ee,p as V,t as Q,a2 as We,_ as Te,a3 as He,a4 as Ke,a5 as oe,u as qt,a as Vt,$ as Rt,U as Dt,Q as Me,n as Be,aU as Ut,aT as ye,bi as Lt}from"./index.18e7b13f.js";import{Q as qe}from"./QSpace.01a593f3.js";import{u as St,b as Qt,a as se,Q as re}from"./QItem.e97e7b2d.js";import{Q as xt}from"./QToolbar.b96e205f.js";import{Q as kt}from"./QHeader.bab0505c.js";import{u as It,Q as A,a as q,b as Z}from"./use-form.2e4f209f.js";import{Q as K}from"./QInput.6855e887.js";import{l as Ce,u as Fe,r as Mt,Q as Ge}from"./QSelect.a339a826.js";import{Q as Bt}from"./QChip.a51c313e.js";import{Q as te}from"./QTooltip.82daee7d.js";import{Q as G}from"./QBadge.12868d6d.js";import{Q as M}from"./QRadio.712f8c5f.js";import{b as Ft,Q as At,a as $t}from"./QLayout.1e10a2d9.js";import{u as Nt,a as Ot,b as Et,c as jt}from"./use-panel.2276aa2d.js";import{Q as zt}from"./QPage.5fe767ee.js";import{Q as Wt}from"./QFile.3a8cdb71.js";import{Q as Xe}from"./QCardActions.e2d4ce61.js";import{Q as Je}from"./QList.77eebc8e.js";import{Q as Ht}from"./QBtnGroup.311ab0ce.js";import"./option-sizes.0fe0ec6c.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";let Kt=0;const Gt=["click","keydown"],Xt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Kt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Jt(t,g,h,o){const c=vt(Oe,_e);if(c===_e)return console.error("QTab/QRouteTab component needs to be child of QTabs"),_e;const{proxy:b}=he(),m=L(null),s=L(null),p=L(null),y=C(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),N=C(()=>c.currentModel.value===t.name),E=C(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(N.value===!0?" q-tab--active"+(c.tabProps.value.activeClass?" "+c.tabProps.value.activeClass:"")+(c.tabProps.value.activeColor?` text-${c.tabProps.value.activeColor}`:"")+(c.tabProps.value.activeBgColor?` bg-${c.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&c.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||c.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0?o.linkClass.value:"")),x=C(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(c.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),R=C(()=>t.disable===!0||c.hasFocus.value===!0||N.value===!1&&c.hasActiveTab.value===!0?-1:t.tabindex||0);function D(d,i){if(i!==!0&&m.value!==null&&m.value.focus(),t.disable===!0){o!==void 0&&o.hasRouterLink.value===!0&&Ie(d);return}if(o===void 0){c.updateModel({name:t.name}),h("click",d);return}if(o.hasRouterLink.value===!0){const r=(T={})=>{let I;const F=T.to===void 0||Ct(T.to,t.to)===!0?c.avoidRouteWatcher=It():null;return o.navigateToRouterLink(d,{...T,returnRouterError:!0}).catch(Y=>{I=Y}).then(Y=>{if(F===c.avoidRouteWatcher&&(c.avoidRouteWatcher=!1,I===void 0&&(Y===void 0||Y.message.startsWith("Avoided redundant navigation")===!0)&&c.updateModel({name:t.name})),T.returnRouterError===!0)return I!==void 0?Promise.reject(I):Y})};h("click",d,r),d.defaultPrevented!==!0&&r();return}h("click",d)}function k(d){gt(d,[13,32])?D(d,!0):_t(d)!==!0&&d.keyCode>=35&&d.keyCode<=40&&d.altKey!==!0&&d.metaKey!==!0&&c.onKbdNavigate(d.keyCode,b.$el)===!0&&Ie(d),h("keydown",d)}function j(){const d=c.tabProps.value.narrowIndicator,i=[],r=S("div",{ref:p,class:["q-tab__indicator",c.tabProps.value.indicatorClass]});t.icon!==void 0&&i.push(S(ie,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&i.push(S("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&i.push(t.alertIcon!==void 0?S(ie,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):S("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),d===!0&&i.push(r);const T=[S("div",{class:"q-focus-helper",tabindex:-1,ref:m}),S("div",{class:x.value},yt(g.default,i))];return d===!1&&T.push(r),T}const B={name:C(()=>t.name),rootRef:s,tabIndicatorRef:p,routeData:o};Ne(()=>{c.unregisterTab(B)}),bt(()=>{c.registerTab(B)});function J(d,i){const r={ref:s,class:E.value,tabindex:R.value,role:"tab","aria-selected":N.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:D,onKeydown:k,...i};return H(S(d,r,j()),[[pt,y.value]])}return{renderTab:J,$tabs:c}}var Ae=me({name:"QTab",props:Xt,emits:Gt,setup(t,{slots:g,emit:h}){const{renderTab:o}=Jt(t,g,h);return()=>o("div")}});function Yt(t,g,h){const o=h===!0?["left","right"]:["top","bottom"];return`absolute-${g===!0?o[0]:o[1]}${t?` text-${t}`:""}`}const Zt=["left","center","right","justify"];var ea=me({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>Zt.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:g,emit:h}){const{proxy:o}=he(),{$q:c}=o,{registerTick:b}=Ce(),{registerTick:m}=Ce(),{registerTick:s}=Ce(),{registerTimeout:p,removeTimeout:y}=Fe(),{registerTimeout:N,removeTimeout:E}=Fe(),x=L(null),R=L(null),D=L(t.modelValue),k=L(!1),j=L(!0),B=L(!1),J=L(!1),d=[],i=L(0),r=L(!1);let T=null,I=null,F;const Y=C(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:Yt(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),Ye=C(()=>{const l=i.value,u=D.value;for(let f=0;f<l;f++)if(d[f].name.value===u)return!0;return!1}),Ze=C(()=>`q-tabs__content--align-${k.value===!0?"left":J.value===!0?"justify":t.align}`),et=C(()=>`q-tabs row no-wrap items-center q-tabs--${k.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),tt=C(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Ze.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),ue=C(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),de=C(()=>t.vertical!==!0&&c.lang.rtl===!0),ve=C(()=>Mt===!1&&de.value===!0);ne(de,le),ne(()=>t.modelValue,l=>{be({name:l,setCurrent:!0,skipEmit:!0})}),ne(()=>t.outsideArrows,ce);function be({name:l,setCurrent:u,skipEmit:f}){D.value!==l&&(f!==!0&&t["onUpdate:modelValue"]!==void 0&&h("update:modelValue",l),(u===!0||t["onUpdate:modelValue"]===void 0)&&(at(D.value,l),D.value=l))}function ce(){b(()=>{Ve({width:x.value.offsetWidth,height:x.value.offsetHeight})})}function Ve(l){if(ue.value===void 0||R.value===null)return;const u=l[ue.value.container],f=Math.min(R.value[ue.value.scroll],Array.prototype.reduce.call(R.value.children,(w,_)=>w+(_[ue.value.content]||0),0)),P=u>0&&f>u;k.value=P,P===!0&&m(le),J.value=u<parseInt(t.breakpoint,10)}function at(l,u){const f=l!=null&&l!==""?d.find(w=>w.name.value===l):null,P=u!=null&&u!==""?d.find(w=>w.name.value===u):null;if(f&&P){const w=f.tabIndicatorRef.value,_=P.tabIndicatorRef.value;T!==null&&(clearTimeout(T),T=null),w.style.transition="none",w.style.transform="none",_.style.transition="none",_.style.transform="none";const v=w.getBoundingClientRect(),U=_.getBoundingClientRect();_.style.transform=t.vertical===!0?`translate3d(0,${v.top-U.top}px,0) scale3d(1,${U.height?v.height/U.height:1},1)`:`translate3d(${v.left-U.left}px,0,0) scale3d(${U.width?v.width/U.width:1},1,1)`,s(()=>{T=setTimeout(()=>{T=null,_.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",_.style.transform="none"},70)})}P&&k.value===!0&&ae(P.rootRef.value)}function ae(l){const{left:u,width:f,top:P,height:w}=R.value.getBoundingClientRect(),_=l.getBoundingClientRect();let v=t.vertical===!0?_.top-P:_.left-u;if(v<0){R.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(v),le();return}v+=t.vertical===!0?_.height-w:_.width-f,v>0&&(R.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(v),le())}function le(){const l=R.value;if(l===null)return;const u=l.getBoundingClientRect(),f=t.vertical===!0?l.scrollTop:Math.abs(l.scrollLeft);de.value===!0?(j.value=Math.ceil(f+u.width)<l.scrollWidth-1,B.value=f>0):(j.value=f>0,B.value=t.vertical===!0?Math.ceil(f+u.height)<l.scrollHeight:Math.ceil(f+u.width)<l.scrollWidth)}function Re(l){I!==null&&clearInterval(I),I=setInterval(()=>{nt(l)===!0&&z()},5)}function De(){Re(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ue(){Re(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function z(){I!==null&&(clearInterval(I),I=null)}function lt(l,u){const f=Array.prototype.filter.call(R.value.children,U=>U===u||U.matches&&U.matches(".q-tab.q-focusable")===!0),P=f.length;if(P===0)return;if(l===36)return ae(f[0]),f[0].focus(),!0;if(l===35)return ae(f[P-1]),f[P-1].focus(),!0;const w=l===(t.vertical===!0?38:37),_=l===(t.vertical===!0?40:39),v=w===!0?-1:_===!0?1:void 0;if(v!==void 0){const U=de.value===!0?-1:1,O=f.indexOf(u)+v*U;return O>=0&&O<P&&(ae(f[O]),f[O].focus({preventScroll:!0})),!0}}const ot=C(()=>ve.value===!0?{get:l=>Math.abs(l.scrollLeft),set:(l,u)=>{l.scrollLeft=-u}}:t.vertical===!0?{get:l=>l.scrollTop,set:(l,u)=>{l.scrollTop=u}}:{get:l=>l.scrollLeft,set:(l,u)=>{l.scrollLeft=u}});function nt(l){const u=R.value,{get:f,set:P}=ot.value;let w=!1,_=f(u);const v=l<_?-1:1;return _+=v*5,_<0?(w=!0,_=0):(v===-1&&_<=l||v===1&&_>=l)&&(w=!0,_=l),P(u,_),le(),w}function Le(l,u){for(const f in l)if(l[f]!==u[f])return!1;return!0}function rt(){let l=null,u={matchedLen:0,queryDiff:9999,hrefLen:0};const f=d.filter(v=>v.routeData!==void 0&&v.routeData.hasRouterLink.value===!0),{hash:P,query:w}=o.$route,_=Object.keys(w).length;for(const v of f){const U=v.routeData.exact.value===!0;if(v.routeData[U===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:O,query:pe,matched:ct,href:ft}=v.routeData.resolvedLink.value,ge=Object.keys(pe).length;if(U===!0){if(O!==P||ge!==_||Le(w,pe)===!1)continue;l=v.name.value;break}if(O!==""&&O!==P||ge!==0&&Le(pe,w)===!1)continue;const W={matchedLen:ct.length,queryDiff:_-ge,hrefLen:ft.length-O.length};if(W.matchedLen>u.matchedLen){l=v.name.value,u=W;continue}else if(W.matchedLen!==u.matchedLen)continue;if(W.queryDiff<u.queryDiff)l=v.name.value,u=W;else if(W.queryDiff!==u.queryDiff)continue;W.hrefLen>u.hrefLen&&(l=v.name.value,u=W)}l===null&&d.some(v=>v.routeData===void 0&&v.name.value===D.value)===!0||be({name:l,setCurrent:!0})}function it(l){if(y(),r.value!==!0&&x.value!==null&&l.target&&typeof l.target.closest=="function"){const u=l.target.closest(".q-tab");u&&x.value.contains(u)===!0&&(r.value=!0,k.value===!0&&ae(u))}}function st(){p(()=>{r.value=!1},30)}function fe(){Qe.avoidRouteWatcher===!1?N(rt):E()}function Se(){if(F===void 0){const l=ne(()=>o.$route.fullPath,fe);F=()=>{l(),F=void 0}}}function ut(l){d.push(l),i.value++,ce(),l.routeData===void 0||o.$route===void 0?N(()=>{if(k.value===!0){const u=D.value,f=u!=null&&u!==""?d.find(P=>P.name.value===u):null;f&&ae(f.rootRef.value)}}):(Se(),l.routeData.hasRouterLink.value===!0&&fe())}function dt(l){d.splice(d.indexOf(l),1),i.value--,ce(),F!==void 0&&l.routeData!==void 0&&(d.every(u=>u.routeData===void 0)===!0&&F(),fe())}const Qe={currentModel:D,tabProps:Y,hasFocus:r,hasActiveTab:Ye,registerTab:ut,unregisterTab:dt,verifyRouteModel:fe,updateModel:be,onKbdNavigate:lt,avoidRouteWatcher:!1};ht(Oe,Qe);function xe(){T!==null&&clearTimeout(T),z(),F!==void 0&&F()}let ke;return Ne(xe),Pt(()=>{ke=F!==void 0,xe()}),wt(()=>{ke===!0&&Se(),ce()}),()=>S("div",{ref:x,class:et.value,role:"tablist",onFocusin:it,onFocusout:st},[S(Ft,{onResize:Ve}),S("div",{ref:R,class:tt.value,onScroll:le},Ee(g.default)),S(ie,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||c.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:De,onTouchstartPassive:De,onMouseupPassive:z,onMouseleavePassive:z,onTouchendPassive:z}),S(ie,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(B.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||c.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:Ue,onTouchstartPassive:Ue,onMouseupPassive:z,onMouseleavePassive:z,onTouchendPassive:z})])}}),$e=me({name:"QTabPanel",props:Nt,setup(t,{slots:g}){return()=>S("div",{class:"q-tab-panel",role:"tabpanel"},Ee(g.default))}}),ta=me({name:"QTabPanels",props:{...Ot,...St},emits:Et,setup(t,{slots:g}){const h=he(),o=Qt(t,h.proxy.$q),{updatePanelsList:c,getPanelContent:b,panelDirectives:m}=jt(),s=C(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(c(g),Tt("div",{class:s.value},b(),"pan",t.swipeable,()=>m.value))}});const aa=t=>(He("data-v-5f439460"),t=t(),Ke(),t),la=aa(()=>oe("div",{class:"text-h6"},"POP Pricing per Location",-1)),oa=Pe({__name:"POPList",setup(t){const g=we();ne(()=>g.newCoreData.itemLocations,b=>{b.forEach(m=>{var p;const s=(p=g.locationsOptions)==null?void 0:p.find(y=>y.value===m.locationId);s&&(m.abbr=s.abbrev)})},{deep:!0});function h(b){return C(()=>{var s,p;const m=((p=(s=g.originalMetadata)==null?void 0:s.requestFinanceCore)==null?void 0:p.itemLocations)||{};return b in m})}const o=b=>C(()=>{var s,p;const m=(p=(s=g.originalMetadata)==null?void 0:s.requestFinanceCore)==null?void 0:p.itemLocations;if(m){const y=m[b];if(y)return"Requested by "+y.requester+" on "+y.date}return""}),c=C(()=>{const b={};for(const m of g.newCoreData.itemLocations)m.id&&(b[m.id]=o(m.id).value);return b});return(b,m)=>($(),X(A,null,{default:a(()=>[e(q,null,{default:a(()=>[e(Xe,null,{default:a(()=>[la,e(qe)]),_:1})]),_:1}),($(!0),je(We,null,ze(n(g).newCoreData.itemLocations,s=>($(),X(Je,{side:"",key:s.id,class:"bg-grey-2 menu"},{default:a(()=>[e(re,{class:"q-gutter-x-sm items-center"},{default:a(()=>[e(se,null,{default:a(()=>[e(Ge,{modelValue:s.locationId,"onUpdate:modelValue":p=>s.locationId=p,options:n(g).locationsOptions,dense:"",outlined:"","emit-value":"","map-options":"",disable:""},null,8,["modelValue","onUpdate:modelValue","options"]),e(G,{floating:"",rounded:"",label:s.abbr},null,8,["label"])]),_:2},1024),e(se,{side:""},{default:a(()=>[H(e(G,{rounded:"",color:"orange",label:"Pending",style:{position:"absolute",top:"-4px",right:"212px",left:"auto"}},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(s.id!==void 0?c.value[s.id]:""),1)]),_:2},1024)]),_:2},1536),[[ee,s.id?h(s.id).value:!1]]),e(K,{style:{"max-width":"7rem"},modelValue:s.price,"onUpdate:modelValue":p=>s.price=p,modelModifiers:{number:!0},type:"number",label:"Price","input-class":"text-right",outlined:"",dense:"",disable:s.id?h(s.id).value:!1},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1024),e(K,{style:{"max-width":"12rem"},modelValue:s.sapProductNumber,"onUpdate:modelValue":p=>s.sapProductNumber=p,label:"SAP Product Number",outlined:"",dense:"",disable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}});var na=Te(oa,[["__scopeId","data-v-5f439460"]]);const ra=t=>(He("data-v-f815163a"),t=t(),Ke(),t),ia=ra(()=>oe("div",{class:"text-h6"},"Unilateral Pricing",-1)),sa=Pe({__name:"UnilateralList",setup(t){const g=we();function h(b){return C(()=>{var s,p;const m=((p=(s=g.originalMetadata)==null?void 0:s.requestFinanceCore)==null?void 0:p.itemUnicable)||{};return b in m})}const o=b=>C(()=>{var s,p;const m=(p=(s=g.originalMetadata)==null?void 0:s.requestFinanceCore)==null?void 0:p.itemUnicable;if(m){const y=m[b];if(y)return"Requested by "+y.requester+" on "+y.date}return""}),c=C(()=>{const b={};for(const m of g.newCoreData.itemUnicable)m.id&&(b[m.id]=o(m.id).value);return b});return(b,m)=>($(),X(A,null,{default:a(()=>[e(q,null,{default:a(()=>[e(Xe,null,{default:a(()=>[ia,e(qe)]),_:1})]),_:1}),($(!0),je(We,null,ze(n(g).newCoreData.itemUnicable,(s,p)=>($(),X(Je,{side:"",key:p,class:"bg-grey-2 menu"},{default:a(()=>[e(re,{class:"q-gutter-x-sm"},{default:a(()=>[e(se,null,{default:a(()=>[e(Ht,{type:"radio",dense:"",flat:""},{default:a(()=>[e(M,{modelValue:s.type,"onUpdate:modelValue":y=>s.type=y,val:"Type 1",label:"Type 1",disable:""},null,8,["modelValue","onUpdate:modelValue"]),e(M,{modelValue:s.type,"onUpdate:modelValue":y=>s.type=y,val:"Type 2",label:"Type 2",disable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(K,{style:{"max-width":"7rem"},modelValue:s.price,"onUpdate:modelValue":y=>s.price=y,modelModifiers:{number:!0},type:"number",label:"Price","input-class":"text-right",outlined:"",dense:"",disable:s.id?h(s.id).value:!1},null,8,["modelValue","onUpdate:modelValue","disable"]),H(e(G,{rounded:"",floating:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(s.id!==void 0?c.value[s.id]:""),1)]),_:2},1024)]),_:2},1536),[[ee,s.id?h(s.id).value:!1]])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}});var ua=Te(sa,[["__scopeId","data-v-f815163a"]]);const da={class:"row items-center"},ca={class:"text-h6"},fa={class:"ellipsis"},ma={class:"row items-center"},va=Pe({__name:"CoreFinanceRequestFormPage",setup(t){const g=qt(),h=Vt(),o=we(),c=L(),b=L();Rt(()=>{g.readSettings(),h.readAllUsers(),o.readCoreFinanceRequestData()});async function m(d){b.value&&URL.revokeObjectURL(b.value),b.value=URL.createObjectURL(d);const i=await Lt(b.value);o.financeRequest.file&&c.value&&(o.financeRequest.file.base64=i,o.financeRequest.file.name=c.value.name)}const s=L("pop"),p=C(()=>!o.requestChanges||!o.financeRequest.userRecipient);function y(d){return C(()=>{var r;return d in(((r=o.originalMetadata)==null?void 0:r.requestFinanceCore)||{})})}const N=y("price"),E=y("priceType"),x=y("priceTypeParas"),R=y("priceParas"),D=y("priceTypeParasNewCustomer"),k=y("priceParasNewCustomer"),j=d=>C(()=>{var r,T;const i=(T=(r=o.originalMetadata)==null?void 0:r.requestFinanceCore)==null?void 0:T[d];return i?"Requested by "+i.requester+" on "+i.date:""}),B=j("price"),J=j("priceType");return Dt(()=>{b.value&&URL.revokeObjectURL(b.value)}),(d,i)=>($(),X(At,{view:"hHh lpR fFf"},{default:a(()=>[e(kt,null,{default:a(()=>[e(xt,{class:"bg-primary"},{default:a(()=>[e(mt,null,{default:a(()=>[V(" Edit Finance Core Data ")]),_:1}),e(re,null,{default:a(()=>[e(Me,{color:"primary",type:"cancel",label:"Cancel",onClick:i[0]||(i[0]=r=>n(o).cancelCoreFinanceRequest())}),e(qe),e(Me,{color:"primary",type:"submit",label:"Submit Request",onClick:i[1]||(i[1]=r=>n(o).sendCoreFinanceRequest()),disable:p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1}),e($t,null,{default:a(()=>[e(zt,null,{default:a(()=>[oe("div",da,[e(A,{class:"col"},{default:a(()=>[e(q,null,{default:a(()=>[e(Z,null,{default:a(()=>[V("Requester")]),_:1}),e(K,{modelValue:n(g).loggedUser.fullName,"onUpdate:modelValue":i[2]||(i[2]=r=>n(g).loggedUser.fullName=r),readonly:"",dense:""},null,8,["modelValue"])]),_:1})]),_:1}),e(A,{class:"col"},{default:a(()=>[e(q,null,{default:a(()=>[e(Z,null,{default:a(()=>[V("Request to")]),_:1}),e(Ge,{modelValue:n(o).financeCoreRequest.userRecipient,"onUpdate:modelValue":i[3]||(i[3]=r=>n(o).financeCoreRequest.userRecipient=r),options:n(h).userDeptHeads,"option-value":"fullName","option-label":"fullName",dense:""},{option:a(r=>[e(re,null,{default:a(()=>[e(se,{avatar:""},{default:a(()=>[e(Be,{size:"sm","text-color":"white",style:Ut({backgroundColor:r.opt.color})},{default:a(()=>[V(Q(r.opt.initials),1)]),_:2},1032,["style"])]),_:2},1024),e(se,null,{default:a(()=>[oe("span",ca,Q(r.opt.fullName),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(A,{class:"col"},{default:a(()=>[e(q,null,{default:a(()=>[e(Z,null,{default:a(()=>[V("Attachment")]),_:1}),e(n(Wt),{modelValue:c.value,"onUpdate:modelValue":[i[4]||(i[4]=r=>c.value=r),m],label:"Select File",outlined:"",clearable:"",dense:""},{file:a(({file:r})=>[e(Bt,{size:"sm",color:"primary text-white"},{default:a(()=>[e(Be,null,{default:a(()=>[e(ie,{name:"sym_o_description"})]),_:1}),oe("div",fa,Q(r.name),1)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),e(A,null,{default:a(()=>[e(q,null,{default:a(()=>[e(K,{modelValue:n(o).financeCoreRequest.requestMessage,"onUpdate:modelValue":i[5]||(i[5]=r=>n(o).financeCoreRequest.requestMessage=r),type:"textarea",rows:"1",label:"Request Message",outlined:"",dense:""},null,8,["modelValue"])]),_:1})]),_:1}),e(A,null,{default:a(()=>[oe("div",ma,[e(Z,{header:""},{default:a(()=>[V(Q(n(o).financeCoreRequest.itemCode),1)]),_:1}),e(re,null,{default:a(()=>[e(Z,{header:""},{default:a(()=>[V(Q(n(o).financeCoreRequest.itemDescription),1)]),_:1})]),_:1})])]),_:1}),"priceType"in n(o).newCoreData?($(),X(A,{key:0},{default:a(()=>[e(q,{horizontal:"",class:"q-py-none"},{default:a(()=>[e(q,{class:"col-4 q-py-md"},{default:a(()=>[H(e(G,{floating:"",rounded:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(n(J)),1)]),_:1})]),_:1},512),[[ee,n(E)]]),e(M,{modelValue:n(o).newCoreData.priceType,"onUpdate:modelValue":i[6]||(i[6]=r=>n(o).newCoreData.priceType=r),val:"POA",label:"POA",disable:n(E)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceType,"onUpdate:modelValue":i[7]||(i[7]=r=>n(o).newCoreData.priceType=r),val:"TBD",label:"TBD",disable:n(E)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceType,"onUpdate:modelValue":i[8]||(i[8]=r=>n(o).newCoreData.priceType=r),val:"FOC",label:"FOC",disable:n(E)},null,8,["modelValue","disable"])]),_:1}),e(q,{class:"col-3 q-py-md"},{default:a(()=>[H(e(G,{floating:"",rounded:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(n(B)),1)]),_:1})]),_:1},512),[[ee,n(N)]]),e(K,{modelValue:n(o).newCoreData.price,"onUpdate:modelValue":i[9]||(i[9]=r=>n(o).newCoreData.price=r),modelModifiers:{number:!0},type:"number",label:"Price","input-class":"text-right",outlined:"",dense:"",disable:n(N)},null,8,["modelValue","disable"])]),_:1})]),_:1})]),_:1})):ye("",!0),"priceTypeParas"in n(o).newCoreData?($(),X(A,{key:1},{default:a(()=>[e(q,{horizontal:""},{default:a(()=>[e(q,null,{default:a(()=>[e(Z,null,{default:a(()=>[V("Price Paras ")]),_:1})]),_:1}),e(q,{class:"q-py-md"},{default:a(()=>[e(M,{modelValue:n(o).newCoreData.priceTypeParas,"onUpdate:modelValue":i[10]||(i[10]=r=>n(o).newCoreData.priceTypeParas=r),val:"POA",label:"POA",disable:n(x)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceTypeParas,"onUpdate:modelValue":i[11]||(i[11]=r=>n(o).newCoreData.priceTypeParas=r),val:"TBD",label:"TBD",disable:n(x)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceTypeParas,"onUpdate:modelValue":i[12]||(i[12]=r=>n(o).newCoreData.priceTypeParas=r),val:"FOC",label:"FOC",disable:n(x)},null,8,["modelValue","disable"])]),_:1}),e(q,{class:"col-3 q-py-md"},{default:a(()=>[H(e(G,{floating:"",rounded:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(n(B)),1)]),_:1})]),_:1},512),[[ee,n(R)]]),e(K,{modelValue:n(o).newCoreData.priceParas,"onUpdate:modelValue":i[13]||(i[13]=r=>n(o).newCoreData.priceParas=r),modelModifiers:{number:!0},type:"number",label:"Price Paras","input-class":"text-right",outlined:"",dense:"",disable:n(R)},null,8,["modelValue","disable"])]),_:1})]),_:1})]),_:1})):ye("",!0),"priceTypeParasNewCustomer"in n(o).newCoreData?($(),X(A,{key:2},{default:a(()=>[e(q,{horizontal:""},{default:a(()=>[e(q,null,{default:a(()=>[e(Z,null,{default:a(()=>[V("Price Paras New Customer")]),_:1})]),_:1}),e(q,{class:"q-py-md"},{default:a(()=>[H(e(G,{floating:"",rounded:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(n(J)),1)]),_:1})]),_:1},512),[[ee,n(D)]]),e(M,{modelValue:n(o).newCoreData.priceTypeParasNewCustomer,"onUpdate:modelValue":i[14]||(i[14]=r=>n(o).newCoreData.priceTypeParasNewCustomer=r),val:"POA",label:"POA",disable:n(D)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceTypeParasNewCustomer,"onUpdate:modelValue":i[15]||(i[15]=r=>n(o).newCoreData.priceTypeParasNewCustomer=r),val:"TBD",label:"TBD",disable:n(D)},null,8,["modelValue","disable"]),e(M,{modelValue:n(o).newCoreData.priceTypeParasNewCustomer,"onUpdate:modelValue":i[16]||(i[16]=r=>n(o).newCoreData.priceTypeParasNewCustomer=r),val:"FOC",label:"FOC",disable:n(D)},null,8,["modelValue","disable"])]),_:1}),e(q,{class:"col-3 q-py-md"},{default:a(()=>[H(e(G,{floating:"",rounded:"",color:"orange",label:"Pending"},{default:a(()=>[e(te,{anchor:"top middle",self:"bottom middle",offset:[5,5]},{default:a(()=>[V(Q(n(B)),1)]),_:1})]),_:1},512),[[ee,n(k)]]),e(K,{modelValue:n(o).newCoreData.priceParasNewCustomer,"onUpdate:modelValue":i[17]||(i[17]=r=>n(o).newCoreData.priceParasNewCustomer=r),modelModifiers:{number:!0},type:"number",label:"Price Paras New Customer","input-class":"text-right",outlined:"",dense:"",disable:n(k)},null,8,["modelValue","disable"])]),_:1})]),_:1})]),_:1})):ye("",!0),e(q,null,{default:a(()=>[e(ea,{modelValue:s.value,"onUpdate:modelValue":i[18]||(i[18]=r=>s.value=r),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:a(()=>[e(Ae,{name:"pop",label:"POP Pricing per Location"}),e(Ae,{name:"unilateral",label:"Unilateral"})]),_:1},8,["modelValue"]),e(ta,{modelValue:s.value,"onUpdate:modelValue":i[19]||(i[19]=r=>s.value=r),animated:"",style:{"background-color":"var(--primary-white)"}},{default:a(()=>[e($e,{name:"pop",class:"q-ma-none q-pa-none"},{default:a(()=>[e(na)]),_:1}),e($e,{name:"unilateral",class:"q-ma-none q-pa-none"},{default:a(()=>[e(ua)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}});var Fa=Te(va,[["__scopeId","data-v-65d3ebc6"]]);export{Fa as default};
