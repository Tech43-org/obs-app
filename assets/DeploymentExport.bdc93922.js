import{_ as E,i as q,h as N,a as B,O as v,Z as F,bo as L,o as i,k as p,w as t,l as e,Q as b,m as c,p as d,t as f,bn as y,X as T,a1 as V,aT as g,a2 as H,aR as A}from"./index.eba84135.js";import{Q as h}from"./QSeparator.148594bc.js";import{Q as R}from"./QToolbarTitle.8878eabb.js";import{Q as U}from"./QSpace.8b6fb0ec.js";import{Q as W}from"./QToolbar.66f76a34.js";import{Q as $}from"./QHeader.7ae8f9e7.js";import{Q as G,b as _,a as M}from"./QCardSection.660187f2.js";import{Q}from"./QChip.31f932b4.js";import{a as S,Q as k}from"./QItem.b9b983b6.js";import{Q as O}from"./QList.ef5710ec.js";import{Q as X}from"./QPage.432e6ea0.js";import{Q as Z,a as j}from"./QLayout.6804aa03.js";const z=q({__name:"DeploymentExport",props:{deploymentId:{type:String,required:!0}},setup(w){const D=N(),C=B(),o=v(null),x=F(),I=w;L(()=>{o.value=D.deployments.find(u=>u.id===I.deploymentId)||null});const P=()=>{var r,s,m;const u=v(document.querySelector(".q-card")),n=(r=u.value)==null?void 0:r.clientHeight,a=(s=u.value)==null?void 0:s.clientWidth;console.log("height",n),console.log("width",a);const l={Parameter:"Export PDF",DeploymentVersion:(m=o.value)==null?void 0:m.version,Width:a,Height:n};A("DPL | Actions",l)};return(u,n)=>(i(),p(Z,null,{default:t(()=>[e($,{class:"no-print"},{default:t(()=>[e(W,{class:"bg-primary"},{default:t(()=>[e(b,{label:"Back",onClick:n[0]||(n[0]=a=>c(x).back()),icon:"sym_o_arrow_back",class:"q-mr-sm"}),e(h,{vertical:"",inset:"",color:"white"}),e(R,null,{default:t(()=>[d(" Preview ")]),_:1}),e(U),e(b,{label:"Save as PDF",onClick:n[1]||(n[1]=a=>P()),icon:"sym_o_download"})]),_:1})]),_:1}),e(j,null,{default:t(()=>[e(X,{position:"top",class:"bg-white"},{default:t(()=>[o.value?(i(),p(G,{key:0,style:{width:"794px"},bordered:"",class:"bg-white"},{default:t(()=>[e(_,{header:""},{default:t(()=>{var a;return[d(f((a=o.value)==null?void 0:a.name),1)]}),_:1}),e(S,{side:""},{default:t(()=>[e(k,null,{default:t(()=>{var a,l,r,s;return[e(Q,{label:(a=o.value)==null?void 0:a.version,outline:""},null,8,["label"]),e(Q,{outline:"",color:((l=o.value)==null?void 0:l.status)===c(y).SUCCESS?"green":((r=o.value)==null?void 0:r.status)===c(y).PENDING?"orange":"red",label:(s=o.value)==null?void 0:s.status},null,8,["color","label"]),e(Q,{outline:"",label:o.value.date||""},null,8,["label"])]}),_:1})]),_:1}),e(M,{bordered:""},{default:t(()=>[e(_,{header:""},{default:t(()=>[d(" Stories ")]),_:1}),e(O,{class:"bg-white q-py-sm",style:{"border-radius":"0.6rem"},bordered:""},{default:t(()=>{var a;return[(i(!0),T(H,null,V(((a=o.value)==null?void 0:a.stories)||[],(l,r)=>(i(),p(k,{key:r},{default:t(()=>[e(S,null,{default:t(()=>{var s;return[e(_,{caption:""},{default:t(()=>[d(f(l.code)+" \u2022 "+f((c(C).users.find(m=>m.userId===l.userId)||{}).fullName),1)]),_:2},1024),e(_,null,{default:t(()=>[d(f(l.name),1)]),_:2},1024),r<((s=o.value)==null?void 0:s.stories.length)-1?(i(),p(h,{key:0,class:"q-mt-sm"})):g("",!0)]}),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1}))}});var ie=E(z,[["__scopeId","data-v-7a4134d6"]]);export{ie as default};
