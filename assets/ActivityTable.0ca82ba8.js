import{u as he,d as Ue,Q as Zt,c as H,b as el}from"./QList.224f81ea.js";import{n as tl,o as ll,p as ht,b as al,e as rl,Q as ce,d as Y,a as de}from"./QSeparator.36423728.js";import{k as c,aS as ol,D as L,a as Ut,h as Z,l as i,m as oe,Z as nl,a4 as Se,n as le,aF as Ct,aG as wt,aN as ot,I as We,Y as nt,t as J,T as pt,v as kt,ae as sl,ad as il,x as Tt,z as ul,A as st,au as cl,at as it,aT as Je,aU as ut,aV as dl,J as qt,aW as vl,ab as ge,U as G,L as fl,e as ml,o as Q,f as re,w as m,g as s,Q as P,M as ve,O as fe,N as me,aO as ct,a5 as ee,a0 as bl,a3 as gl,R as O,P as _e,K as j,aR as dt,_ as _l,aX as vt,aY as Pe,a1 as yl,a2 as Sl}from"./index.b52d915c.js";import{Q as hl}from"./QBtnGroup.eced228c.js";import{a as Ul,Q as Cl}from"./QToolbar.afb96b07.js";import{j as wl,n as pl,Q as ft,b as kl,c as Ye,a as Oe}from"./QCardActions.9a6775fc.js";import{o as Tl,u as ql,a as Fe,Q as xl}from"./QCheckbox.d6d891a2.js";const Dl=[{label:"Activity ID",value:"activityId",table:"z_ACT_Activity",field:"_kplt_Activity",type:"text",sql:"act"},{label:"Created At",value:"createdAt",table:"z_ACT_Activity",field:"CreatedAtUnix",type:"number",sql:"act"},{label:"Performer User ID",value:"performerUserId",table:"z_ACT_Activity",field:"_kflt_User_Performer",type:"text",sql:"act"},{label:"Performer User Name",value:"performerUserName",table:"z_CD_USE_Users",field:"Name",type:"text",sql:"use1"},{label:"Performer User Surname",value:"performerUserSurname",table:"z_CD_USE_Users",field:"Surname",type:"text",sql:"use1"},{label:"Related User ID",value:"relatedUserId",table:"z_ACT_Activity",field:"_kflt_User_Related",type:"text",sql:"act"},{label:"Related User Name",value:"relatedUserName",table:"z_CD_USE_Users",field:"Name",type:"text",sql:"use2"},{label:"Related User Surname",value:"relatedUserSurname",table:"z_CD_USE_Users",field:"Surname",type:"text",sql:"use2"},{label:"Performer User Group ID",value:"performerUserGroupId",table:"z_ACT_Activity",field:"PerformerUserGroupId",type:"text",sql:"act"},{label:"Action",value:"action",table:"z_ACT_Activity",field:"Action",type:"text",sql:"act"},{label:"Description",value:"description",table:"z_ACT_Activity",field:"Description",type:"text",sql:"act"},{label:"Note",value:"note",table:"z_ACT_Activity",field:"Note",type:"text",sql:"act"}],F=c(()=>ol(Dl));c(()=>L("SELECT "+F.value.map(t=>t)+" FROM z_ACT_Activity AS act").value);const Rl=c(()=>{const e=L("SELECT "+F.value.map(t=>t)+" FROM  z_ACT_Activity AS act");return F.value.some(t=>t.indexOf("use1.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(t=>t.indexOf("use2.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),e.value+=` WHERE act."Action" IN ('Login Admin', 'Logout Admin', 'Login User', 'Logout User', 'Login ServiceScript', 'Logout ServiceScript', 'Login ServiceDAPI', 'Logout ServiceDAPI', 'Login Dev', 'Logout Dev')`,e.value}),Ia=c(()=>{const e=L("SELECT "+F.value.map(t=>t)+" FROM  z_ACT_Activity AS act");return F.value.some(t=>t.indexOf("use1.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(t=>t.indexOf("use2.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),e.value+=` WHERE act."Action" IN ('Login Admin', 'Logout Admin')`,e.value}),Al=c(()=>{const e=L("SELECT "+F.value.map(t=>t)+" FROM  z_ACT_Activity AS act");return F.value.some(t=>t.indexOf("use1.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(t=>t.indexOf("use2.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),e.value+=` WHERE act."Action" IN ('Create User')`,e.value}),Pl=c(()=>{const e=L("SELECT "+F.value.map(t=>t)+" FROM  z_ACT_Activity AS act");return F.value.some(t=>t.indexOf("use1.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(t=>t.indexOf("use2.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),e.value+=` WHERE act."Action" IN ('Update User Group')`,e.value}),Ol=c(()=>{const e=L("SELECT "+F.value.map(t=>t)+" FROM  z_ACT_Activity AS act");return F.value.some(t=>t.indexOf("use1.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(t=>t.indexOf("use2.")!==-1)&&(e.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),e.value+=` WHERE act."Action" = 'Update User Status' AND act."Description" LIKE '%to Inactive%'`,e.value}),Ea=c(()=>{const e=Ut(),t=L("SELECT "+F.value.map(o=>o)+" FROM z_ACT_Activity AS act");return F.value.some(o=>o.indexOf("use1.")!==-1)&&(t.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use1 ON use1."_kplt_User" = act."_kflt_User_Performer" '),F.value.some(o=>o.indexOf("use2.")!==-1)&&(t.value+=' LEFT OUTER JOIN z_CD_USE_Users AS use2 ON use2."_kplt_User" = act."_kflt_User_Related" '),t.value+=` WHERE act."_kflt_User_Performer" ='${e.selectedUser.userId}' OR act."_kflt_User_Related" ='${e.selectedUser.userId}'`,t.value});var X=Z({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const b=le(),{proxy:{$q:u}}=b,h=v=>{o("click",v)};return()=>{if(e.props===void 0)return i("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:h},oe(t.default));let v,g;const S=b.vnode.key;if(S){if(v=e.props.colsMap[S],v===void 0)return}else v=e.props.col;if(v.sortable===!0){const a=v.align==="right"?"unshift":"push";g=nl(t.default,[]),g[a](i(Se,{class:v.__iconClass,name:u.iconSet.table.arrowUp}))}else g=oe(t.default);const y={class:v.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:v.headerStyle,onClick:a=>{v.sortable===!0&&e.props.sort(v),h(a)}};return i("th",y,g)}}});const Il=i("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[i("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),i("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var El=Z({name:"QRadio",props:{...he,...Ct,...wl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:o}){const{proxy:b}=le(),u=Ue(e,b.$q),h=wt(e,Tl),v=L(null),{refocusTargetEl:g,refocusTarget:S}=ql(e,v),y=c(()=>ot(e.modelValue)===ot(e.val)),a=c(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(u.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),C=c(()=>{const D=e.color!==void 0&&(e.keepColor===!0||y.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${y.value===!0?"truthy":"falsy"}${D}`}),r=c(()=>(y.value===!0?e.checkedIcon:e.uncheckedIcon)||null),R=c(()=>e.disable===!0?-1:e.tabindex||0),A=c(()=>{const D={type:"radio"};return e.name!==void 0&&Object.assign(D,{".checked":y.value===!0,"^checked":y.value===!0?"checked":void 0,name:e.name,value:e.val}),D}),q=pl(A);function k(D){D!==void 0&&(nt(D),S(D)),e.disable!==!0&&y.value!==!0&&o("update:modelValue",e.val,D)}function V(D){(D.keyCode===13||D.keyCode===32)&&nt(D)}function B(D){(D.keyCode===13||D.keyCode===32)&&k(D)}return Object.assign(b,{set:k}),()=>{const D=r.value!==null?[i("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[i(Se,{class:"q-radio__icon",name:r.value})])]:[Il];e.disable!==!0&&q(D,"unshift"," q-radio__native q-ma-none q-pa-none");const U=[i("div",{class:C.value,style:h.value,"aria-hidden":"true"},D)];g.value!==null&&U.push(g.value);const d=e.label!==void 0?We(t.default,[e.label]):oe(t.default);return d!==void 0&&U.push(i("div",{class:"q-radio__label q-anchor--skip"},d)),i("div",{ref:v,class:a.value,tabindex:R.value,role:"radio","aria-label":e.label,"aria-checked":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:V,onKeyup:B},U)}}});const xt={radio:El,checkbox:Fe,toggle:xl},Nl=Object.keys(xt);var Ie=Z({name:"QOptionGroup",props:{...he,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Nl.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{proxy:{$q:b}}=le(),u=Array.isArray(e.modelValue);e.type==="radio"?u===!0&&console.error("q-option-group: model should not be array"):u===!1&&console.error("q-option-group: model should be array in your case");const h=Ue(e,b),v=c(()=>xt[e.type]),g=c(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),S=c(()=>{const a={role:"group"};return e.type==="radio"&&(a.role="radiogroup",e.disable===!0&&(a["aria-disabled"]="true")),a});function y(a){t("update:modelValue",a)}return()=>i("div",{class:g.value,...S.value},e.options.map((a,C)=>{const r=o["label-"+C]!==void 0?()=>o["label-"+C](a):o.label!==void 0?()=>o.label(a):void 0;return i("div",[i(v.value,{modelValue:e.modelValue,val:a.value,name:a.name===void 0?e.name:a.name,disable:e.disable||a.disable,label:r===void 0?a.label:null,leftLabel:a.leftLabel===void 0?e.leftLabel:a.leftLabel,color:a.color===void 0?e.color:a.color,checkedIcon:a.checkedIcon,uncheckedIcon:a.uncheckedIcon,dark:a.dark||h.value,size:a.size===void 0?e.size:a.size,dense:e.dense,keepColor:a.keepColor===void 0?e.keepColor:a.keepColor,"onUpdate:modelValue":y},r)])}))}}),te=Z({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=le(),b=c(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return i("td",{class:b.value},oe(t.default));const u=o.vnode.key,h=(e.props.colsMap!==void 0?e.props.colsMap[u]:null)||e.props.col;if(h===void 0)return;const{row:v}=e.props;return i("td",{class:b.value+h.__tdClass(v),style:h.__tdStyle(v)},oe(t.default))}}}),Fl=Z({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const o=c(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>i("tr",{class:o.value},oe(t.default))}});const Ll=["horizontal","vertical","cell","none"];var Vl=Z({name:"QMarkupTable",props:{...he,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ll.includes(e)}},setup(e,{slots:t}){const o=le(),b=Ue(e,o.proxy.$q),u=c(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(b.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>i("div",{class:u.value},[i("table",{class:"q-table"},oe(t.default))])}});function Dt(e,t){return i("div",e,[i("table",{class:"q-table"},t)])}const Bl={list:Zt,table:Vl},zl=["list","table","__qtable"];var Ml=Z({name:"QVirtualScroll",props:{...tl,type:{type:String,default:"list",validator:e=>zl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:o}){let b;const u=L(null),h=c(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:v,localResetVirtualScroll:g,padVirtualScroll:S,onVirtualScrollEvt:y}=ll({virtualScrollLength:h,getVirtualScrollTarget:A,getVirtualScrollEl:R}),a=c(()=>{if(h.value===0)return[];const B=(D,U)=>({index:v.value.from+U,item:D});return e.itemsFn===void 0?e.items.slice(v.value.from,v.value.to).map(B):e.itemsFn(v.value.from,v.value.to-v.value.from).map(B)}),C=c(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),r=c(()=>e.scrollTarget!==void 0?{}:{tabindex:0});J(h,()=>{g()}),J(()=>e.scrollTarget,()=>{k(),q()});function R(){return u.value.$el||u.value}function A(){return b}function q(){b=ul(R(),e.scrollTarget),b.addEventListener("scroll",y,st.passive)}function k(){b!==void 0&&(b.removeEventListener("scroll",y,st.passive),b=void 0)}function V(){let B=S(e.type==="list"?"div":"tbody",a.value.map(t.default));return t.before!==void 0&&(B=t.before().concat(B)),We(t.after,B)}return pt(()=>{g()}),kt(()=>{q()}),sl(()=>{q()}),il(()=>{k()}),Tt(()=>{k()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Dt({ref:u,class:"q-table__middle "+C.value},V()):i(Bl[e.type],{...o,ref:u,class:[o.class,C.value],...r.value},V)}}});const $l={xs:2,sm:4,md:6,lg:10,xl:14};function mt(e,t,o){return{transform:t===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Ql=Z({name:"QLinearProgress",props:{...he,...Ct,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:o}=le(),b=Ue(e,o.$q),u=wt(e,$l),h=c(()=>e.indeterminate===!0||e.query===!0),v=c(()=>e.reverse!==e.query),g=c(()=>({...u.value!==null?u.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),S=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),y=c(()=>mt(e.buffer!==void 0?e.buffer:1,v.value,o.$q)),a=c(()=>`with${e.instantFeedback===!0?"out":""}-transition`),C=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${a.value} q-linear-progress__track--${b.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),r=c(()=>mt(h.value===!0?1:e.value,v.value,o.$q)),R=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${a.value} q-linear-progress__model--${h.value===!0?"in":""}determinate`),A=c(()=>({width:`${e.value*100}%`})),q=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${a.value}`);return()=>{const k=[i("div",{class:C.value,style:y.value}),i("div",{class:R.value,style:r.value})];return e.stripe===!0&&h.value===!1&&k.push(i("div",{class:q.value,style:A.value})),i("div",{class:S.value,style:g.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},We(t.default,k))}}});let ye=0;const Gl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},jl=["update:fullscreen","fullscreen"];function Hl(){const e=le(),{props:t,emit:o,proxy:b}=e;let u,h,v;const g=L(!1);cl(e)===!0&&J(()=>b.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&a()}),J(()=>t.fullscreen,C=>{g.value!==C&&S()}),J(g,C=>{o("update:fullscreen",C),o("fullscreen",C)});function S(){g.value===!0?a():y()}function y(){g.value!==!0&&(g.value=!0,v=b.$el.parentNode,v.replaceChild(h,b.$el),document.body.appendChild(b.$el),ye++,ye===1&&document.body.classList.add("q-body--fullscreen-mixin"),u={handler:a},it.add(u))}function a(){g.value===!0&&(u!==void 0&&(it.remove(u),u=void 0),v.replaceChild(b.$el,h),g.value=!1,ye=Math.max(0,ye-1),ye===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),b.$el.scrollIntoView!==void 0&&setTimeout(()=>{b.$el.scrollIntoView()})))}return pt(()=>{h=document.createElement("span")}),kt(()=>{t.fullscreen===!0&&y()}),Tt(a),Object.assign(b,{toggleFullscreen:S,setFullscreen:y,exitFullscreen:a}),{inFullscreen:g,toggleFullscreen:S}}function Yl(e,t){return new Date(e)-new Date(t)}const Jl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Wl(e,t,o,b){const u=c(()=>{const{sortBy:g}=t.value;return g&&o.value.find(S=>S.name===g)||null}),h=c(()=>e.sortMethod!==void 0?e.sortMethod:(g,S,y)=>{const a=o.value.find(R=>R.name===S);if(a===void 0||a.field===void 0)return g;const C=y===!0?-1:1,r=typeof a.field=="function"?R=>a.field(R):R=>R[a.field];return g.sort((R,A)=>{let q=r(R),k=r(A);return a.rawSort!==void 0?a.rawSort(q,k,R,A)*C:q==null?-1*C:k==null?1*C:a.sort!==void 0?a.sort(q,k,R,A)*C:Je(q)===!0&&Je(k)===!0?(q-k)*C:ut(q)===!0&&ut(k)===!0?Yl(q,k)*C:typeof q=="boolean"&&typeof k=="boolean"?(q-k)*C:([q,k]=[q,k].map(V=>(V+"").toLocaleString().toLowerCase()),q<k?-1*C:q===k?0:C)})});function v(g){let S=e.columnSortOrder;if(dl(g)===!0)g.sortOrder&&(S=g.sortOrder),g=g.name;else{const C=o.value.find(r=>r.name===g);C!==void 0&&C.sortOrder&&(S=C.sortOrder)}let{sortBy:y,descending:a}=t.value;y!==g?(y=g,a=S==="da"):e.binaryStateSort===!0?a=!a:a===!0?S==="ad"?y=null:a=!1:S==="ad"?a=!0:y=null,b({sortBy:y,descending:a,page:1})}return{columnToSort:u,computedSortMethod:h,sort:v}}const Kl={filter:[String,Object],filterMethod:Function};function Xl(e,t){const o=c(()=>e.filterMethod!==void 0?e.filterMethod:(b,u,h,v)=>{const g=u?u.toLowerCase():"";return b.filter(S=>h.some(y=>{const a=v(y,S)+"";return(a==="undefined"||a==="null"?"":a.toLowerCase()).indexOf(g)!==-1}))});return J(()=>e.filter,()=>{qt(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function Zl(e,t){for(const o in t)if(t[o]!==e[o])return!1;return!0}function bt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ea={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ta(e,t){const{props:o,emit:b}=e,u=L(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length!==0?o.rowsPerPageOptions[0]:5},o.pagination)),h=c(()=>{const a=o["onUpdate:pagination"]!==void 0?{...u.value,...o.pagination}:u.value;return bt(a)}),v=c(()=>h.value.rowsNumber!==void 0);function g(a){S({pagination:a,filter:o.filter})}function S(a={}){qt(()=>{b("request",{pagination:a.pagination||h.value,filter:a.filter||o.filter,getCellValue:t})})}function y(a,C){const r=bt({...h.value,...a});if(Zl(h.value,r)===!0){v.value===!0&&C===!0&&g(r);return}if(v.value===!0){g(r);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?b("update:pagination",r):u.value=r}return{innerPagination:u,computedPagination:h,isServerSide:v,requestServerInteraction:S,setPagination:y}}function la(e,t,o,b,u,h){const{props:v,emit:g,proxy:{$q:S}}=e,y=c(()=>b.value===!0?o.value.rowsNumber||0:h.value),a=c(()=>{const{page:U,rowsPerPage:d}=o.value;return(U-1)*d}),C=c(()=>{const{page:U,rowsPerPage:d}=o.value;return U*d}),r=c(()=>o.value.page===1),R=c(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(y.value/o.value.rowsPerPage))),A=c(()=>C.value===0?!0:o.value.page>=R.value),q=c(()=>(v.rowsPerPageOptions.includes(t.value.rowsPerPage)?v.rowsPerPageOptions:[t.value.rowsPerPage].concat(v.rowsPerPageOptions)).map(d=>({label:d===0?S.lang.table.allRows:""+d,value:d})));J(R,(U,d)=>{if(U===d)return;const f=o.value.page;U&&!f?u({page:1}):U<f&&u({page:U})});function k(){u({page:1})}function V(){const{page:U}=o.value;U>1&&u({page:U-1})}function B(){const{page:U,rowsPerPage:d}=o.value;C.value>0&&U*d<y.value&&u({page:U+1})}function D(){u({page:R.value})}return v["onUpdate:pagination"]!==void 0&&g("update:pagination",{...o.value}),{firstRowIndex:a,lastRowIndex:C,isFirstPage:r,isLastPage:A,pagesNumber:R,computedRowsPerPageOptions:q,computedRowsNumber:y,firstPage:k,prevPage:V,nextPage:B,lastPage:D}}const aa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ra=["update:selected","selection"];function oa(e,t,o,b){const u=c(()=>{const A={};return e.selected.map(b.value).forEach(q=>{A[q]=!0}),A}),h=c(()=>e.selection!=="none"),v=c(()=>e.selection==="single"),g=c(()=>e.selection==="multiple"),S=c(()=>o.value.length!==0&&o.value.every(A=>u.value[b.value(A)]===!0)),y=c(()=>S.value!==!0&&o.value.some(A=>u.value[b.value(A)]===!0)),a=c(()=>e.selected.length);function C(A){return u.value[A]===!0}function r(){t("update:selected",[])}function R(A,q,k,V){t("selection",{rows:q,added:k,keys:A,evt:V});const B=v.value===!0?k===!0?q:[]:k===!0?e.selected.concat(q):e.selected.filter(D=>A.includes(b.value(D))===!1);t("update:selected",B)}return{hasSelectionMode:h,singleSelection:v,multipleSelection:g,allRowsSelected:S,someRowsSelected:y,rowsSelectedNumber:a,isRowSelected:C,clearSelection:r,updateSelection:R}}function gt(e){return Array.isArray(e)?e.slice():[]}const na={expanded:Array},sa=["update:expanded"];function ia(e,t){const o=L(gt(e.expanded));J(()=>e.expanded,v=>{o.value=gt(v)});function b(v){return o.value.includes(v)}function u(v){e.expanded!==void 0?t("update:expanded",v):o.value=v}function h(v,g){const S=o.value.slice(),y=S.indexOf(v);g===!0?y===-1&&(S.push(v),u(S)):y!==-1&&(S.splice(y,1),u(S))}return{isRowExpanded:b,setExpanded:u,updateExpanded:h}}const ua={visibleColumns:Array};function ca(e,t,o){const b=c(()=>{if(e.columns!==void 0)return e.columns;const g=e.rows[0];return g!==void 0?Object.keys(g).map(S=>({name:S,label:S.toUpperCase(),field:S,align:Je(g[S])?"right":"left",sortable:!0})):[]}),u=c(()=>{const{sortBy:g,descending:S}=t.value;return(e.visibleColumns!==void 0?b.value.filter(a=>a.required===!0||e.visibleColumns.includes(a.name)===!0):b.value).map(a=>{const C=a.align||"right",r=`text-${C}`;return{...a,align:C,__iconClass:`q-table__sort-icon q-table__sort-icon--${C}`,__thClass:r+(a.headerClasses!==void 0?" "+a.headerClasses:"")+(a.sortable===!0?" sortable":"")+(a.name===g?` sorted ${S===!0?"sort-desc":""}`:""),__tdStyle:a.style!==void 0?typeof a.style!="function"?()=>a.style:a.style:()=>null,__tdClass:a.classes!==void 0?typeof a.classes!="function"?()=>r+" "+a.classes:R=>r+" "+a.classes(R):()=>r}})}),h=c(()=>{const g={};return u.value.forEach(S=>{g[S.name]=S}),g}),v=c(()=>e.tableColspan!==void 0?e.tableColspan:u.value.length+(o.value===!0?1:0));return{colList:b,computedCols:u,computedColsMap:h,computedColspan:v}}const Ee="q-table__bottom row items-center",Rt={};ht.forEach(e=>{Rt[e]={}});var da=Z({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Rt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...he,...Gl,...ua,...Kl,...ea,...na,...aa,...Jl},emits:["request","virtualScroll",...jl,...sa,...ra],setup(e,{slots:t,emit:o}){const b=le(),{proxy:{$q:u}}=b,h=Ue(e,u),{inFullscreen:v,toggleFullscreen:g}=Hl(),S=c(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),y=L(null),a=L(null),C=c(()=>e.grid!==!0&&e.virtualScroll===!0),r=c(()=>" q-table__card"+(h.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),R=c(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":r.value)+(h.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(v.value===!0?" fullscreen scroll":"")),A=c(()=>R.value+(e.loading===!0?" q-table--loading":""));J(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+R.value,()=>{C.value===!0&&a.value!==null&&a.value.reset()});const{innerPagination:q,computedPagination:k,isServerSide:V,requestServerInteraction:B,setPagination:D}=ta(b,ie),{computedFilterMethod:U}=Xl(e,D),{isRowExpanded:d,setExpanded:f,updateExpanded:n}=ia(e,o),w=c(()=>{let l=e.rows;if(V.value===!0||l.length===0)return l;const{sortBy:_,descending:p}=k.value;return e.filter&&(l=U.value(l,e.filter,W.value,ie)),Ot.value!==null&&(l=It.value(e.rows===l?l.slice():l,_,p)),l}),z=c(()=>w.value.length),N=c(()=>{let l=w.value;if(V.value===!0)return l;const{rowsPerPage:_}=k.value;return _!==0&&(ke.value===0&&e.rows!==l?l.length>Te.value&&(l=l.slice(0,Te.value)):l=l.slice(ke.value,Te.value)),l}),{hasSelectionMode:M,singleSelection:Le,multipleSelection:Ce,allRowsSelected:we,someRowsSelected:be,rowsSelectedNumber:ne,isRowSelected:se,clearSelection:At,updateSelection:pe}=oa(e,o,N,S),{colList:Pt,computedCols:W,computedColsMap:Ke,computedColspan:Xe}=ca(e,k,M),{columnToSort:Ot,computedSortMethod:It,sort:Ve}=Wl(e,k,Pt,D),{firstRowIndex:ke,lastRowIndex:Te,isFirstPage:Be,isLastPage:ze,pagesNumber:qe,computedRowsPerPageOptions:Et,computedRowsNumber:xe,firstPage:Me,prevPage:$e,nextPage:Qe,lastPage:Ge}=la(b,q,k,V,D,z),Nt=c(()=>N.value.length===0),Ft=c(()=>{const l={};return ht.forEach(_=>{l[_]=e[_]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function Lt(){C.value===!0&&a.value.reset()}function Vt(){if(e.grid===!0)return Kt();const l=e.hideHeader!==!0?at:null;if(C.value===!0){const p=t["top-row"],T=t["bottom-row"],x={default:E=>et(E.item,t.body,E.index)};if(p!==void 0){const E=i("tbody",p({cols:W.value}));x.before=l===null?()=>E:()=>[l()].concat(E)}else l!==null&&(x.before=l);return T!==void 0&&(x.after=()=>i("tbody",T({cols:W.value}))),i(Ml,{ref:a,class:e.tableClass,style:e.tableStyle,...Ft.value,scrollTarget:e.virtualScrollTarget,items:N.value,type:"__qtable",tableColspan:Xe.value,onVirtualScroll:zt},x)}const _=[Mt()];return l!==null&&_.unshift(l()),Dt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},_)}function Bt(l,_){if(a.value!==null){a.value.scrollTo(l,_);return}l=parseInt(l,10);const p=y.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(p!==null){const T=y.value.querySelector(".q-table__middle.scroll"),x=p.offsetTop-e.virtualScrollStickySizeStart,E=x<T.scrollTop?"decrease":"increase";T.scrollTop=x,o("virtualScroll",{index:l,from:0,to:q.value.rowsPerPage-1,direction:E})}}function zt(l){o("virtualScroll",l)}function Ze(){return[i(Ql,{class:"q-table__linear-progress",color:e.color,dark:h.value,indeterminate:!0,trackColor:"transparent"})]}function et(l,_,p){const T=S.value(l),x=se(T);if(_!==void 0)return _(tt({key:T,row:l,pageIndex:p,__trClass:x?"selected":""}));const E=t["body-cell"],I=W.value.map($=>{const Re=t[`body-cell-${$.name}`],Ae=Re!==void 0?Re:E;return Ae!==void 0?Ae($t({key:T,row:l,pageIndex:p,col:$})):i("td",{class:$.__tdClass(l),style:$.__tdStyle(l)},ie($,l))});if(M.value===!0){const $=t["body-selection"],Re=$!==void 0?$(Qt({key:T,row:l,pageIndex:p})):[i(Fe,{modelValue:x,color:e.color,dark:h.value,dense:e.dense,"onUpdate:modelValue":(Ae,Xt)=>{pe([T],[l],Ae,Xt)}})];I.unshift(i("td",{class:"q-table--col-auto-width"},Re))}const K={key:T,class:{selected:x}};return e.onRowClick!==void 0&&(K.class["cursor-pointer"]=!0,K.onClick=$=>{o("RowClick",$,l,p)}),e.onRowDblclick!==void 0&&(K.class["cursor-pointer"]=!0,K.onDblclick=$=>{o("RowDblclick",$,l,p)}),e.onRowContextmenu!==void 0&&(K.class["cursor-pointer"]=!0,K.onContextmenu=$=>{o("RowContextmenu",$,l,p)}),i("tr",K,I)}function Mt(){const l=t.body,_=t["top-row"],p=t["bottom-row"];let T=N.value.map((x,E)=>et(x,l,E));return _!==void 0&&(T=_({cols:W.value}).concat(T)),p!==void 0&&(T=T.concat(p({cols:W.value}))),i("tbody",T)}function tt(l){return je(l),l.cols=l.cols.map(_=>ge({..._},"value",()=>ie(_,l.row))),l}function $t(l){return je(l),ge(l,"value",()=>ie(l.col,l.row)),l}function Qt(l){return je(l),l}function je(l){Object.assign(l,{cols:W.value,colsMap:Ke.value,sort:Ve,rowIndex:ke.value+l.pageIndex,color:e.color,dark:h.value,dense:e.dense}),M.value===!0&&ge(l,"selected",()=>se(l.key),(_,p)=>{pe([l.key],[l.row],_,p)}),ge(l,"expand",()=>d(l.key),_=>{n(l.key,_)})}function ie(l,_){const p=typeof l.field=="function"?l.field(_):_[l.field];return l.format!==void 0?l.format(p,_):p}const ue=c(()=>({pagination:k.value,pagesNumber:qe.value,isFirstPage:Be.value,isLastPage:ze.value,firstPage:Me,prevPage:$e,nextPage:Qe,lastPage:Ge,inFullscreen:v.value,toggleFullscreen:g}));function Gt(){const l=t.top,_=t["top-left"],p=t["top-right"],T=t["top-selection"],x=M.value===!0&&T!==void 0&&ne.value>0,E="q-table__top relative-position row items-center";if(l!==void 0)return i("div",{class:E},[l(ue.value)]);let I;if(x===!0?I=T(ue.value).slice():(I=[],_!==void 0?I.push(i("div",{class:"q-table__control"},[_(ue.value)])):e.title&&I.push(i("div",{class:"q-table__control"},[i("div",{class:["q-table__title",e.titleClass]},e.title)]))),p!==void 0&&(I.push(i("div",{class:"q-table__separator col"})),I.push(i("div",{class:"q-table__control"},[p(ue.value)]))),I.length!==0)return i("div",{class:E},I)}const lt=c(()=>be.value===!0?null:we.value);function at(){const l=jt();return e.loading===!0&&t.loading===void 0&&l.push(i("tr",{class:"q-table__progress"},[i("th",{class:"relative-position",colspan:Xe.value},Ze())])),i("thead",l)}function jt(){const l=t.header,_=t["header-cell"];if(l!==void 0)return l(He({header:!0})).slice();const p=W.value.map(T=>{const x=t[`header-cell-${T.name}`],E=x!==void 0?x:_,I=He({col:T});return E!==void 0?E(I):i(X,{key:T.name,props:I},()=>T.label)});if(Le.value===!0&&e.grid!==!0)p.unshift(i("th",{class:"q-table--col-auto-width"}," "));else if(Ce.value===!0){const T=t["header-selection"],x=T!==void 0?T(He({})):[i(Fe,{color:e.color,modelValue:lt.value,dark:h.value,dense:e.dense,"onUpdate:modelValue":rt})];p.unshift(i("th",{class:"q-table--col-auto-width"},x))}return[i("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},p)]}function He(l){return Object.assign(l,{cols:W.value,sort:Ve,colsMap:Ke.value,color:e.color,dark:h.value,dense:e.dense}),Ce.value===!0&&ge(l,"selected",()=>lt.value,rt),l}function rt(l){be.value===!0&&(l=!1),pe(N.value.map(S.value),N.value,l)}const De=c(()=>{const l=[e.iconFirstPage||u.iconSet.table.firstPage,e.iconPrevPage||u.iconSet.table.prevPage,e.iconNextPage||u.iconSet.table.nextPage,e.iconLastPage||u.iconSet.table.lastPage];return u.lang.rtl===!0?l.reverse():l});function Ht(){if(e.hideBottom===!0)return;if(Nt.value===!0){if(e.hideNoData===!0)return;const p=e.loading===!0?e.loadingLabel||u.lang.table.loading:e.filter?e.noResultsLabel||u.lang.table.noResults:e.noDataLabel||u.lang.table.noData,T=t["no-data"],x=T!==void 0?[T({message:p,icon:u.iconSet.table.warning,filter:e.filter})]:[i(Se,{class:"q-table__bottom-nodata-icon",name:u.iconSet.table.warning}),p];return i("div",{class:Ee+" q-table__bottom--nodata"},x)}const l=t.bottom;if(l!==void 0)return i("div",{class:Ee},[l(ue.value)]);const _=e.hideSelectedBanner!==!0&&M.value===!0&&ne.value>0?[i("div",{class:"q-table__control"},[i("div",[(e.selectedRowsLabel||u.lang.table.selectedRecords)(ne.value)])])]:[];if(e.hidePagination!==!0)return i("div",{class:Ee+" justify-end"},Jt(_));if(_.length!==0)return i("div",{class:Ee},_)}function Yt(l){D({page:1,rowsPerPage:l.value})}function Jt(l){let _;const{rowsPerPage:p}=k.value,T=e.paginationLabel||u.lang.table.pagination,x=t.pagination,E=e.rowsPerPageOptions.length>1;if(l.push(i("div",{class:"q-table__separator col"})),E===!0&&l.push(i("div",{class:"q-table__control"},[i("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||u.lang.table.recordsPerPage]),i(al,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:p,options:Et.value,displayValue:p===0?u.lang.table.allRows:p,dark:h.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Yt})])),x!==void 0)_=x(ue.value);else if(_=[i("span",p!==0?{class:"q-table__bottom-item"}:{},[p?T(ke.value+1,Math.min(Te.value,xe.value),xe.value):T(1,z.value,xe.value)])],p!==0&&qe.value>1){const I={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(I.size="sm"),qe.value>2&&_.push(i(G,{key:"pgFirst",...I,icon:De.value[0],disable:Be.value,onClick:Me})),_.push(i(G,{key:"pgPrev",...I,icon:De.value[1],disable:Be.value,onClick:$e}),i(G,{key:"pgNext",...I,icon:De.value[2],disable:ze.value,onClick:Qe})),qe.value>2&&_.push(i(G,{key:"pgLast",...I,icon:De.value[3],disable:ze.value,onClick:Ge}))}return l.push(i("div",{class:"q-table__control"},_)),l}function Wt(){const l=e.gridHeader===!0?[i("table",{class:"q-table"},[at()])]:e.loading===!0&&t.loading===void 0?Ze():void 0;return i("div",{class:"q-table__middle"},l)}function Kt(){const l=t.item!==void 0?t.item:_=>{const p=_.cols.map(x=>i("div",{class:"q-table__grid-item-row"},[i("div",{class:"q-table__grid-item-title"},[x.label]),i("div",{class:"q-table__grid-item-value"},[x.value])]));if(M.value===!0){const x=t["body-selection"],E=x!==void 0?x(_):[i(Fe,{modelValue:_.selected,color:e.color,dark:h.value,dense:e.dense,"onUpdate:modelValue":(I,K)=>{pe([_.key],[_.row],I,K)}})];p.unshift(i("div",{class:"q-table__grid-item-row"},E),i(rl,{dark:h.value}))}const T={class:["q-table__grid-item-card"+r.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(T.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(T.onClick=x=>{o("RowClick",x,_.row,_.pageIndex)}),e.onRowDblclick!==void 0&&(T.onDblclick=x=>{o("RowDblclick",x,_.row,_.pageIndex)})),i("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(_.selected===!0?" q-table__grid-item--selected":"")},[i("div",T,p)])};return i("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},N.value.map((_,p)=>l(tt({key:S.value(_),row:_,pageIndex:p}))))}return Object.assign(b.proxy,{requestServerInteraction:B,setPagination:D,firstPage:Me,prevPage:$e,nextPage:Qe,lastPage:Ge,isRowSelected:se,clearSelection:At,isRowExpanded:d,setExpanded:f,sort:Ve,resetVirtualScroll:Lt,scrollTo:Bt,getCellValue:ie}),vl(b.proxy,{filteredSortedRows:()=>w.value,computedRows:()=>N.value,computedRowsNumber:()=>xe.value}),()=>{const l=[Gt()],_={ref:y,class:A.value};return e.grid===!0?l.push(Wt()):Object.assign(_,{class:[_.class,e.cardClass],style:e.cardStyle}),l.push(Vt(),Ht()),e.loading===!0&&t.loading!==void 0&&l.push(t.loading()),i("div",_,l)}}});function _t(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function va(e,t,o={}){const{mimeType:b,byteOrderMark:u,encoding:h}=typeof o=="string"?{mimeType:o}:o,v=h!==void 0?new TextEncoder(h).encode([t]):t,g=u!==void 0?[u,v]:[v],S=new Blob(g,{type:b||"application/octet-stream"}),y=document.createElement("a");y.href=window.URL.createObjectURL(S),y.setAttribute("download",e),typeof y.download=="undefined"&&y.setAttribute("target","_blank"),y.classList.add("hidden"),y.style.position="fixed",document.body.appendChild(y);try{return y.click(),_t(y),!0}catch(a){return _t(y),a}}const yt=()=>new Date(Date.UTC(new Date().getUTCFullYear(),new Date().getUTCMonth(),new Date().getUTCDate(),new Date().getUTCHours(),new Date().getUTCMinutes(),new Date().getUTCSeconds())),fa=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),ma=e=>{const t=new Date(e.getUTCFullYear(),e.getUTCMonth(),1);return t.setUTCHours(0,0,0,0),t},Ne=e=>e.toISOString().split("T")[0],St=e=>new Date(e);const ae=e=>(yl("data-v-fc43e180"),e=e(),Sl(),e),ba=ae(()=>j("span",{style:{"font-weight":"bold"}},"Selection:",-1)),ga=ae(()=>j("span",{style:{"font-weight":"bold"}},"Timeframe:",-1)),_a=ae(()=>j("span",{style:{"font-weight":"bold"}},"Performer Users:",-1)),ya=ae(()=>j("span",{style:{"font-weight":"bold"}},"Performer Groups:",-1)),Sa=ae(()=>j("span",{style:{"font-weight":"bold"}},"Related Users:",-1)),ha=ae(()=>j("span",{style:{"font-weight":"bold"}},"Actions:",-1)),Ua=ae(()=>j("span",{style:{"font-weight":"bold"}},"Decription Filter:",-1)),Ca=ae(()=>j("span",{style:{"font-weight":"bold"}},"Size:",-1)),wa={class:"q-ma-md column",style:{gap:"0.6rem"}},pa={class:"q-ma-md column",style:{gap:"0.6rem"}},ka={class:"q-mx-md"},Ta=fl({__name:"ActivityTable",props:{showSelections:{type:Boolean,default:!0}},setup(e){const t=ml(),o=Ut(),b=L(null),u=L([{name:"rowNumber",label:"rowNumber",align:"right",field:"",sortable:!1},{name:"activityId",label:"ID",align:"left",field:"activityId",sortable:!1},{name:"date",label:"Date",align:"left",field:"date",sortable:!1},{name:"time",label:"Time",align:"left",field:"time",sortable:!1},{name:"performerUserFullName",label:"Performer User",align:"left",field:"performerUserFullName",sortable:!1},{name:"performerUserGroupName",label:"Performer Group",align:"left",field:"performerUserGroupName",sortable:!1},{name:"relatedUserFullName",label:"Related User",align:"left",field:"relatedUserFullName",sortable:!1},{name:"action",label:"Action",align:"left",field:"action",sortable:!1},{name:"description",label:"Description",align:"left",field:"description",sortable:!1}]),h=["rowNumber","date","time","performerUserFullName","performerUserGroupName","relatedUserFullName","action","description"],v=L(!1),g=yt(),S=ma(g),y=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"monthToDate",label:"Month to Date"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom"}],a=[{value:"access",label:"Access"},{value:"userCreated",label:"New Users"},{value:"userUpdateGroup",label:"Group Changes"},{value:"userInactive",label:"Inactivated"}],C=U=>{switch(r.value.selection=U,r.value.performerUserId=[],r.value.relatedUserId=[],r.value.actions=[],r.value.term="",U){case"access":t.readActivity(Rl.value);break;case"userCreated":t.readActivity(Al.value);break;case"userUpdateGroup":t.readActivity(Pl.value);break;case"userInactive":t.readActivity(Ol.value);break}},r=L({term:"",selection:"access",timeframe:"monthToDate",dateStart:Ne(S),dateEnd:Ne(g),searchColumns:["description"],performerUserId:[],performerUserGroupId:[],relatedUserId:[],actions:[]}),R=c(()=>[...new Set(t.activity.map(U=>U.action))]),A=c(()=>t.activity.map(U=>({value:U.performerUserId,label:U.performerUserFullName})).filter((U,d,f)=>d===f.findIndex(n=>n.label===U.label&&n.value===U.value))),q=c(()=>t.activity.map(U=>({value:U.performerUserGroupId||"",label:U.performerUserGroupName||""})).filter((U,d,f)=>d===f.findIndex(n=>n.label===U.label&&n.value===U.value))),k=c(()=>t.activity.map(U=>({value:U.relatedUserId,label:U.relatedUserFullName})).filter((U,d,f)=>d===f.findIndex(n=>n.label===U.label&&n.value===U.value))),V=U=>{r.value.timeframe=U;const d=yt(),f=fa(d);let n=new Date,w=new Date;switch(U){case"today":n=f,w=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),23,59,59));break;case"yesterday":n=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()-1)),w=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()-1,23,59,59));break;case"monthToDate":n=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),1)),w=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),23,59,59));break;case"lastMonth":n=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth()-1,1)),w=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),0));break;case"custom":n=new Date(r.value.dateStart),w=new Date(r.value.dateEnd),isNaN(n.getTime())||isNaN(w.getTime())?Pe({message:"Invalid custom date range",color:"negative",icon:"warning"}):w<n&&Pe({message:"End date cannot be before start date",color:"negative",icon:"warning"});break}r.value.dateStart=Ne(n),r.value.dateEnd=Ne(w)},B=c(()=>{const U=St(r.value.dateStart),d=St(r.value.dateEnd);return t.activity.filter(f=>{var we,be,ne,se;const n=new Date(f.createdAt),w=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),z=w>=U&&w<=d,N=!((we=r.value.performerUserId)!=null&&we.length)||r.value.performerUserId.includes(f.performerUserId),M=!((be=r.value.relatedUserId)!=null&&be.length)||r.value.relatedUserId.includes(f.relatedUserId),Le=!((ne=r.value.actions)!=null&&ne.length)||r.value.actions.includes(f.action),Ce=!((se=r.value.performerUserGroupId)!=null&&se.length)||f.performerUserGroupId&&r.value.performerUserGroupId.includes(f.performerUserGroupId);return z&&N&&M&&Le&&Ce})}),D=()=>{if(!b.value)return;const U=b.value.filteredSortedRows,d=[u.value.map(N=>vt(N.label))].concat(U.map(N=>u.value.map(M=>vt(typeof M.field=="function"?M.field(N):N[M.field===void 0?M.name:M.field])).join(","))).join(`\r
`),f=new Date,w=`User Activity ${`${f.getFullYear()}-${f.getMonth()+1}-${f.getDate()} ${f.getHours()}-${f.getMinutes()}-${f.getSeconds()}`}.csv`;va(w,d,"text/csv")!==!0?Pe({message:"Browser denied file download...",color:"negative",icon:"warning"}):Pe({message:"File downloaded successfully...",color:"positive",icon:"download"})};return J(()=>o.selectedUser,()=>{r.value.performerUserId=[],r.value.relatedUserId=[],r.value.actions=[],r.value.term=""}),(U,d)=>(Q(),re(ft,null,{default:m(()=>[s(da,{ref_key:"tableRef",ref:b,rows:B.value,columns:u.value,"row-key":"activityId","rows-per-page-options":[-1],"visible-columns":h,filter:r.value.term,dense:"","hide-pagination":"","virtual-scroll":"",class:"header-table",style:{"min-height":"90vh",overflow:"auto",margin:"0.4rem"}},{top:m(f=>[s(H,{class:"text-h3"},{default:m(()=>[P(" Activity ")]),_:1}),s(ce),e.showSelections?(Q(),re(hl,{key:0},{default:m(()=>[(Q(),ve(me,null,fe(a,n=>s(G,{class:"q-px-md",key:n.value,dense:"",label:n.label,color:r.value.selection===n.value?"blue":"primary",onClick:w=>C(n.value)},null,8,["label","color","onClick"])),64))]),_:1})):ct("",!0),s(ce),s(Y,{class:"bg-blue text-white q-ma-md"},{default:m(()=>[s(ee,{icon:"priority_high"}),P(" Dates in UTC ")]),_:1}),s(G,{color:"primary",icon:"download",label:"Download",onClick:D}),s(G,{dense:"",icon:f.inFullscreen?"fullscreen_exit":"fullscreen",onClick:f.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"]),s(G,{dense:"",icon:v.value?"more_vert":"more_horiz",onClick:d[0]||(d[0]=n=>v.value=!v.value),class:"q-ml-md"},null,8,["icon"]),bl(s(Ul,null,{default:m(()=>[s(ft,{class:"col"},{default:m(()=>[s(kl,{class:"q-pa-md",style:{"background-color":"var(--primary-white)"}},{default:m(()=>[s(Cl,null,{default:m(()=>[P(" Summary ")]),_:1}),e.showSelections?(Q(),re(H,{key:0},{default:m(()=>[ba,s(Y,{color:"teal-3"},{default:m(()=>{var n;return[P(O(((n=a.find(w=>w.value===r.value.selection))==null?void 0:n.label)||""),1)]}),_:1})]),_:1})):ct("",!0),s(H,null,{default:m(()=>[ga,s(Y,{color:"orange-3"},{default:m(()=>{var n;return[P(O(((n=y.find(w=>w.value===r.value.timeframe))==null?void 0:n.label)||""),1)]}),_:1}),P("from "+O(r.value.dateStart)+" to "+O(r.value.dateEnd),1)]),_:1}),s(H,null,{default:m(()=>{var n;return[_a,(Q(!0),ve(me,null,fe([...new Set((n=b.value)==null?void 0:n.computedRows.map(w=>w.performerUserFullName))],(w,z)=>(Q(),re(Y,{key:z,color:"purple-3"},{default:m(()=>[P(O(w),1)]),_:2},1024))),128))]}),_:1}),s(H,null,{default:m(()=>{var n;return[ya,(Q(!0),ve(me,null,fe([...new Set((n=b.value)==null?void 0:n.computedRows.map(w=>w.performerUserGroupName))],(w,z)=>(Q(),re(Y,{key:z,color:"teal-3"},{default:m(()=>[P(O(w),1)]),_:2},1024))),128))]}),_:1}),s(H,null,{default:m(()=>{var n;return[Sa,(Q(!0),ve(me,null,fe([...new Set((n=b.value)==null?void 0:n.computedRows.map(w=>w.relatedUserFullName).filter(Boolean))],(w,z)=>(Q(),re(Y,{key:z,color:"light-green-3"},{default:m(()=>[P(O(w),1)]),_:2},1024))),128))]}),_:1}),s(H,null,{default:m(()=>{var n;return[ha,(Q(!0),ve(me,null,fe([...new Set((n=b.value)==null?void 0:n.computedRows.map(w=>w.action))],(w,z)=>(Q(),re(Y,{color:"blue-3",key:z},{default:m(()=>[P(O(w),1)]),_:2},1024))),128))]}),_:1}),s(H,null,{default:m(()=>{var n;return[Ua,P(" "+O(((n=r.value.term)==null?void 0:n.length)>0?r.value.term:"None"),1)]}),_:1}),s(H,null,{default:m(()=>{var n;return[Ca,P(" Showing "+O((n=b.value)==null?void 0:n.computedRowsNumber)+" of "+O(_e(t).activity.length)+" Rows where ",1),s(Y,{color:"pink-3"},{default:m(()=>[P(O(_e(o).selectedUser.fullName),1)]),_:1}),P("was involved")]}),_:1})]),_:1})]),_:1})]),_:1},512),[[gl,v.value]])]),"header-cell-rowNumber":m(f=>[s(X,{props:f},{default:m(()=>[s(Se,{size:"sm",name:"tag"})]),_:2},1032,["props"])]),"header-cell-date":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"filter_list",size:"sm","text-color":"primary"}),P(" "+O(f.col.label),1)]),default:m(()=>[j("div",wa,[(Q(),ve(me,null,fe(y,n=>s(G,{key:n.value,outline:"",label:n.label,color:r.value.timeframe===n.value?"primary":"",onClick:w=>V(n.value)},null,8,["label","color","onClick"])),64))]),j("div",pa,[s(Ye,{outlined:"",debounce:"300",modelValue:r.value.dateStart,"onUpdate:modelValue":d[1]||(d[1]=n=>r.value.dateStart=n),label:"Date Start",type:"date",disable:r.value.timeframe!=="custom"},null,8,["modelValue","disable"]),s(Ye,{outlined:"",debounce:"300",modelValue:r.value.dateEnd,"onUpdate:modelValue":d[2]||(d[2]=n=>r.value.dateEnd=n),label:"Date End",type:"date",disable:r.value.timeframe!=="custom"},null,8,["modelValue","disable"])])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-time":m(f=>[s(X,{props:f},{default:m(()=>[s(H,{style:{"font-size":"16px"}},{default:m(()=>[P(O(f.col.label),1)]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserFullName":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"filter_list",size:"sm","text-color":r.value.performerUserId&&r.value.performerUserId.length>0?"primary":""},null,8,["text-color"]),P(" "+O(f.col.label),1)]),default:m(()=>[s(Oe,{style:{width:"256px"}},{default:m(()=>[s(ce),s(G,{dense:"",label:"Clear",onClick:d[3]||(d[3]=n=>r.value.performerUserId=[])})]),_:1}),s(Ie,{modelValue:r.value.performerUserId,"onUpdate:modelValue":d[4]||(d[4]=n=>r.value.performerUserId=n),options:A.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserGroupName":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"filter_list",size:"sm","text-color":r.value.performerUserGroupId&&r.value.performerUserGroupId.length>0?"primary":""},null,8,["text-color"]),P(" "+O(f.col.label),1)]),default:m(()=>[s(Oe,{style:{width:"256px"}},{default:m(()=>[s(ce),s(G,{dense:"",label:"Clear",onClick:d[5]||(d[5]=n=>r.value.performerUserGroupId=[])})]),_:1}),s(Ie,{modelValue:r.value.performerUserGroupId,"onUpdate:modelValue":d[6]||(d[6]=n=>r.value.performerUserGroupId=n),options:q.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-relatedUserFullName":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"filter_list",size:"sm","text-color":r.value.relatedUserId&&r.value.relatedUserId.length>0?"primary":""},null,8,["text-color"]),P(" "+O(f.col.label),1)]),default:m(()=>[s(Oe,{style:{width:"256px"}},{default:m(()=>[s(ce),s(G,{dense:"",label:"Clear",onClick:d[7]||(d[7]=n=>r.value.relatedUserId=[])})]),_:1}),s(Ie,{modelValue:r.value.relatedUserId,"onUpdate:modelValue":d[8]||(d[8]=n=>r.value.relatedUserId=n),options:k.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-action":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"filter_list",size:"sm","text-color":r.value.actions&&r.value.actions.length>0?"primary":""},null,8,["text-color"]),P(" "+O(f.col.label),1)]),default:m(()=>[s(Oe,{style:{width:"192px"}},{default:m(()=>[s(ce),s(G,{dense:"",label:"Clear",onClick:d[9]||(d[9]=n=>r.value.actions=[])})]),_:1}),s(Ie,{modelValue:r.value.actions,"onUpdate:modelValue":d[10]||(d[10]=n=>r.value.actions=n),options:R.value.map(n=>({label:n,value:n})),type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-description":m(f=>[s(X,{props:f},{default:m(()=>[s(de,{dense:"",round:""},{label:m(()=>[s(ee,{icon:"search",size:"sm","text-color":r.value.term!==""?"primary":""},null,8,["text-color"]),P(" "+O(f.col.label),1)]),default:m(()=>[j("div",ka,[s(Ye,{outlined:"",dense:"",debounce:"300",modelValue:r.value.term,"onUpdate:modelValue":d[12]||(d[12]=n=>r.value.term=n),type:"search",placeholder:"Description search\u2026",style:{"align-self":"center"}},{append:m(()=>[s(Se,{name:r.value.term?"close":"search",class:dt({"cursor-pointer":r.value.term}),onClick:d[11]||(d[11]=n=>r.value.term?r.value.term="":null)},null,8,["name","class"])]),_:1},8,["modelValue"])])]),_:2},1024)]),_:2},1032,["props"])]),body:m(f=>[s(Fl,{props:f},{default:m(()=>[s(te,{class:"text-grey"},{default:m(()=>[P(O(f.rowIndex+1),1)]),_:2},1024),s(te,{key:"date",props:f},{default:m(()=>[P(O(f.row.date),1)]),_:2},1032,["props"]),s(te,{key:"time",props:f},{default:m(()=>[P(O(f.row.time),1)]),_:2},1032,["props"]),s(te,{key:"performerUserFullName",props:f},{default:m(()=>[s(el,null,{default:m(()=>[P(O(f.row.performerUserFullName),1)]),_:2},1024)]),_:2},1032,["props"]),s(te,{key:"performerUserGroupName",props:f},{default:m(()=>[s(Y,{"text-color":"white",color:"cyan",label:f.row.performerUserGroupName},null,8,["label"])]),_:2},1032,["props"]),s(te,{key:"relatedUserFullName",props:f},{default:m(()=>[j("span",{class:dt({"text-grey":!f.row.relatedUserFullName})},O(f.row.relatedUserFullName||"No one"),3)]),_:2},1032,["props"]),s(te,{key:"action",props:f},{default:m(()=>{var n;return[s(Y,{"text-color":"white",color:((n=_e(t).activityActions.find(w=>w.action===f.row.action))==null?void 0:n.color)||"grey"},{default:m(()=>{var w,z;return[s(ee,{size:"sm","text-color":"white",icon:((w=_e(t).activityActions.find(N=>N.action===f.row.action))==null?void 0:w.icon)||"question_mark",color:((z=_e(t).activityActions.find(N=>N.action===f.row.action))==null?void 0:z.color)||"grey"},null,8,["icon","color"]),P(" "+O(f.row.action),1)]}),_:2},1032,["color"])]}),_:2},1032,["props"]),s(te,{key:"description",props:f},{default:m(()=>[P(O(f.row.description),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])]),_:1}))}});var Na=_l(Ta,[["__scopeId","data-v-fc43e180"]]);export{Na as A,Ia as a,Ea as u};
