import{Q as Vt,a as Fl}from"./QToolbar.870596f9.js";import{f as g,d as Ke,v as F,w as N,m as We,h as k,ac as pt,g as xt,ab as Ll,P as Fe,a as Le,D as re,E as ve,F as M,S as C,Q as ze,G as b,U as ll,V as Ul,W as al,_ as $l,aw as st,R as ge,X as me,ax as Dl,ay as Hl,az as Pl,aA as Rt,aB as Nl,N as Rl,ae as Ye,n as nl,aC as Ql,ag as ut,aD as ht,aa as Ze,M as xe,ao as _t,ah as St,a7 as Me,i as jl,e as yt,o as Kl,H as _e,T as ul,aE as kt,l as Wl,j as tt,u as qt,L as ct,I as rt,av as Xl,at as Yl,aF as Gl,aG as Jl,ap as Zl,a4 as ea,a0 as ol,a8 as ta,a9 as la,aH as Ge,a6 as aa,aI as na,O as ua,ad as oa,B as ia,$ as ra,aJ as sa}from"./index.4e31b32e.js";import{d as ke,f as ca,h as il,i as rl,j as sl,k as cl,l as Bt,m as dl,n as fl,o as vl,u as da,p as fa,q as va,r as ma,s as ga,t as Qt,v as jt,w as ha,x as Sa,y as Kt,z as ya,Q as ba,e as wa,b as Ca}from"./QMenu.a8311079.js";import{Q as pa,a as _a}from"./QBadge.63f83281.js";import{Q as ka}from"./QPage.06aee8f4.js";import{Q as et,d as Va,e as At,f as Re,c as je,b as qe,u as ml,a as gl,g as xa,h as qa}from"./QList.c62b36e7.js";import"./QResizeObserver.94ba5b73.js";const Ba={ratio:[String,Number]};function Aa(e,l){return g(()=>{const u=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const Ma=16/9;var hl=Ke({name:"QImg",props:{...Ba,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ma},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:u}){const d=F(e.initialRatio),n=Aa(e,d);let a=null,s=!1;const r=[F(null),F(y())],f=F(0),S=F(!1),i=F(!1),V=g(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=g(()=>({width:e.width,height:e.height})),q=g(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),p=g(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));N(()=>H(),E);function H(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function y(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function E(O){a!==null&&(clearTimeout(a),a=null),i.value=!1,O===null?(S.value=!1,r[f.value^1].value=y()):S.value=!0,r[f.value].value=O}function ee({target:O}){s!==!0&&(a!==null&&(clearTimeout(a),a=null),d.value=O.naturalHeight===0?.5:O.naturalWidth/O.naturalHeight,R(O,1))}function R(O,J){s===!0||J===1e3||(O.complete===!0?D(O):a=setTimeout(()=>{a=null,R(O,J+1)},50))}function D(O){s!==!0&&(f.value=f.value^1,r[f.value].value=null,S.value=!1,i.value=!1,u("load",O.currentSrc||O.src))}function de(O){a!==null&&(clearTimeout(a),a=null),S.value=!1,i.value=!0,r[f.value].value=null,r[f.value^1].value=y(),u("error",O)}function L(O){const J=r[O].value,Q={key:"img_"+O,class:q.value,style:p.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...J};return f.value===O?(Q.class+=" q-img__image--waiting",Object.assign(Q,{onLoad:ee,onError:de})):Q.class+=" q-img__image--loaded",k("div",{class:"q-img__container absolute-full",key:"img"+O},k("img",Q))}function G(){return S.value!==!0?k("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},xt(l[i.value===!0?"error":"default"])):k("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[k(Ll,{color:e.spinnerColor,size:e.spinnerSize})])}return E(H()),We(()=>{s=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const O=[];return n.value!==null&&O.push(k("div",{key:"filler",style:n.value})),i.value!==!0&&(r[0].value!==null&&O.push(L(0)),r[1].value!==null&&O.push(L(1))),O.push(k(pt,{name:"q-transition--fade"},G)),k("div",{class:V.value,style:x.value,role:"img","aria-label":e.alt},O)}}});const za=Fe({__name:"UsersSearch",setup(e){const l=Le();return(u,d)=>(re(),ve(ke,{modelValue:C(l).searchTerm,"onUpdate:modelValue":d[1]||(d[1]=n=>C(l).searchTerm=n),type:"search",for:"search",placeholder:"Search\u2026",class:"q-ml-md",clearable:""},{append:M(()=>[C(l).searchTerm?(re(),ve(ze,{key:0,name:"close",class:"cursor-pointer",onClick:d[0]||(d[0]=n=>C(l).searchTerm="")})):(re(),ve(ze,{key:1,name:"search"}))]),_:1},8,["modelValue"]))}});const Ta=Fe({__name:"UsersList",setup(e){const l=Le(),u=d=>{l.selectedUser=d,l.editMode=!1,l.createMode=!1};return(d,n)=>(re(),ve(et,{style:{width:"20rem"}},{default:M(()=>[b(za),b(Va,null,{default:M(()=>[(re(!0),ll(al,null,Ul(C(l).filterUsers,a=>(re(),ve(At,{key:a.userId,clickable:"",onClick:s=>u(a),class:"bg-grey-2 menu",active:C(l).selectedUser===a,"active-class":"menu-active"},{default:M(()=>[b(Re,{avatar:""},{default:M(()=>[a.avatar?(re(),ve(st,{key:0},{default:M(()=>[b(hl,{src:a.avatar,fit:"contain",ratio:1},null,8,["src"])]),_:2},1024)):(re(),ve(st,{key:1,style:{"background-color":"rgb(43, 189, 226)"}},{default:M(()=>{var s,r;return[ge(me((((s=a.givenName)==null?void 0:s.charAt(0))||"").toUpperCase())+me((((r=a.surname)==null?void 0:r.charAt(0))||"").toUpperCase()),1)]}),_:2},1024))]),_:2},1024),b(Re,null,{default:M(()=>[b(je,{class:"text-h4"},{default:M(()=>[ge(me(a.givenName),1)]),_:2},1024),b(je,{class:"text-h5"},{default:M(()=>[ge(me(a.surname),1)]),_:2},1024)]),_:2},1024),b(Re,{side:"",top:""},{default:M(()=>[b(pa,{rounded:"",color:a.status==="Active"?"green":a.status==="Pending"?"orange":"grey"},null,8,["color"])]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1}))}});var Ea=$l(Ta,[["__scopeId","data-v-341e6be0"]]);const Oa=Fe({__name:"UserAvatar",setup(e){const l=Le();return(u,d)=>C(l).selectedUser.avatar?(re(),ve(st,Dl(Hl({key:0},u.$attrs)),{default:M(()=>[Pl(u.$slots,"img"),b(hl,{src:C(l).selectedUser.avatar,fit:"contain",ratio:1},null,8,["src"])]),_:3},16)):(re(),ve(st,{key:1,style:{"background-color":"rgb(43, 189, 226)"}},{default:M(()=>{var n,a;return[ge(me((((n=C(l).selectedUser.givenName)==null?void 0:n.charAt(0))||"").toUpperCase())+me((((a=C(l).selectedUser.surname)==null?void 0:a.charAt(0))||"").toUpperCase()),1)]}),_:1}))}}),Ia=Fe({__name:"UserInfoCard",setup(e){const l=Le();return(u,d)=>(re(),ve(et,{style:{width:"16rem"}},{default:M(()=>[b(qe,{class:"column items-center"},{default:M(()=>[b(Oa,{size:"100px"})]),_:1}),b(qe,null,{default:M(()=>[b(je,{class:"text-h3 text-center"},{default:M(()=>{var n;return[ge(me((n=C(l).selectedUser)==null?void 0:n.givenName),1)]}),_:1}),b(je,{class:"text-h4 text-center"},{default:M(()=>{var n;return[ge(me((n=C(l).selectedUser)==null?void 0:n.surname),1)]}),_:1})]),_:1})]),_:1}))}});function Sl(e,l,u){let d;function n(){d!==void 0&&(Rt.remove(d),d=void 0)}return We(()=>{e.value===!0&&n()}),{removeFromHistory:n,addToHistory(){d={condition:()=>u.value===!0,handler:l},Rt.add(d)}}}function yl(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,Nl(l))}}}const Mt={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Fa=Object.keys(Mt);Mt.all=!0;function Wt(e){const l={};for(const u of Fa)e[u]===!0&&(l[u]=!0);return Object.keys(l).length===0?Mt:(l.horizontal===!0?l.left=l.right=!0:l.left===!0&&l.right===!0&&(l.horizontal=!0),l.vertical===!0?l.up=l.down=!0:l.up===!0&&l.down===!0&&(l.vertical=!0),l.horizontal===!0&&l.vertical===!0&&(l.all=!0),l)}const La=["INPUT","TEXTAREA"];function Xt(e,l){return l.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof l.handler=="function"&&La.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(l.uid)===-1)}function bt(e,l,u){const d=_t(e);let n,a=d.left-l.event.x,s=d.top-l.event.y,r=Math.abs(a),f=Math.abs(s);const S=l.direction;S.horizontal===!0&&S.vertical!==!0?n=a<0?"left":"right":S.horizontal!==!0&&S.vertical===!0?n=s<0?"up":"down":S.up===!0&&s<0?(n="up",r>f&&(S.left===!0&&a<0?n="left":S.right===!0&&a>0&&(n="right"))):S.down===!0&&s>0?(n="down",r>f&&(S.left===!0&&a<0?n="left":S.right===!0&&a>0&&(n="right"))):S.left===!0&&a<0?(n="left",r<f&&(S.up===!0&&s<0?n="up":S.down===!0&&s>0&&(n="down"))):S.right===!0&&a>0&&(n="right",r<f&&(S.up===!0&&s<0?n="up":S.down===!0&&s>0&&(n="down")));let i=!1;if(n===void 0&&u===!1){if(l.event.isFirst===!0||l.event.lastDir===void 0)return{};n=l.event.lastDir,i=!0,n==="left"||n==="right"?(d.left-=a,r=0,a=0):(d.top-=s,f=0,s=0)}return{synthetic:i,payload:{evt:e,touch:l.event.mouse!==!0,mouse:l.event.mouse===!0,position:d,direction:n,isFirst:l.event.isFirst,isFinal:u===!0,duration:Date.now()-l.event.time,distance:{x:r,y:f},offset:{x:a,y:s},delta:{x:d.left-l.event.lastX,y:d.top-l.event.lastY}}}}let Ua=0;var wt=Rl({name:"touch-pan",beforeMount(e,{value:l,modifiers:u}){if(u.mouse!==!0&&Ye.has.touch!==!0)return;function d(a,s){u.mouse===!0&&s===!0?Me(a):(u.stop===!0&&xe(a),u.prevent===!0&&Ze(a))}const n={uid:"qvtp_"+Ua++,handler:l,modifiers:u,direction:Wt(u),noop:nl,mouseStart(a){Xt(a,n)&&Ql(a)&&(ut(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(a,!0))},touchStart(a){if(Xt(a,n)){const s=a.target;ut(n,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),n.start(a)}},start(a,s){if(Ye.is.firefox===!0&&ht(e,!0),n.lastEvt=a,s===!0||u.stop===!0){if(n.direction.all!==!0&&(s!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const S=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Ze(S),a.cancelBubble===!0&&xe(S),Object.assign(S,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[n.uid]:a.qClonedBy.concat(n.uid)}),n.initialEvent={target:a.target,event:S}}xe(a)}const{left:r,top:f}=_t(a);n.event={x:r,y:f,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:f}},move(a){if(n.event===void 0)return;const s=_t(a),r=s.left-n.event.x,f=s.top-n.event.y;if(r===0&&f===0)return;n.lastEvt=a;const S=n.event.mouse===!0,i=()=>{d(a,S);let q;u.preserveCursor!==!0&&u.preservecursor!==!0&&(q=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),S===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ca(),n.styleCleanup=p=>{if(n.styleCleanup=void 0,q!==void 0&&(document.documentElement.style.cursor=q),document.body.classList.remove("non-selectable"),S===!0){const H=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{H(),p()},50):H()}else p!==void 0&&p()}};if(n.event.detected===!0){n.event.isFirst!==!0&&d(a,n.event.mouse);const{payload:q,synthetic:p}=bt(a,n,!1);q!==void 0&&(n.handler(q)===!1?n.end(a):(n.styleCleanup===void 0&&n.event.isFirst===!0&&i(),n.event.lastX=q.position.left,n.event.lastY=q.position.top,n.event.lastDir=p===!0?void 0:q.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||S===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){i(),n.event.detected=!0,n.move(a);return}const V=Math.abs(r),x=Math.abs(f);V!==x&&(n.direction.horizontal===!0&&V>x||n.direction.vertical===!0&&V<x||n.direction.up===!0&&V<x&&f<0||n.direction.down===!0&&V<x&&f>0||n.direction.left===!0&&V>x&&r<0||n.direction.right===!0&&V>x&&r>0?(n.event.detected=!0,n.move(a)):n.end(a,!0))},end(a,s){if(n.event!==void 0){if(St(n,"temp"),Ye.is.firefox===!0&&ht(e,!1),s===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(bt(a===void 0?n.lastEvt:a,n).payload);const{payload:r}=bt(a===void 0?n.lastEvt:a,n,!0),f=()=>{n.handler(r)};n.styleCleanup!==void 0?n.styleCleanup(f):f()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,u.mouse===!0){const a=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";ut(n,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}Ye.has.touch===!0&&ut(n,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const u=e.__qtouchpan;u!==void 0&&(l.oldValue!==l.value&&(typeof value!="function"&&u.end(),u.handler=l.value),u.direction=Wt(l.modifiers))},beforeUnmount(e){const l=e.__qtouchpan;l!==void 0&&(l.event!==void 0&&l.end(),St(l,"main"),St(l,"temp"),Ye.is.firefox===!0&&ht(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchpan)}});function ot(e,l,u){return u<=l?l:Math.min(u,Math.max(l,e))}function Yt(e,l,u){if(u<=l)return l;const d=u-l+1;let n=l+(e-l)%d;return n<l&&(n=d+n),n===0?0:n}const Gt=150;var bl=Ke({name:"QDrawer",inheritAttrs:!1,props:{...il,...ml,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...rl,"onLayout","miniState"],setup(e,{slots:l,emit:u,attrs:d}){const n=tt(),{proxy:{$q:a}}=n,s=gl(e,a),{preventBodyScroll:r}=yl(),{registerTimeout:f,removeTimeout:S}=sl(),i=jl(Wl,yt);if(i===yt)return console.error("QDrawer needs to be child of QLayout"),yt;let V,x=null,q;const p=F(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),H=g(()=>e.mini===!0&&p.value!==!0),y=g(()=>H.value===!0?e.miniWidth:e.width),E=F(e.showIfAbove===!0&&p.value===!1?!0:e.modelValue===!0),ee=g(()=>e.persistent!==!0&&(p.value===!0||ye.value===!0));function R(c,I){if(G(),c!==!1&&i.animate(),K(0),p.value===!0){const le=i.instances[W.value];le!==void 0&&le.belowBreakpoint===!0&&le.hide(!1),ce(1),i.isContainer.value!==!0&&r(!0)}else ce(0),c!==!1&&be(!1);f(()=>{c!==!1&&be(!0),I!==!0&&u("show",c)},Gt)}function D(c,I){O(),c!==!1&&i.animate(),ce(0),K(te.value*y.value),Te(),I!==!0?f(()=>{u("hide",c)},Gt):S()}const{show:de,hide:L}=cl({showing:E,hideOnRouteChange:ee,handleShow:R,handleHide:D}),{addToHistory:G,removeFromHistory:O}=Sl(E,L,ee),J={belowBreakpoint:p,hide:L},Q=g(()=>e.side==="right"),te=g(()=>(a.lang.rtl===!0?-1:1)*(Q.value===!0?1:-1)),Y=F(0),oe=F(!1),Ce=F(!1),he=F(y.value*te.value),W=g(()=>Q.value===!0?"left":"right"),Se=g(()=>E.value===!0&&p.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),se=g(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(Q.value?"R":"L")>-1||a.platform.is.ios===!0&&i.isContainer.value===!0),ae=g(()=>e.overlay===!1&&E.value===!0&&p.value===!1),ye=g(()=>e.overlay===!0&&E.value===!0&&p.value===!1),o=g(()=>"fullscreen q-drawer__backdrop"+(E.value===!1&&oe.value===!1?" hidden":"")),m=g(()=>({backgroundColor:`rgba(0,0,0,${Y.value*.4})`})),B=g(()=>Q.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),U=g(()=>Q.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),w=g(()=>{const c={};return i.header.space===!0&&B.value===!1&&(se.value===!0?c.top=`${i.header.offset}px`:i.header.space===!0&&(c.top=`${i.header.size}px`)),i.footer.space===!0&&U.value===!1&&(se.value===!0?c.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(c.bottom=`${i.footer.size}px`)),c}),_=g(()=>{const c={width:`${y.value}px`,transform:`translateX(${he.value}px)`};return p.value===!0?c:Object.assign(c,w.value)}),T=g(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),j=g(()=>`q-drawer q-drawer--${e.side}`+(Ce.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(oe.value===!0?" no-transition":E.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${H.value===!0?"mini":"standard"}`+(se.value===!0||ae.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(B.value===!0?" q-drawer--top-padding":""))),z=g(()=>{const c=a.lang.rtl===!0?e.side:W.value;return[[wt,Ue,void 0,{[c]:!0,mouse:!0}]]}),ne=g(()=>{const c=a.lang.rtl===!0?W.value:e.side;return[[wt,Ae,void 0,{[c]:!0,mouse:!0}]]}),pe=g(()=>{const c=a.lang.rtl===!0?W.value:e.side;return[[wt,Ae,void 0,{[c]:!0,mouse:!0,mouseAllDir:!0}]]});function Be(){fe(p,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}N(p,c=>{c===!0?(V=E.value,E.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&V!==!1&&(E.value===!0?(K(0),ce(0),Te()):de(!1))}),N(()=>e.side,(c,I)=>{i.instances[I]===J&&(i.instances[I]=void 0,i[I].space=!1,i[I].offset=0),i.instances[c]=J,i[c].size=y.value,i[c].space=ae.value,i[c].offset=Se.value}),N(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&Be()}),N(()=>e.behavior+e.breakpoint,Be),N(i.isContainer,c=>{E.value===!0&&r(c!==!0),c===!0&&Be()}),N(i.scrollbarWidth,()=>{K(E.value===!0?0:void 0)}),N(Se,c=>{ie("offset",c)}),N(ae,c=>{u("onLayout",c),ie("space",c)}),N(Q,()=>{K()}),N(y,c=>{K(),Z(e.miniToOverlay,c)}),N(()=>e.miniToOverlay,c=>{Z(c,y.value)}),N(()=>a.lang.rtl,()=>{K()}),N(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ve(),i.animate())}),N(H,c=>{u("miniState",c)});function K(c){c===void 0?_e(()=>{c=E.value===!0?0:y.value,K(te.value*c)}):(i.isContainer.value===!0&&Q.value===!0&&(p.value===!0||Math.abs(c)===y.value)&&(c+=te.value*i.scrollbarWidth.value),he.value=c)}function ce(c){Y.value=c}function be(c){const I=c===!0?"remove":i.isContainer.value!==!0?"add":"";I!==""&&document.body.classList[I]("q-body--drawer-toggle")}function Ve(){x!==null&&clearTimeout(x),n.proxy&&n.proxy.$el&&n.proxy.$el.classList.add("q-drawer--mini-animate"),Ce.value=!0,x=setTimeout(()=>{x=null,Ce.value=!1,n&&n.proxy&&n.proxy.$el&&n.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ue(c){if(E.value!==!1)return;const I=y.value,le=ot(c.distance.x,0,I);if(c.isFinal===!0){le>=Math.min(75,I)===!0?de():(i.animate(),ce(0),K(te.value*I)),oe.value=!1;return}K((a.lang.rtl===!0?Q.value!==!0:Q.value)?Math.max(I-le,0):Math.min(0,le-I)),ce(ot(le/I,0,1)),c.isFirst===!0&&(oe.value=!0)}function Ae(c){if(E.value!==!0)return;const I=y.value,le=c.direction===e.side,Ee=(a.lang.rtl===!0?le!==!0:le)?ot(c.distance.x,0,I):0;if(c.isFinal===!0){Math.abs(Ee)<Math.min(75,I)===!0?(i.animate(),ce(1),K(0)):L(),oe.value=!1;return}K(te.value*Ee),ce(ot(1-Ee/I,0,1)),c.isFirst===!0&&(oe.value=!0)}function Te(){r(!1),be(!0)}function ie(c,I){i.update(e.side,c,I)}function fe(c,I){c.value!==I&&(c.value=I)}function Z(c,I){ie("size",c===!0?e.miniWidth:I)}return i.instances[e.side]=J,Z(e.miniToOverlay,y.value),ie("space",ae.value),ie("offset",Se.value),e.showIfAbove===!0&&e.modelValue!==!0&&E.value===!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!0),Kl(()=>{u("onLayout",ae.value),u("miniState",H.value),V=e.showIfAbove===!0;const c=()=>{(E.value===!0?R:D)(!1,!0)};if(i.totalWidth.value!==0){_e(c);return}q=N(i.totalWidth,()=>{q(),q=void 0,E.value===!1&&e.showIfAbove===!0&&p.value===!1?de(!1):c()})}),We(()=>{q!==void 0&&q(),x!==null&&(clearTimeout(x),x=null),E.value===!0&&Te(),i.instances[e.side]===J&&(i.instances[e.side]=void 0,ie("size",0),ie("offset",0),ie("space",!1))}),()=>{const c=[];p.value===!0&&(e.noSwipeOpen===!1&&c.push(ul(k("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),z.value)),c.push(kt("div",{ref:"backdrop",class:o.value,style:m.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&E.value===!0,()=>pe.value)));const I=H.value===!0&&l.mini!==void 0,le=[k("div",{...d,key:""+I,class:[T.value,d.class]},I===!0?l.mini():xt(l.default))];return e.elevated===!0&&E.value===!0&&le.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(kt("aside",{ref:"content",class:j.value,style:_.value},le,"contentclose",e.noSwipeClose!==!0&&p.value===!0,()=>ne.value)),k("div",{class:"q-drawer-container"},c)}}});const $a=rt("br",null,null,-1),Da=Fe({__name:"UserCreateDrawer",setup(e){const l=Le(),u=qt(),d=F({subject:"",body:""});N(()=>({givenName:l.user.givenName,surname:l.user.surname}),a=>{d.value.subject=`Onboarding ${a.givenName} ${a.surname}`,d.value.body=`Please add ${a.givenName} to the system.
Name: ${a.givenName}
Surname: ${a.surname}`},{immediate:!0});const n=()=>{l.user={givenName:"",surname:"",status:"Pending",groupId:""}};return(a,s)=>(re(),ve(bl,{modelValue:C(l).createMode,"onUpdate:modelValue":s[5]||(s[5]=r=>C(l).createMode=r),onBeforeShow:s[6]||(s[6]=r=>n()),width:384,bordered:"",overlay:"",side:"right"},{default:M(()=>[b(et,null,{default:M(()=>[b(qe,null,{default:M(()=>[b(Vt,null,{default:M(()=>[ge(" Create User ")]),_:1}),b(je,{class:"text-body2"},{default:M(()=>[ge(" A new User will be created and, an email request to add him/her to Active Directory will be send ")]),_:1}),$a,b(ct,{dense:"",label:"Create User and Send Request",icon:"person_add",color:"primary",onClick:s[0]||(s[0]=r=>C(l).createUser(d.value))})]),_:1}),b(qe,null,{default:M(()=>[b(ke,{modelValue:C(l).user.givenName,"onUpdate:modelValue":s[1]||(s[1]=r=>C(l).user.givenName=r),label:"Name"},null,8,["modelValue"]),b(ke,{modelValue:C(l).user.surname,"onUpdate:modelValue":s[2]||(s[2]=r=>C(l).user.surname=r),label:"Surname"},null,8,["modelValue"])]),_:1})]),_:1}),b(et,{class:"bg-blue-2"},{default:M(()=>[b(qe,null,{default:M(()=>[b(At,{style:{"background-color":"#00bfff9b"}},{default:M(()=>[b(Re,{avatar:""},{default:M(()=>[b(ze,{name:"mail"})]),_:1}),b(Re,null,{default:M(()=>[ge(me(C(u).bookingsSupportEmail),1)]),_:1})]),_:1}),b(ke,{modelValue:d.value.subject,"onUpdate:modelValue":s[3]||(s[3]=r=>d.value.subject=r),label:"Subject"},null,8,["modelValue"]),b(ke,{modelValue:d.value.body,"onUpdate:modelValue":s[4]||(s[4]=r=>d.value.body=r),label:"Body",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});var Ha=Ke({name:"QField",inheritAttrs:!1,props:Bt,emits:dl,setup(){return fl(vl())}});const Pa={xs:8,sm:10,md:14,lg:20,xl:24};var Na=Ke({name:"QChip",props:{...ml,...Xl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:u}){const{proxy:{$q:d}}=tt(),n=gl(e,d),a=Yl(e,Pa),s=g(()=>e.selected===!0||e.icon!==void 0),r=g(()=>e.selected===!0?e.iconSelected||d.iconSet.chip.selected:e.icon),f=g(()=>e.iconRemove||d.iconSet.chip.remove),S=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),i=g(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(S.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),V=g(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},E={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||d.lang.label.remove};return{chip:y,remove:E}});function x(y){y.keyCode===13&&q(y)}function q(y){e.disable||(u("update:selected",!e.selected),u("click",y))}function p(y){(y.keyCode===void 0||y.keyCode===13)&&(Me(y),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function H(){const y=[];S.value===!0&&y.push(k("div",{class:"q-focus-helper"})),s.value===!0&&y.push(k(ze,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const E=e.label!==void 0?[k("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(k("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Gl(l.default,E))),e.iconRight&&y.push(k(ze,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(k(ze,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...V.value.remove,onClick:p,onKeyup:p})),y}return()=>{if(e.modelValue===!1)return;const y={class:i.value,style:a.value};return S.value===!0&&Object.assign(y,V.value.chip,{onClick:q,onKeyup:x}),kt("div",y,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Jl,e.ripple]])}}});let it=0;const Ra={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Jt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Qa=Ke({name:"QDialog",inheritAttrs:!1,props:{...il,...da,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...rl,"shake","click","escapeKey"],setup(e,{slots:l,emit:u,attrs:d}){const n=tt(),a=F(null),s=F(!1),r=F(!1);let f=null,S=null,i,V;const x=g(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:q}=yl(),{registerTimeout:p}=sl(),{registerTick:H,removeTick:y}=fa(),{transitionProps:E,transitionStyle:ee}=va(e,()=>Jt[e.position][0],()=>Jt[e.position][1]),{showPortal:R,hidePortal:D,portalIsAccessible:de,renderPortal:L}=ma(n,a,U,"dialog"),{hide:G}=cl({showing:s,hideOnRouteChange:x,handleShow:Ce,handleHide:he,processOnMount:!0}),{addToHistory:O,removeFromHistory:J}=Sl(s,G,x),Q=g(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ra[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),te=g(()=>s.value===!0&&e.seamless!==!0),Y=g(()=>e.autoClose===!0?{onClick:o}:{}),oe=g(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${te.value===!0?"modal":"seamless"}`,d.class]);N(()=>e.maximized,w=>{s.value===!0&&ye(w)}),N(te,w=>{q(w),w===!0?(ha(B),Sa(se)):(Qt(B),jt(se))});function Ce(w){O(),S=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ye(e.maximized),R(),r.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),H(W)):y(),p(()=>{if(n.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:_,bottom:T}=document.activeElement.getBoundingClientRect(),{innerHeight:j}=window,z=window.visualViewport!==void 0?window.visualViewport.height:j;_>0&&T>z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-z,T>=j?1/0:Math.ceil(document.scrollingElement.scrollTop+T-z/2))),document.activeElement.scrollIntoView()}V=!0,a.value.click(),V=!1}R(!0),r.value=!1,u("show",w)},e.transitionDuration)}function he(w){y(),J(),ae(!0),r.value=!0,D(),S!==null&&(((w&&w.type.indexOf("key")===0?S.closest('[tabindex]:not([tabindex^="-"])'):void 0)||S).focus(),S=null),p(()=>{D(!0),r.value=!1,u("hide",w)},e.transitionDuration)}function W(w){ga(()=>{let _=a.value;_===null||_.contains(document.activeElement)===!0||(_=(w!==""?_.querySelector(w):null)||_.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||_.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||_.querySelector("[autofocus], [data-autofocus]")||_,_.focus({preventScroll:!0}))})}function Se(w){w&&typeof w.focus=="function"?w.focus({preventScroll:!0}):W(),u("shake");const _=a.value;_!==null&&(_.classList.remove("q-animate--scale"),_.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,a.value!==null&&(_.classList.remove("q-animate--scale"),W())},170))}function se(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Se():(u("escapeKey"),G()))}function ae(w){f!==null&&(clearTimeout(f),f=null),(w===!0||s.value===!0)&&(ye(!1),e.seamless!==!0&&(q(!1),Qt(B),jt(se))),w!==!0&&(S=null)}function ye(w){w===!0?i!==!0&&(it<1&&document.body.classList.add("q-body--dialog"),it++,i=!0):i===!0&&(it<2&&document.body.classList.remove("q-body--dialog"),it--,i=!1)}function o(w){V!==!0&&(G(w),u("click",w))}function m(w){e.persistent!==!0&&e.noBackdropDismiss!==!0?G(w):e.noShake!==!0&&Se()}function B(w){e.allowFocusOutside!==!0&&de.value===!0&&Zl(a.value,w.target)!==!0&&W('[tabindex]:not([tabindex="-1"])')}Object.assign(n.proxy,{focus:W,shake:Se,__updateRefocusTarget(w){S=w||null}}),We(ae);function U(){return k("div",{role:"dialog","aria-modal":te.value===!0?"true":"false",...d,class:oe.value},[k(pt,{name:"q-transition--fade",appear:!0},()=>te.value===!0?k("div",{class:"q-dialog__backdrop fixed-full",style:ee.value,"aria-hidden":"true",tabindex:-1,onClick:m}):null),k(pt,E.value,()=>s.value===!0?k("div",{ref:a,class:Q.value,style:ee.value,tabindex:-1,...Y.value},xt(l.default)):null)])}return L}});let dt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,dt=e.scrollLeft>=0,e.remove()}const we=1e3,ja=["start","center","end","start-force","center-force","end-force"],wl=Array.prototype.filter,Ka=window.getComputedStyle(document.body).overflowAnchor===void 0?nl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];wl.call(u,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const d=u[l];d&&d.dataset&&(d.dataset.qVsAnchor="")}))};function Qe(e,l){return e+l}function Ct(e,l,u,d,n,a,s,r){const f=e===window?document.scrollingElement||document.documentElement:e,S=n===!0?"offsetWidth":"offsetHeight",i={scrollStart:0,scrollViewSize:-s-r,scrollMaxSize:0,offsetStart:-s,offsetEnd:-r};if(n===!0?(e===window?(i.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i.scrollViewSize+=document.documentElement.clientWidth):(i.scrollStart=f.scrollLeft,i.scrollViewSize+=f.clientWidth),i.scrollMaxSize=f.scrollWidth,a===!0&&(i.scrollStart=(dt===!0?i.scrollMaxSize-i.scrollViewSize:0)-i.scrollStart)):(e===window?(i.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,i.scrollViewSize+=document.documentElement.clientHeight):(i.scrollStart=f.scrollTop,i.scrollViewSize+=f.clientHeight),i.scrollMaxSize=f.scrollHeight),u!==null)for(let V=u.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetStart+=V[S]);if(d!==null)for(let V=d.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetEnd+=V[S]);if(l!==e){const V=f.getBoundingClientRect(),x=l.getBoundingClientRect();n===!0?(i.offsetStart+=x.left-V.left,i.offsetEnd-=x.width):(i.offsetStart+=x.top-V.top,i.offsetEnd-=x.height),e!==window&&(i.offsetStart+=i.scrollStart),i.offsetEnd+=i.scrollMaxSize-i.offsetStart}return i}function Zt(e,l,u,d){l==="end"&&(l=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(d===!0&&(l=(dt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):u===!0?(d===!0&&(l=(dt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Je(e,l,u,d){if(u>=d)return 0;const n=l.length,a=Math.floor(u/we),s=Math.floor((d-1)/we)+1;let r=e.slice(a,s).reduce(Qe,0);return u%we!==0&&(r-=l.slice(a*we,u).reduce(Qe,0)),d%we!==0&&d!==n&&(r-=l.slice(d,s*we).reduce(Qe,0)),r}const Wa={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xa={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Wa};function Ya({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:u,virtualScrollItemSizeComputed:d}){const n=tt(),{props:a,emit:s,proxy:r}=n,{$q:f}=r;let S,i,V,x=[],q;const p=F(0),H=F(0),y=F({}),E=F(null),ee=F(null),R=F(null),D=F({from:0,to:0}),de=g(()=>a.tableColspan!==void 0?a.tableColspan:100);d===void 0&&(d=g(()=>a.virtualScrollItemSize));const L=g(()=>d.value+";"+a.virtualScrollHorizontal),G=g(()=>L.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);N(G,()=>{W()}),N(L,O);function O(){he(i,!0)}function J(o){he(o===void 0?i:o)}function Q(o,m){const B=l();if(B==null||B.nodeType===8)return;const U=Ct(B,u(),E.value,ee.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);V!==U.scrollViewSize&&W(U.scrollViewSize),Y(B,U,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,ja.indexOf(m)>-1?m:i>-1&&o>i?"end":"start")}function te(){const o=l();if(o==null||o.nodeType===8)return;const m=Ct(o,u(),E.value,ee.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),B=e.value-1,U=m.scrollMaxSize-m.offsetStart-m.offsetEnd-H.value;if(S===m.scrollStart)return;if(m.scrollMaxSize<=0){Y(o,m,0,0);return}V!==m.scrollViewSize&&W(m.scrollViewSize),oe(D.value.from);const w=Math.floor(m.scrollMaxSize-Math.max(m.scrollViewSize,m.offsetEnd)-Math.min(q[B],m.scrollViewSize/2));if(w>0&&Math.ceil(m.scrollStart)>=w){Y(o,m,B,m.scrollMaxSize-m.offsetEnd-x.reduce(Qe,0));return}let _=0,T=m.scrollStart-m.offsetStart,j=T;if(T<=U&&T+m.scrollViewSize>=p.value)T-=p.value,_=D.value.from,j=T;else for(let z=0;T>=x[z]&&_<B;z++)T-=x[z],_+=we;for(;T>0&&_<B;)T-=q[_],T>-m.scrollViewSize?(_++,j=T):j=q[_]+T;Y(o,m,_,j)}function Y(o,m,B,U,w){const _=typeof w=="string"&&w.indexOf("-force")>-1,T=_===!0?w.replace("-force",""):w,j=T!==void 0?T:"start";let z=Math.max(0,B-y.value[j]),ne=z+y.value.total;ne>e.value&&(ne=e.value,z=Math.max(0,ne-y.value.total)),S=m.scrollStart;const pe=z!==D.value.from||ne!==D.value.to;if(pe===!1&&T===void 0){se(B);return}const{activeElement:Be}=document,K=R.value;pe===!0&&K!==null&&K!==Be&&K.contains(Be)===!0&&(K.addEventListener("focusout",Ce),setTimeout(()=>{K!==null&&K.removeEventListener("focusout",Ce)})),Ka(K,B-z);const ce=T!==void 0?q.slice(z,B).reduce(Qe,0):0;if(pe===!0){const be=ne>=D.value.from&&z<=D.value.to?D.value.to:ne;D.value={from:z,to:be},p.value=Je(x,q,0,z),H.value=Je(x,q,ne,e.value),requestAnimationFrame(()=>{D.value.to!==ne&&S===m.scrollStart&&(D.value={from:D.value.from,to:ne},H.value=Je(x,q,ne,e.value))})}requestAnimationFrame(()=>{if(S!==m.scrollStart)return;pe===!0&&oe(z);const be=q.slice(z,B).reduce(Qe,0),Ve=be+m.offsetStart+p.value,Ue=Ve+q[B];let Ae=Ve+U;if(T!==void 0){const Te=be-ce,ie=m.scrollStart+Te;Ae=_!==!0&&ie<Ve&&Ue<ie+m.scrollViewSize?ie:T==="end"?Ue-m.scrollViewSize:Ve-(T==="start"?0:Math.round((m.scrollViewSize-q[B])/2))}S=Ae,Zt(o,Ae,a.virtualScrollHorizontal,f.lang.rtl),se(B)})}function oe(o){const m=R.value;if(m){const B=wl.call(m.children,z=>z.classList&&z.classList.contains("q-virtual-scroll--skip")===!1),U=B.length,w=a.virtualScrollHorizontal===!0?z=>z.getBoundingClientRect().width:z=>z.offsetHeight;let _=o,T,j;for(let z=0;z<U;){for(T=w(B[z]),z++;z<U&&B[z].classList.contains("q-virtual-scroll--with-prev")===!0;)T+=w(B[z]),z++;j=T-q[_],j!==0&&(q[_]+=j,x[Math.floor(_/we)]+=j),_++}}}function Ce(){R.value!==null&&R.value!==void 0&&R.value.focus()}function he(o,m){const B=1*d.value;(m===!0||Array.isArray(q)===!1)&&(q=[]);const U=q.length;q.length=e.value;for(let _=e.value-1;_>=U;_--)q[_]=B;const w=Math.floor((e.value-1)/we);x=[];for(let _=0;_<=w;_++){let T=0;const j=Math.min((_+1)*we,e.value);for(let z=_*we;z<j;z++)T+=q[z];x.push(T)}i=-1,S=void 0,p.value=Je(x,q,0,D.value.from),H.value=Je(x,q,D.value.to,e.value),o>=0?(oe(D.value.from),_e(()=>{Q(o)})):ae()}function W(o){if(o===void 0&&typeof window!="undefined"){const T=l();T!=null&&T.nodeType!==8&&(o=Ct(T,u(),E.value,ee.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}V=o;const m=parseFloat(a.virtualScrollSliceRatioBefore)||0,B=parseFloat(a.virtualScrollSliceRatioAfter)||0,U=1+m+B,w=o===void 0||o<=0?1:Math.ceil(o/d.value),_=Math.max(1,w,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/U));y.value={total:Math.ceil(_*U),start:Math.ceil(_*m),center:Math.ceil(_*(.5+m)),end:Math.ceil(_*(1+m)),view:w}}function Se(o,m){const B=a.virtualScrollHorizontal===!0?"width":"height",U={["--q-virtual-scroll-item-"+B]:d.value+"px"};return[o==="tbody"?k(o,{class:"q-virtual-scroll__padding",key:"before",ref:E},[k("tr",[k("td",{style:{[B]:`${p.value}px`,...U},colspan:de.value})])]):k(o,{class:"q-virtual-scroll__padding",key:"before",ref:E,style:{[B]:`${p.value}px`,...U}}),k(o,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},m.flat()),o==="tbody"?k(o,{class:"q-virtual-scroll__padding",key:"after",ref:ee},[k("tr",[k("td",{style:{[B]:`${H.value}px`,...U},colspan:de.value})])]):k(o,{class:"q-virtual-scroll__padding",key:"after",ref:ee,style:{[B]:`${H.value}px`,...U}})]}function se(o){i!==o&&(a.onVirtualScroll!==void 0&&s("virtualScroll",{index:o,from:D.value.from,to:D.value.to-1,direction:o<i?"decrease":"increase",ref:r}),i=o)}W();const ae=ea(te,f.platform.is.ios===!0?120:35);ol(()=>{W()});let ye=!1;return ta(()=>{ye=!0}),la(()=>{if(ye!==!0)return;const o=l();S!==void 0&&o!==void 0&&o!==null&&o.nodeType!==8?Zt(o,S,a.virtualScrollHorizontal,f.lang.rtl):Q(i)}),We(()=>{ae.cancel()}),Object.assign(r,{scrollTo:Q,reset:O,refresh:J}),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:W,onVirtualScrollEvt:ae,localResetVirtualScroll:he,padVirtualScroll:Se,scrollTo:Q,reset:O,refresh:J}}const el=e=>["add","add-unique","toggle"].includes(e),Ga=".*+?^${}()|[]\\",Ja=Object.keys(Bt);var tl=Ke({name:"QSelect",inheritAttrs:!1,props:{...Xa,...xa,...Bt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:el},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...dl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:u}){const{proxy:d}=tt(),{$q:n}=d,a=F(!1),s=F(!1),r=F(-1),f=F(""),S=F(!1),i=F(!1);let V=null,x=null,q,p,H,y=null,E,ee,R,D;const de=F(null),L=F(null),G=F(null),O=F(null),J=F(null),Q=qa(e),te=ya($t),Y=g(()=>Array.isArray(e.options)?e.options.length:0),oe=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ce,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:W,padVirtualScroll:Se,onVirtualScrollEvt:se,scrollTo:ae,setVirtualScrollSize:ye}=Ya({virtualScrollLength:Y,getVirtualScrollTarget:_l,getVirtualScrollEl:Lt,virtualScrollItemSizeComputed:oe}),o=vl(),m=g(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,h=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const v=e.mapOptions===!0&&q!==void 0?q:[],A=h.map(P=>pl(P,v));return e.modelValue===null&&t===!0?A.filter(P=>P!==null):A}return h}),B=g(()=>{const t={};return Ja.forEach(h=>{const v=e[h];v!==void 0&&(t[h]=v)}),t}),U=g(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),w=g(()=>Kt(m.value)),_=g(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||m.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),T=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),j=g(()=>Y.value===0),z=g(()=>m.value.map(t=>Z.value(t)).join(", ")),ne=g(()=>e.displayValue!==void 0?e.displayValue:z.value),pe=g(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Be=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||m.value.some(pe.value))),K=g(()=>o.focused.value===!0?e.tabindex:-1),ce=g(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${o.targetUid.value}_lb`};return r.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${r.value}`),t}),be=g(()=>({id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ve=g(()=>m.value.map((t,h)=>({index:h,opt:t,html:pe.value(t),selected:!0,removeAtIndex:Cl,toggleOption:Oe,tabindex:K.value}))),Ue=g(()=>{if(Y.value===0)return[];const{from:t,to:h}=Ce.value;return e.options.slice(t,h).map((v,A)=>{const P=c.value(v)===!0,$=t+A,X={clickable:!0,active:!1,activeClass:ie.value,manualFocus:!0,focused:!1,disable:P,tabindex:-1,dense:e.optionsDense,dark:U.value,role:"option",id:`${o.targetUid.value}_${$}`,onClick:()=>{Oe(v)}};return P!==!0&&(vt(v)===!0&&(X.active=!0),r.value===$&&(X.focused=!0),X["aria-selected"]=X.active===!0?"true":"false",n.platform.is.desktop===!0&&(X.onMousemove=()=>{a.value===!0&&$e($)})),{index:$,opt:v,html:pe.value(v),label:Z.value(v),selected:X.active,focused:X.focused,toggleOption:Oe,setOptionIndex:$e,itemProps:X}})}),Ae=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),Te=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ie=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),fe=g(()=>ft(e.optionValue,"value")),Z=g(()=>ft(e.optionLabel,"label")),c=g(()=>ft(e.optionDisable,"disable")),I=g(()=>m.value.map(t=>fe.value(t))),le=g(()=>{const t={onInput:$t,onChange:te,onKeydown:Ft,onKeyup:Ot,onKeypress:It,onFocus:Tt,onClick(h){p===!0&&xe(h)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=te,t});N(m,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(s.value!==!0&&a.value!==!0||w.value!==!0)&&(H!==!0&&Ne(),(s.value===!0||a.value===!0)&&De(""))},{immediate:!0}),N(()=>e.fillInput,Ne),N(a,mt),N(Y,Il);function Ee(t){return e.emitValue===!0?fe.value(t):t}function lt(t){if(t>-1&&t<m.value.length)if(e.multiple===!0){const h=e.modelValue.slice();u("remove",{index:t,value:h.splice(t,1)[0]}),u("update:modelValue",h)}else u("update:modelValue",null)}function Cl(t){lt(t),o.focus()}function zt(t,h){const v=Ee(t);if(e.multiple!==!0){e.fillInput===!0&&Xe(Z.value(t),!0,!0),u("update:modelValue",v);return}if(m.value.length===0){u("add",{index:0,value:v}),u("update:modelValue",e.multiple===!0?[v]:v);return}if(h===!0&&vt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const A=e.modelValue.slice();u("add",{index:A.length,value:v}),A.push(v),u("update:modelValue",A)}function Oe(t,h){if(o.editable.value!==!0||t===void 0||c.value(t)===!0)return;const v=fe.value(t);if(e.multiple!==!0){h!==!0&&(Xe(e.fillInput===!0?Z.value(t):"",!0,!0),Ie()),L.value!==null&&L.value.focus(),(m.value.length===0||Ge(fe.value(m.value[0]),v)!==!0)&&u("update:modelValue",e.emitValue===!0?v:t);return}if((p!==!0||S.value===!0)&&o.focus(),Tt(),m.value.length===0){const $=e.emitValue===!0?v:t;u("add",{index:0,value:$}),u("update:modelValue",e.multiple===!0?[$]:$);return}const A=e.modelValue.slice(),P=I.value.findIndex($=>Ge($,v));if(P>-1)u("remove",{index:P,value:A.splice(P,1)[0]});else{if(e.maxValues!==void 0&&A.length>=e.maxValues)return;const $=e.emitValue===!0?v:t;u("add",{index:A.length,value:$}),A.push($)}u("update:modelValue",A)}function $e(t){if(n.platform.is.desktop!==!0)return;const h=t>-1&&t<Y.value?t:-1;r.value!==h&&(r.value=h)}function at(t=1,h){if(a.value===!0){let v=r.value;do v=Yt(v+t,-1,Y.value-1);while(v!==-1&&v!==r.value&&c.value(e.options[v])===!0);r.value!==v&&($e(v),ae(v),h!==!0&&e.useInput===!0&&e.fillInput===!0&&nt(v>=0?Z.value(e.options[v]):E,!0))}}function pl(t,h){const v=A=>Ge(fe.value(A),t);return e.options.find(v)||h.find(v)||t}function ft(t,h){const v=t!==void 0?t:h;return typeof v=="function"?v:A=>A!==null&&typeof A=="object"&&v in A?A[v]:A}function vt(t){const h=fe.value(t);return I.value.find(v=>Ge(v,h))!==void 0}function Tt(t){e.useInput===!0&&L.value!==null&&(t===void 0||L.value===t.target&&t.target.value===z.value)&&L.value.select()}function Et(t){ua(t,27)===!0&&a.value===!0&&(xe(t),Ie(),Ne()),u("keyup",t)}function Ot(t){const{value:h}=t.target;if(t.keyCode!==void 0){Et(t);return}if(t.target.value="",V!==null&&(clearTimeout(V),V=null),x!==null&&(clearTimeout(x),x=null),Ne(),typeof h=="string"&&h.length!==0){const v=h.toLocaleLowerCase(),A=$=>{const X=e.options.find(ue=>$.value(ue).toLocaleLowerCase()===v);return X===void 0?!1:(m.value.indexOf(X)===-1?Oe(X):Ie(),!0)},P=$=>{A(fe)!==!0&&(A(Z)===!0||$===!0||De(h,!0,()=>P(!0)))};P()}else o.clearValue(t)}function It(t){u("keypress",t)}function Ft(t){if(u("keydown",t),oa(t)===!0)return;const h=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),v=t.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||h===!0);if(t.keyCode===27){Ze(t);return}if(t.keyCode===9&&v===!1){He();return}if(t.target===void 0||t.target.id!==o.targetUid.value||o.editable.value!==!0)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&a.value===!1){Me(t),Pe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?lt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(Me(t),r.value=-1,at(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&he.value!==void 0&&(Me(t),r.value=Math.max(-1,Math.min(Y.value,r.value+(t.keyCode===33?-1:1)*he.value.view)),at(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Me(t),at(t.keyCode===38?-1:1,e.multiple));const A=Y.value;if((R===void 0||D<Date.now())&&(R=""),A>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||R.length!==0)){a.value!==!0&&Pe(t);const P=t.key.toLocaleLowerCase(),$=R.length===1&&R[0]===P;D=Date.now()+1500,$===!1&&(Me(t),R+=P);const X=new RegExp("^"+R.split("").map(gt=>Ga.indexOf(gt)>-1?"\\"+gt:gt).join(".*"),"i");let ue=r.value;if($===!0||ue<0||X.test(Z.value(e.options[ue]))!==!0)do ue=Yt(ue+1,-1,A-1);while(ue!==r.value&&(c.value(e.options[ue])===!0||X.test(Z.value(e.options[ue]))!==!0));r.value!==ue&&_e(()=>{$e(ue),ae(ue),ue>=0&&e.useInput===!0&&e.fillInput===!0&&nt(Z.value(e.options[ue]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||R!=="")&&(t.keyCode!==9||v===!1))){if(t.keyCode!==9&&Me(t),r.value>-1&&r.value<A){Oe(e.options[r.value]);return}if(h===!0){const P=($,X)=>{if(X){if(el(X)!==!0)return}else X=e.newValueMode;if(Xe("",e.multiple!==!0,!0),$==null)return;(X==="toggle"?Oe:zt)($,X==="add-unique"),e.multiple!==!0&&(L.value!==null&&L.value.focus(),Ie())};if(e.onNewValue!==void 0?u("newValue",f.value,P):P(f.value),e.multiple!==!0)return}a.value===!0?He():o.innerLoading.value!==!0&&Pe()}}function Lt(){return p===!0?J.value:G.value!==null&&G.value.contentEl!==null?G.value.contentEl:void 0}function _l(){return Lt()}function kl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ve.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ve.value.map((t,h)=>k(Na,{key:"option-"+h,removable:o.editable.value===!0&&c.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:K.value,onRemove(){t.removeAtIndex(h)}},()=>k("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:Z.value(t.opt)}))):[k("span",{[Be.value===!0?"innerHTML":"textContent"]:ne.value})]}function Ut(){if(j.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:f.value}):void 0;const t=l.option!==void 0?l.option:v=>k(At,{key:v.index,...v.itemProps},()=>k(Re,()=>k(je,()=>k("span",{[v.html===!0?"innerHTML":"textContent"]:v.label}))));let h=Se("div",Ue.value.map(t));return l["before-options"]!==void 0&&(h=l["before-options"]().concat(h)),ia(l["after-options"],h)}function Vl(t,h){const v=h===!0?{...ce.value,...o.splitAttrs.attributes.value}:void 0,A={ref:h===!0?L:void 0,key:"i_t",class:_.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...v,id:h===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...le.value};return t!==!0&&p===!0&&(Array.isArray(A.class)===!0?A.class=[...A.class,"no-pointer-events"]:A.class+=" no-pointer-events"),k("input",A)}function $t(t){V!==null&&(clearTimeout(V),V=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(nt(t.target.value||""),H=!0,E=f.value,o.focused.value!==!0&&(p!==!0||S.value===!0)&&o.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{V=null,De(f.value)},e.inputDebounce)))}function nt(t,h){f.value!==t&&(f.value=t,h===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",t):x=setTimeout(()=>{x=null,u("inputValue",t)},e.inputDebounce))}function Xe(t,h,v){H=v!==!0,e.useInput===!0&&(nt(t,!0),(h===!0||v!==!0)&&(E=t),h!==!0&&De(t))}function De(t,h,v){if(e.onFilter===void 0||h!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?u("filterAbort"):(o.innerLoading.value=!0,i.value=!0),t!==""&&e.multiple!==!0&&m.value.length!==0&&H!==!0&&t===Z.value(m.value[0])&&(t="");const A=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);y!==null&&clearTimeout(y),y=A,u("filter",t,(P,$)=>{(h===!0||o.focused.value===!0)&&y===A&&(clearTimeout(y),typeof P=="function"&&P(),i.value=!1,_e(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(h===!0?a.value===!0&&Ie():a.value===!0?mt(!0):a.value=!0),typeof $=="function"&&_e(()=>{$(d)}),typeof v=="function"&&_e(()=>{v(d)})}))},()=>{o.focused.value===!0&&y===A&&(clearTimeout(y),o.innerLoading.value=!1,i.value=!1),a.value===!0&&(a.value=!1)})}function xl(){return k(ba,{ref:G,class:T.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&j.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:U.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Te.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...be.value,onScrollPassive:se,onBeforeShow:Ht,onBeforeHide:ql,onShow:Bl},Ut)}function ql(t){Pt(t),He()}function Bl(){ye()}function Al(t){xe(t),L.value!==null&&L.value.focus(),S.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ml(t){xe(t),_e(()=>{S.value=!1})}function zl(){const t=[k(Ha,{class:`col-auto ${o.fieldClass.value}`,...B.value,for:o.targetUid.value,dark:U.value,square:!0,loading:i.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...o.splitAttrs.listeners.value,onFocus:Al,onBlur:Ml},{...l,rawControl:()=>o.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(k("div",{ref:J,class:T.value+" scroll",style:e.popupContentStyle,...be.value,onClick:Ze,onScrollPassive:se},Ut())),k(Qa,{ref:O,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:ee,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Ht,onBeforeHide:Tl,onHide:El,onShow:Ol},()=>k("div",{class:"q-select__dialog"+(U.value===!0?" q-select__dialog--dark q-dark":"")+(S.value===!0?" q-select__dialog--focused":"")},t))}function Tl(t){Pt(t),O.value!==null&&O.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function El(t){Ie(),o.focused.value===!1&&u("blur",t),Ne()}function Ol(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&L.value!==null&&L.value!==t&&L.value.focus(),ye()}function He(){s.value!==!0&&(r.value=-1,a.value===!0&&(a.value=!1),o.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),o.innerLoading.value===!0&&(u("filterAbort"),o.innerLoading.value=!1,i.value=!1)))}function Pe(t){o.editable.value===!0&&(p===!0?(o.onControlFocusin(t),s.value=!0,_e(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?De(f.value):(j.value!==!0||l["no-option"]!==void 0)&&(a.value=!0))}function Ie(){s.value=!1,He()}function Ne(){e.useInput===!0&&Xe(e.multiple!==!0&&e.fillInput===!0&&m.value.length!==0&&Z.value(m.value[0])||"",!0,!0)}function mt(t){let h=-1;if(t===!0){if(m.value.length!==0){const v=fe.value(m.value[0]);h=e.options.findIndex(A=>Ge(fe.value(A),v))}W(h)}$e(h)}function Il(t,h){a.value===!0&&o.innerLoading.value===!1&&(W(-1,!0),_e(()=>{a.value===!0&&o.innerLoading.value===!1&&(t>h?W():mt(!0))}))}function Dt(){s.value===!1&&G.value!==null&&G.value.updatePosition()}function Ht(t){t!==void 0&&xe(t),u("popupShow",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function Pt(t){t!==void 0&&xe(t),u("popupHide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function Nt(){p=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||j.value===!1:!0),ee=n.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return aa(Nt),na(Dt),Nt(),We(()=>{V!==null&&clearTimeout(V),x!==null&&clearTimeout(x)}),Object.assign(d,{showPopup:Pe,hidePopup:Ie,removeAtIndex:lt,add:zt,toggleOption:Oe,getOptionIndex:()=>r.value,setOptionIndex:$e,moveOptionSelection:at,filter:De,updateMenuPosition:Dt,updateInputValue:Xe,isOptionSelected:vt,getEmittingOptionValue:Ee,isOptionDisabled:(...t)=>c.value.apply(null,t)===!0,getOptionValue:(...t)=>fe.value.apply(null,t),getOptionLabel:(...t)=>Z.value.apply(null,t)}),Object.assign(o,{innerValue:m,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:de,targetRef:L,hasValue:w,showPopup:Pe,floatingLabel:g(()=>e.hideSelected!==!0&&w.value===!0||typeof f.value=="number"||f.value.length!==0||Kt(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(s.value===!0||j.value!==!0||l["no-option"]!==void 0))return p===!0?zl():xl();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{Ne(),He()})},onClick(t){if(Ze(t),p!==!0&&a.value===!0){He(),L.value!==null&&L.value.focus();return}Pe(t)}},getControl:t=>{const h=kl(),v=t===!0||s.value!==!0||p!==!0;if(e.useInput===!0)h.push(Vl(t,v));else if(o.editable.value===!0){const P=v===!0?ce.value:void 0;h.push(k("input",{ref:v===!0?L:void 0,key:"d_t",class:"q-select__focus-target",id:v===!0?o.targetUid.value:void 0,value:ne.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...P,onKeydown:Ft,onKeyup:Et,onKeypress:It})),v===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&h.push(k("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ot}))}if(Q.value!==void 0&&e.disable!==!0&&I.value.length!==0){const P=I.value.map($=>k("option",{value:$,selected:!0}));h.push(k("select",{class:"hidden",name:Q.value,multiple:e.multiple},P))}const A=e.useInput===!0||v!==!0?void 0:o.splitAttrs.attributes.value;return k("div",{class:"q-field__native row items-center",...A,...o.splitAttrs.listeners.value},h)},getInnerAppend:()=>e.loading!==!0&&i.value!==!0&&e.hideDropdownIcon!==!0?[k(ze,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ae.value})]:null}),fl(o)}});const Za=Fe({__name:"UserUpdateDrawer",setup(e){const l=Le(),u=qt(),d=g(()=>l.selectedUser.status!=="Active"&&l.user.status==="Active"&&l.user.groupId===null?{message:"Select a Group before saving changes",color:"bg-orange text-white"}:l.selectedUser.status!=="Inactive"&&l.user.status==="Inactive"?{message:"You are going to inactivate this user, the email and the group associated will be removed",color:"bg-red text-white"}:null),n=()=>{l.user=JSON.parse(JSON.stringify(l.selectedUser))};return(a,s)=>(re(),ve(bl,{modelValue:C(l).editMode,"onUpdate:modelValue":s[8]||(s[8]=r=>C(l).editMode=r),onBeforeShow:s[9]||(s[9]=r=>n()),width:320,bordered:"",overlay:"",side:"right"},{default:M(()=>[b(et,null,{default:M(()=>[b(qe,{horizontal:""},{default:M(()=>[b(Vt,null,{default:M(()=>[ge(" Edit User ")]),_:1}),b(ct,{dense:"",label:"Save Changes",icon:"save",color:"primary",onClick:s[0]||(s[0]=r=>C(l).updateUser())})]),_:1}),b(qe,null,{default:M(()=>[b(ke,{modelValue:C(l).user.givenName,"onUpdate:modelValue":s[1]||(s[1]=r=>C(l).user.givenName=r),label:"Name"},null,8,["modelValue"]),b(ke,{modelValue:C(l).user.surname,"onUpdate:modelValue":s[2]||(s[2]=r=>C(l).user.surname=r),label:"Surname"},null,8,["modelValue"]),b(ke,{modelValue:C(l).user.loginName,"onUpdate:modelValue":s[3]||(s[3]=r=>C(l).user.loginName=r),label:"Login"},null,8,["modelValue"]),b(ke,{modelValue:C(l).user.email,"onUpdate:modelValue":s[4]||(s[4]=r=>C(l).user.email=r),label:"Email",type:"email",rules:[r=>!!r&&/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)||"Invalid email"]},null,8,["modelValue","rules"]),b(ke,{modelValue:C(l).user.note,"onUpdate:modelValue":s[5]||(s[5]=r=>C(l).user.note=r),label:"Note",type:"textarea"},null,8,["modelValue"])]),_:1}),b(qe,{style:{"background-color":"rgb(162, 164, 166)","border-radius":"4%"}},{default:M(()=>[b(tl,{modelValue:C(l).user.status,"onUpdate:modelValue":s[6]||(s[6]=r=>C(l).user.status=r),label:"Status",options:C(l).statusOptions},null,8,["modelValue","options"]),b(tl,{modelValue:C(l).user.groupId,"onUpdate:modelValue":s[7]||(s[7]=r=>C(l).user.groupId=r),"emit-value":"","map-options":"",label:"Group",clearable:"",disable:C(l).user.status!=="Active",options:C(u).groupsOptions},null,8,["modelValue","disable","options"])]),_:1}),ul(b(qe,null,{default:M(()=>{var r;return[b(wa,{class:sa((r=d.value)==null?void 0:r.color),rounded:""},{avatar:M(()=>[b(ze,{name:"warning"})]),default:M(()=>{var f;return[ge(me((f=d.value)==null?void 0:f.message)+" ",1)]}),_:1},8,["class"])]}),_:1},512),[[ra,d.value]])]),_:1})]),_:1},8,["modelValue"]))}}),en={class:"row"},tn={class:"col-3"},ln={class:"col-9"},dn=Fe({__name:"UsersPage",setup(e){const l=Le(),u=qt();return ol(()=>{console.log("Users \xBB onBeforeMount"),u.readSettings(),l.readAllUsers()}),(d,n)=>(re(),ll(al,null,[b(Da),b(Za),b(ka,{class:"row-container"},{default:M(()=>[b(_a,null,{default:M(()=>[b(Fl,null,{default:M(()=>[b(Vt,null,{default:M(()=>[ge("Users \xBB "+me(C(l).selectedUser.givenName)+" "+me(C(l).selectedUser.surname),1)]),_:1}),b(Ca,null,{default:M(()=>[b(ct,{icon:C(l).createMode?"close":"add",label:C(l).createMode?"Cancel Create":"Create User",onClick:n[0]||(n[0]=a=>{(C(l).createMode=!C(l).createMode)&&(C(l).editMode=!1)})},null,8,["icon","label"]),b(ct,{icon:C(l).editMode?"close":"edit",label:C(l).editMode?"Cancel Edit":"Edit User",onClick:n[1]||(n[1]=a=>{(C(l).editMode=!C(l).editMode)&&(C(l).createMode=!1)})},null,8,["icon","label"])]),_:1})]),_:1})]),_:1}),rt("div",en,[rt("div",tn,[b(Ea)]),rt("div",ln,[b(Ia)])])]),_:1})],64))}});export{dn as default};
