import{x as Y,J as fe,C as _,a6 as Se,bd as Le,ab as ke,R as K,B as m,H as G,E as pe,a0 as qe,a8 as Te,D as ee,a9 as Z,ae as le,az as $e,Q as L,X as we,af as Ve,ag as X,L as Ue,ah as Ee,ai as ae,aj as se,am as he,an as ue,be as Fe,T as Oe,K as Me,I as Re,ao as je,b5 as ze,k as _e,o as N,i as re,n as o,w as r,p as O,bf as He,a2 as ce,s as q,t as I,m as W,aT as ve,a1 as Pe,bg as J,_ as Ie,a as Be,u as Ae,q as Ge,aU as We,a5 as Ke,aR as ne,a_ as oe,$ as Ye}from"./index.481c2d9a.js";import{Q as Xe}from"./QToolbarTitle.57db756d.js";import{Q as Je}from"./QToolbar.4b047536.js";import{Q as Ze}from"./QPage.af9410ed.js";import{Q as et,a as tt}from"./QLayout.03322efe.js";import{u as De,c as Qe,a as B,b as C,Q as at}from"./QList.813d9784.js";import{Q as ge}from"./QBadge.8ce1607a.js";import{Q as nt}from"./QSpace.d5aa16c5.js";import{u as ot,a as lt,b as rt,c as it,Q as st}from"./QChip.37129d69.js";import{Q as de}from"./QCardActions.08e67da9.js";import{u as ye,b as me,c as ut,e as dt,Q as ct,a as vt}from"./use-form.aee44101.js";import{Q as ie}from"./QSeparator.2dc8520c.js";import{Q as gt}from"./QBtnGroup.b682e124.js";import{g as be,s as xe}from"./touch.3df10340.js";import{u as mt,a as ft,b as pt}from"./use-fullscreen.8c885a96.js";var _t=Y({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:s}){let h=!1,c,n,i=null,p=null,x,T;function v(){c&&c(),c=null,h=!1,i!==null&&(clearTimeout(i),i=null),p!==null&&(clearTimeout(p),p=null),n!==void 0&&n.removeEventListener("transitionend",x),x=null}function y(a,S,b){S!==void 0&&(a.style.height=`${S}px`),a.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,h=!0,c=b}function u(a,S){a.style.overflowY=null,a.style.height=null,a.style.transition=null,v(),S!==T&&s(S)}function t(a,S){let b=0;n=a,h===!0?(v(),b=a.offsetHeight===a.scrollHeight?0:void 0):(T="hide",a.style.overflowY="hidden"),y(a,b,S),i=setTimeout(()=>{i=null,a.style.height=`${a.scrollHeight}px`,x=P=>{p=null,(Object(P)!==P||P.target===a)&&u(a,"show")},a.addEventListener("transitionend",x),p=setTimeout(x,e.duration*1.1)},100)}function g(a,S){let b;n=a,h===!0?v():(T="show",a.style.overflowY="hidden",b=a.scrollHeight),y(a,b,S),i=setTimeout(()=>{i=null,a.style.height=0,x=P=>{p=null,(Object(P)!==P||P.target===a)&&u(a,"hide")},a.addEventListener("transitionend",x),p=setTimeout(x,e.duration*1.1)},100)}return fe(()=>{h===!0&&v()}),()=>_(Se,{css:!1,appear:e.appear,onEnter:t,onLeave:g},l.default)}});const z=Le({}),ht=Object.keys(ke);var yt=Y({name:"QExpansionItem",props:{...ke,...ot,...De,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...lt,"click","afterShow","afterHide"],setup(e,{slots:l,emit:s}){const{proxy:{$q:h}}=pe(),c=Qe(e,h),n=K(e.modelValue!==null?e.modelValue:e.defaultOpened),i=K(null),p=ye(),{show:x,hide:T,toggle:v}=rt({showing:n});let y,u;const t=m(()=>`q-expansion-item q-item-type q-expansion-item--${n.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),g=m(()=>{if(e.contentInsetLevel===void 0)return null;const f=h.lang.rtl===!0?"Right":"Left";return{["padding"+f]:e.contentInsetLevel*56+"px"}}),a=m(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),S=m(()=>{const f={};return ht.forEach(U=>{f[U]=e[U]}),f}),b=m(()=>a.value===!0||e.expandIconToggle!==!0),P=m(()=>e.expandedIcon!==void 0&&n.value===!0?e.expandedIcon:e.expandIcon||h.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),$=m(()=>e.disable!==!0&&(a.value===!0||e.expandIconToggle===!0)),M=m(()=>({expanded:n.value===!0,detailsId:e.targetUid,toggle:v,show:x,hide:T})),R=m(()=>{const f=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:h.lang.label[n.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":n.value===!0?"true":"false","aria-controls":p,"aria-label":f}});G(()=>e.group,f=>{u!==void 0&&u(),f!==void 0&&Q()});function E(f){a.value!==!0&&v(f),s("click",f)}function D(f){f.keyCode===13&&F(f,!0)}function F(f,U){U!==!0&&i.value!==null&&i.value.focus(),v(f),le(f)}function H(){s("afterShow")}function w(){s("afterHide")}function Q(){y===void 0&&(y=ye()),n.value===!0&&(z[e.group]=y);const f=G(n,te=>{te===!0?z[e.group]=y:z[e.group]===y&&delete z[e.group]}),U=G(()=>z[e.group],(te,Ne)=>{Ne===y&&te!==void 0&&te!==y&&T()});u=()=>{f(),U(),z[e.group]===y&&delete z[e.group],u=void 0}}function j(){const f={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},U=[_(Z,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&n.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:P.value})];return $.value===!0&&(Object.assign(f,{tabindex:0,...R.value,onClick:F,onKeyup:D}),U.unshift(_("div",{ref:i,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_(C,f,()=>U)}function d(){let f;return l.header!==void 0?f=[].concat(l.header(M.value)):(f=[_(C,()=>[_(me,{lines:e.labelLines},()=>e.label||""),e.caption?_(me,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&f[e.switchToggleSide===!0?"push":"unshift"](_(C,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>_(Z,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&f[e.switchToggleSide===!0?"unshift":"push"](j()),f}function k(){const f={ref:"item",style:e.headerStyle,class:e.headerClass,dark:c.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return b.value===!0&&(f.clickable=!0,f.onClick=E,Object.assign(f,a.value===!0?S.value:R.value)),_(B,f,d)}function A(){return qe(_("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:g.value,id:p},ee(l.default)),[[Te,n.value]])}function V(){const f=[k(),_(_t,{duration:e.duration,onShow:H,onHide:w},A)];return e.expandSeparator===!0&&f.push(_(ie,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:c.value}),_(ie,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:c.value})),f}return e.group!==void 0&&Q(),fe(()=>{u!==void 0&&u()}),()=>_("div",{class:t.value},[_("div",{class:"q-expansion-item__container relative-position"},V())])}}),bt=Y({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:l}){const s=m(()=>`q-carousel__control absolute absolute-${e.position}`),h=m(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>_("div",{class:s.value,style:h.value},ee(l.default))}}),xt=Y({name:"QBtnToggle",props:{...ut,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:s}){const h=m(()=>e.options.find(u=>u.value===e.modelValue)!==void 0),c=m(()=>({type:"hidden",name:e.name,value:e.modelValue})),n=dt(c),i=m(()=>$e(e)),p=m(()=>({rounded:e.rounded,dense:e.dense,...i.value})),x=m(()=>e.options.map((u,t)=>{const{attrs:g,value:a,slot:S,...b}=u;return{slot:S,props:{key:t,"aria-pressed":a===e.modelValue?"true":"false",...g,...b,...p.value,disable:e.disable===!0||b.disable===!0,color:a===e.modelValue?v(b,"toggleColor"):v(b,"color"),textColor:a===e.modelValue?v(b,"toggleTextColor"):v(b,"textColor"),noCaps:v(b,"noCaps")===!0,noWrap:v(b,"noWrap")===!0,size:v(b,"size"),padding:v(b,"padding"),ripple:v(b,"ripple"),stack:v(b,"stack")===!0,stretch:v(b,"stretch")===!0,onClick(P){T(a,u,P)}}}}));function T(u,t,g){e.readonly!==!0&&(e.modelValue===u?e.clearable===!0&&(s("update:modelValue",null,null),s("clear")):s("update:modelValue",u,t),s("click",g))}function v(u,t){return u[t]===void 0?e[t]:u[t]}function y(){const u=x.value.map(t=>_(L,t.props,t.slot!==void 0?l[t.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&h.value===!0&&n(u,"push"),we(l.default,u)}return()=>_(gt,{class:"q-btn-toggle",...i.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},y)}});function Ct(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((s,h)=>{const c=parseFloat(s);c&&(l[h]=c)}),l}var St=Ve({name:"touch-swipe",beforeMount(e,{value:l,arg:s,modifiers:h}){if(h.mouse!==!0&&X.has.touch!==!0)return;const c=h.mouseCapture===!0?"Capture":"",n={handler:l,sensitivity:Ct(s),direction:be(h),noop:Ue,mouseStart(i){xe(i,n)&&Ee(i)&&(ae(n,"temp",[[document,"mousemove","move",`notPassive${c}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(i,!0))},touchStart(i){if(xe(i,n)){const p=i.target;ae(n,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),n.start(i)}},start(i,p){X.is.firefox===!0&&se(e,!0);const x=he(i);n.event={x:x.left,y:x.top,time:Date.now(),mouse:p===!0,dir:!1}},move(i){if(n.event===void 0)return;if(n.event.dir!==!1){le(i);return}const p=Date.now()-n.event.time;if(p===0)return;const x=he(i),T=x.left-n.event.x,v=Math.abs(T),y=x.top-n.event.y,u=Math.abs(y);if(n.event.mouse!==!0){if(v<n.sensitivity[1]&&u<n.sensitivity[1]){n.end(i);return}}else if(window.getSelection().toString()!==""){n.end(i);return}else if(v<n.sensitivity[2]&&u<n.sensitivity[2])return;const t=v/p,g=u/p;n.direction.vertical===!0&&v<u&&v<100&&g>n.sensitivity[0]&&(n.event.dir=y<0?"up":"down"),n.direction.horizontal===!0&&v>u&&u<100&&t>n.sensitivity[0]&&(n.event.dir=T<0?"left":"right"),n.direction.up===!0&&v<u&&y<0&&v<100&&g>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&v<u&&y>0&&v<100&&g>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&v>u&&T<0&&u<100&&t>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&v>u&&T>0&&u<100&&t>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(le(i),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),it(),n.styleCleanup=a=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};a===!0?setTimeout(S,50):S()}),n.handler({evt:i,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:p,distance:{x:v,y:u}})):n.end(i)},end(i){n.event!==void 0&&(ue(n,"temp"),X.is.firefox===!0&&se(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(!0),i!==void 0&&n.event.dir!==!1&&le(i),n.event=void 0)}};if(e.__qtouchswipe=n,h.mouse===!0){const i=h.mouseCapture===!0||h.mousecapture===!0?"Capture":"";ae(n,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}X.has.touch===!0&&ae(n,"main",[[e,"touchstart","touchStart",`passive${h.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const s=e.__qtouchswipe;s!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&s.end(),s.handler=l.value),s.direction=be(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(ue(l,"main"),ue(l,"temp"),X.is.firefox===!0&&se(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(),delete e.__qtouchswipe)}});function kt(){const e=new Map;return{getCache:function(l,s){return e[l]===void 0?e[l]=s:e[l]},getCacheWithFn:function(l,s){return e[l]===void 0?e[l]=s():e[l]}}}const qt={name:{required:!0},disable:Boolean},Ce={setup(e,{slots:l}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},ee(l.default))}},Tt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},wt=["update:modelValue","beforeTransition","transition"];function Pt(){const{props:e,emit:l,proxy:s}=pe(),{getCacheWithFn:h}=kt();let c,n;const i=K(null),p=K(null);function x(d){const k=e.vertical===!0?"up":"left";D((s.$q.lang.rtl===!0?-1:1)*(d.direction===k?1:-1))}const T=m(()=>[[St,x,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),t=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),g=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),a=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);G(()=>e.modelValue,(d,k)=>{const A=$(d)===!0?M(d):-1;n!==!0&&E(A===-1?0:A<M(k)?-1:1),i.value!==A&&(i.value=A,l("beforeTransition",d,k),Oe(()=>{l("transition",d,k)}))});function S(){D(1)}function b(){D(-1)}function P(d){l("update:modelValue",d)}function $(d){return d!=null&&d!==""}function M(d){return c.findIndex(k=>k.props.name===d&&k.props.disable!==""&&k.props.disable!==!0)}function R(){return c.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function E(d){const k=d!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(d===-1?v.value:y.value):null;p.value!==k&&(p.value=k)}function D(d,k=i.value){let A=k+d;for(;A>-1&&A<c.length;){const V=c[A];if(V!==void 0&&V.props.disable!==""&&V.props.disable!==!0){E(d),n=!0,l("update:modelValue",V.props.name),setTimeout(()=>{n=!1});return}A+=d}e.infinite===!0&&c.length!==0&&k!==-1&&k!==c.length&&D(d,d===-1?c.length:-1)}function F(){const d=M(e.modelValue);return i.value!==d&&(i.value=d),!0}function H(){const d=$(e.modelValue)===!0&&F()&&c[i.value];return e.keepAlive===!0?[_(Me,g.value,[_(a.value===!0?h(t.value,()=>({...Ce,name:t.value})):Ce,{key:t.value,style:u.value},()=>d)])]:[_("div",{class:"q-panel scroll",style:u.value,key:t.value,role:"tabpanel"},[d])]}function w(){if(c.length!==0)return e.animated===!0?[_(Se,{name:p.value},H)]:H()}function Q(d){return c=Fe(ee(d.default,[])).filter(k=>k.props!==null&&k.props.slot===void 0&&$(k.props.name)===!0),c.length}function j(){return c}return Object.assign(s,{next:S,previous:b,goTo:P}),{panelIndex:i,panelDirectives:T,updatePanelsList:Q,updatePanelIndex:F,getPanelContent:w,getEnabledPanels:R,getPanels:j,isValidPanelName:$,keepAliveProps:g,needsUniqueKeepAliveWrapper:a,goToPanelByOffset:D,goToPanel:P,nextPanel:S,previousPanel:b}}var It=Y({name:"QCarouselSlide",props:{...qt,imgSrc:String},setup(e,{slots:l}){const s=m(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>_("div",{class:"q-carousel__slide",style:s.value},ee(l.default))}});const Bt=["top","right","bottom","left"],At=["regular","flat","outline","push","unelevated"];var Dt=Y({name:"QCarousel",props:{...De,...Tt,...mt,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>At.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Bt.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ft,...wt],setup(e,{slots:l}){const{proxy:{$q:s}}=pe(),h=Qe(e,s);let c=null,n;const{updatePanelsList:i,getPanelContent:p,panelDirectives:x,goToPanel:T,previousPanel:v,nextPanel:y,getEnabledPanels:u,panelIndex:t}=Pt(),{inFullscreen:g}=pt(),a=m(()=>g.value!==!0&&e.height!==void 0?{height:e.height}:{}),S=m(()=>e.vertical===!0?"vertical":"horizontal"),b=m(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(g.value===!0?" fullscreen":"")+(h.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${S.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${R.value}`:"")),P=m(()=>{const w=[e.prevIcon||s.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||s.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&s.lang.rtl===!0?w.reverse():w}),$=m(()=>e.navigationIcon||s.iconSet.carousel.navigationIcon),M=m(()=>e.navigationActiveIcon||$.value),R=m(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),E=m(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));G(()=>e.modelValue,()=>{e.autoplay&&D()}),G(()=>e.autoplay,w=>{w?D():c!==null&&(clearTimeout(c),c=null)});function D(){const w=ze(e.autoplay)===!0?Math.abs(e.autoplay):5e3;c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,w>=0?y():v()},w)}Re(()=>{e.autoplay&&D()}),fe(()=>{c!==null&&clearTimeout(c)});function F(w,Q){return _("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${w} q-carousel__navigation--${R.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[_("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},u().map(Q))])}function H(){const w=[];if(e.navigation===!0){const Q=l["navigation-icon"]!==void 0?l["navigation-icon"]:d=>_(L,{key:"nav"+d.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${d.active===!0?"":"in"}active`,...d.btnProps,onClick:d.onClick}),j=n-1;w.push(F("buttons",(d,k)=>{const A=d.props.name,V=t.value===k;return Q({index:k,maxIndex:j,name:A,active:V,btnProps:{icon:V===!0?M.value:$.value,size:"sm",...E.value},onClick:()=>{T(A)}})}))}else if(e.thumbnails===!0){const Q=e.controlColor!==void 0?` text-${e.controlColor}`:"";w.push(F("thumbnails",j=>{const d=j.props;return _("img",{key:"tmb#"+d.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${d.name===e.modelValue?"":"in"}active`+Q,src:d.imgSrc||d["img-src"],onClick:()=>{T(d.name)}})}))}return e.arrows===!0&&t.value>=0&&((e.infinite===!0||t.value>0)&&w.push(_("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[_(L,{icon:P.value[0],...E.value,onClick:v})])),(e.infinite===!0||t.value<n-1)&&w.push(_("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[_(L,{icon:P.value[1],...E.value,onClick:y})]))),we(l.control,w)}return()=>(n=i(l),_("div",{class:b.value,style:a.value},[je("div",{class:"q-carousel__slides-container"},p(),"sl-cont",e.swipeable,()=>x.value)].concat(H())))}});const Qt=_e({__name:"CreditLinesCarousel",props:{propData:{type:Object,default:null}},emits:["update:slide"],setup(e,{emit:l}){var v;const s=e,h=m(()=>s.propData?s.propData.length:0),c=m(()=>s.propData?s.propData.filter(y=>y.decision==="approved").length:0),n=m(()=>s.propData?s.propData.filter(y=>y.decision==="declined").length:0),i=K(null),p=l;let x=K(s.propData&&((v=s.propData[0])==null?void 0:v.dataLineId)||0);const T=y=>{x.value=y,p("update:slide",y)};return(y,u)=>(N(),re(ce,null,[o(me,{header:""},{default:r(()=>[q(" Total lines: "+I(h.value)+" \xBB Approved: "+I(c.value)+" | Declined: "+I(n.value),1)]),_:1}),o(O(Dt),{ref_key:"carouselRef",ref:i,modelValue:O(x),"onUpdate:modelValue":[u[3]||(u[3]=t=>He(x)?x.value=t:x=t),T],"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"rounded-borders"},{control:r(()=>[e.propData&&e.propData.length>1?(N(),W(bt,{key:0,position:"top-right",offset:[6,6],class:"q-gutter-xs"},{default:r(()=>[o(L,{dense:"",color:"grey-3","text-color":"primary",icon:"sym_o_arrow_left",onClick:u[0]||(u[0]=t=>{var g;return(g=i.value)==null?void 0:g.previous()})}),o(L,{dense:"",color:"grey-3","text-color":"primary",icon:"sym_o_arrow_right",onClick:u[1]||(u[1]=t=>{var g;return(g=i.value)==null?void 0:g.next()})})]),_:1})):ve("",!0)]),default:r(()=>[(N(!0),re(ce,null,Pe(e.propData,t=>(N(),W(It,{key:t.dataLineId,name:t.dataLineId},{default:r(()=>[o(B,null,{default:r(()=>[o(C,{side:""},{default:r(()=>[o(ge,{rounded:"","text-color":"white",color:"cyan",label:t.service},null,8,["label"]),q(" "+I(t.description),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,{side:""},{default:r(()=>[o(ge,{"text-color":"white",label:t.venue},null,8,["label"])]),_:2},1024)]),_:2},1024),o(ie,{class:"q-my-md"}),o(B,{class:"items-start"},{default:r(()=>[o(C,{horizontal:""},{default:r(()=>[o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Unit Price ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(O(J)(t.unitPrice)),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Quantity ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(t.quantity),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Total ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(O(J)(t.total)),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Quantity to Credit")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(t.creditQty),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Before fees ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(O(J)(t.creditQty*t.unitPrice)),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Fee Pct ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(t.cancellationFeePct)+"% ",1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Fee Amount")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(O(J)(t.cancellationFeeAmount)),1)]),_:2},1024)]),_:2},1024),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[q(" Total to Credit ")]),_:1}),o(C,{side:""},{default:r(()=>[q(I(O(J)(t.creditTotal)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(ie,{class:"q-my-md"}),o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[o(xt,{class:"full-width",style:{"border-style":"solid","border-width":"1px","border-color":"grey"},spread:"",dense:"",modelValue:t.decision,"onUpdate:modelValue":[g=>t.decision=g,u[2]||(u[2]=g=>{var a;return(a=i.value)==null?void 0:a.next()})],"toggle-color":t.decision==="approved"?"green":t.decision==="declined"?"red":"grey",options:[{label:"Decline",value:"declined",icon:"sym_o_close"},{label:"Approve",value:"approved",icon:"sym_o_check"}]},null,8,["modelValue","onUpdate:modelValue","toggle-color"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])],64))}});var Nt=Ie(Qt,[["__scopeId","data-v-8790d890"]]);const Lt=["innerHTML"],$t={key:0},Vt=_e({__name:"NotificationsList",setup(e){const l=Be(),s=Ae(),h=t=>m(()=>t.metadata?t.metadata.every(g=>g.decision&&g.decision.trim()!==""):!1),c=t=>m(()=>t.metadata?t.metadata.some(g=>g.decision==="approved"):!1),n=t=>t.replace(/([a-z])([A-Z])/g,"$1 $2").split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join(" "),i=t=>{switch(t){case"approved":return"sym_o_check";case"done":return"sym_o_check";case"declined":return"sym_o_close";case"partiallyDeclined":return"sym_o_close";default:return"sym_o_pending"}},p=t=>{switch(t){case"approved":return"green";case"done":return"green";case"declined":return"grey";case"partiallyDeclined":return"orange-6";default:return"blue-6"}},x=t=>l.users.find(a=>a.userId===(t.content&&a.fullName&&t.content.startsWith(a.fullName)?t.senderId:t.recipientId))||{color:"grey",initials:"NA"},T=t=>{t.status="declined",t.read=!0;const a={Parameter:t.title==="Request to Update Finance"?"Decline Update Finance":"Decline Credit Services",Data:t,LoggedUser:s.loggedUser};ne("GLB | Notifications Actions",a),oe({message:"Task Declined",type:"negative",position:"top-right"})},v=t=>{console.log("notification",t),t.status="done",t.read=!0;const a={Parameter:t.title==="Request to Update Finance"?"Approve Update Finance":"Approve Credit Services",Data:t,LoggedUser:s.loggedUser};ne("GLB | Notifications Actions",a),oe({message:"Task Approved",type:"positive",position:"top-right"})},y=t=>{t.status="done",t.read=!0;const a={Parameter:"Create Credit Note",Data:t,LoggedUser:s.loggedUser};ne("GLB | Notifications Actions",a),oe({message:"Credit Note Created",type:"positive",position:"top-right"})},u=t=>{t.status="done",t.read=!0;const a={Parameter:"Decline Credit Note",Data:t,LoggedUser:s.loggedUser};ne("GLB | Notifications Actions",a),oe({message:"Credit Note Declined",type:"negative",position:"top-right"})};return(t,g)=>(N(),W(at,{bordered:"",class:"rounded-borders q-ma-md"},{default:r(()=>[(N(!0),re(ce,null,Pe(O(s).loggedUser.notifications,(a,S)=>(N(),W(yt,{key:S,"expand-separator":"","hide-expand-icon":"",group:"notifications"},{header:r(()=>[o(C,{avatar:""},{default:r(()=>[o(Ge,{size:"sm","text-color":"white",style:We({backgroundColor:x(a).color})},{default:r(()=>[q(I(x(a).initials),1)]),_:2},1032,["style"])]),_:2},1024),o(C,null,{default:r(()=>[q(I(a.title),1)]),_:2},1024),o(C,{side:""},{default:r(()=>[q(I(new Date(a.timestampUnix*1e3).toLocaleDateString("en-GB"))+" ",1),o(ge,{align:"bottom",rounded:"",color:p(a.status)},{default:r(()=>[o(Z,{name:i(a.status)},null,8,["name"]),q(" "+I(n(a.type)),1)]),_:2},1032,["color"])]),_:2},1024)]),default:r(()=>[o(ct,null,{default:r(()=>[o(de,null,{default:r(()=>[o(nt),o(st,{dense:"",class:"text-white q-pa-sm",color:p(a.status),label:n(a.status)},{default:r(()=>[o(Z,{name:i(a.status)},null,8,["name"])]),_:2},1032,["color","label"])]),_:2},1024),o(vt,null,{default:r(()=>[Ke("div",{innerHTML:a.content},null,8,Lt),a.type==="task"&&a.title==="Request Credit Note"&&a.status==="pending"?(N(),re("div",$t,[o(Nt,{propData:a.metadata},null,8,["propData"])])):ve("",!0)]),_:2},1024),qe(o(de,null,{default:r(()=>[o(B,{class:"q-gutter-x-md full-width"},{default:r(()=>[o(L,{dense:"",icon:"sym_o_close",color:"red-6",label:"Decline",onClick:b=>T(a)},null,8,["onClick"]),o(L,{dense:"",icon:"sym_o_check",color:"green-6",label:"Approve",onClick:b=>v(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1536),[[Te,a.type==="task"&&a.status==="pending"&&a.title!=="Request Credit Note"]]),a.type==="task"&&a.title==="Request Credit Note"&&a.status==="pending"?(N(),W(de,{key:0},{default:r(()=>[o(B,{class:"q-gutter-x-md full-width",disable:!h(a).value},{default:r(()=>[o(L,{dense:"",icon:"sym_o_close",color:"red-6",label:"All Declined",onClick:b=>u(a),disable:c(a).value},null,8,["onClick","disable"]),o(L,{dense:"",icon:"sym_o_check",color:"green-6",label:"Create Credit Note",onClick:b=>y(a),disable:!c(a).value},null,8,["onClick","disable"])]),_:2},1032,["disable"])]),_:2},1024)):ve("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}))}});const Ut=_e({__name:"NotificationsPage",setup(e){const l=Be(),s=Ae();return Ye(()=>{s.readSettings(),l.readAllUsers()}),(h,c)=>(N(),W(et,null,{default:r(()=>[o(tt,null,{default:r(()=>[o(Ze,null,{default:r(()=>[o(Je,{class:"text-white bg-blue-6"},{default:r(()=>[o(Z,{name:"sym_o_notifications",size:"md"}),o(Xe,null,{default:r(()=>[q(" Notifications ")]),_:1})]),_:1}),o(Vt)]),_:1})]),_:1})]),_:1}))}});var ea=Ie(Ut,[["__scopeId","data-v-32848024"]]);export{ea as default};
