import{c as Te,e as xe,Q as Y,a as De,b as U}from"./use-form.529a0437.js";import{Q as F}from"./QSpace.08c9eb20.js";import{C,x as ge,aM as Ne,aN as Ae,R as G,B as _,aS as de,a9 as ae,X as Ve,D as Qe,E as _e,ae as ce,k as oe,e as re,o as p,m as k,w as a,n as e,s as c,t as f,aT as X,i as B,a1 as O,a2 as M,p as z,_ as Ue,a3 as qe,a4 as Re,a5 as h,W as Fe,a0 as te,Q as w,a as Ge,I as $e,aY as Be,aZ as Oe,a_ as W,a$ as me,b0 as fe,H as Me,q as D,a8 as ze,aW as ve,b1 as be,b2 as Le,b3 as Ee,b4 as je,aX as Ye}from"./index.bcbedc49.js";import{Q as Pe}from"./QBtnGroup.1dcefe0f.js";import{Q as I}from"./QChip.f20e4b4a.js";import{C as ye,Q as R}from"./ClosePopup.9970b645.js";import{Q as We}from"./QToolbar.39c8e191.js";import{Q as N,a as He,b as A,c as Ke}from"./QTable.37f5318a.js";import{Q as Z}from"./QInput.9a72a7b2.js";import{Q as j}from"./QCardActions.82b5af09.js";import{u as he,c as we,a as H,b as ke}from"./QList.787d9bda.js";import{o as Xe,c as Ze,Q as Je}from"./QCheckbox.104a0fca.js";import{Q as el}from"./QToggle.28d2c34e.js";const ll=C("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[C("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),C("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var al=ge({name:"QRadio",props:{...he,...Ne,...Te,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(r,{slots:d,emit:g}){const{proxy:y}=_e(),s=we(r,y.$q),i=Ae(r,Xe),m=G(null),{refocusTargetEl:T,refocusTarget:x}=Ze(r,m),v=_(()=>de(r.modelValue)===de(r.val)),l=_(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(r.disable===!0?" disabled":"")+(s.value===!0?" q-radio--dark":"")+(r.dense===!0?" q-radio--dense":"")+(r.leftLabel===!0?" reverse":"")),$=_(()=>{const t=r.color!==void 0&&(r.keepColor===!0||v.value===!0)?` text-${r.color}`:"";return`q-radio__inner relative-position q-radio__inner--${v.value===!0?"truthy":"falsy"}${t}`}),Q=_(()=>(v.value===!0?r.checkedIcon:r.uncheckedIcon)||null),J=_(()=>r.disable===!0?-1:r.tabindex||0),ee=_(()=>{const t={type:"radio"};return r.name!==void 0&&Object.assign(t,{".checked":v.value===!0,"^checked":v.value===!0?"checked":void 0,name:r.name,value:r.val}),t}),P=xe(ee);function L(t){t!==void 0&&(ce(t),x(t)),r.disable!==!0&&v.value!==!0&&g("update:modelValue",r.val,t)}function le(t){(t.keyCode===13||t.keyCode===32)&&ce(t)}function u(t){(t.keyCode===13||t.keyCode===32)&&L(t)}return Object.assign(y,{set:L}),()=>{const t=Q.value!==null?[C("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[C(ae,{class:"q-radio__icon",name:Q.value})])]:[ll];r.disable!==!0&&P(t,"unshift"," q-radio__native q-ma-none q-pa-none");const o=[C("div",{class:$.value,style:i.value,"aria-hidden":"true"},t)];T.value!==null&&o.push(T.value);const n=r.label!==void 0?Ve(d.default,[r.label]):Qe(d.default);return n!==void 0&&o.push(C("div",{class:"q-radio__label q-anchor--skip"},n)),C("div",{ref:m,class:l.value,tabindex:J.value,role:"radio","aria-label":r.label,"aria-checked":v.value===!0?"true":"false","aria-disabled":r.disable===!0?"true":void 0,onClick:L,onKeydown:le,onKeyup:u},o)}}});const Ce={radio:al,checkbox:Je,toggle:el},tl=Object.keys(Ce);var K=ge({name:"QOptionGroup",props:{...he,modelValue:{required:!0},options:{type:Array,validator:r=>r.every(d=>"value"in d&&"label"in d)},name:String,type:{default:"radio",validator:r=>tl.includes(r)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(r,{emit:d,slots:g}){const{proxy:{$q:y}}=_e(),s=Array.isArray(r.modelValue);r.type==="radio"?s===!0&&console.error("q-option-group: model should not be array"):s===!1&&console.error("q-option-group: model should be array in your case");const i=we(r,y),m=_(()=>Ce[r.type]),T=_(()=>"q-option-group q-gutter-x-sm"+(r.inline===!0?" q-option-group--inline":"")),x=_(()=>{const l={role:"group"};return r.type==="radio"&&(l.role="radiogroup",r.disable===!0&&(l["aria-disabled"]="true")),l});function v(l){d("update:modelValue",l)}return()=>C("div",{class:T.value,...x.value},r.options.map((l,$)=>{const Q=g["label-"+$]!==void 0?()=>g["label-"+$](l):g.label!==void 0?()=>g.label(l):void 0;return C("div",[C(m.value,{modelValue:r.modelValue,val:l.value,name:l.name===void 0?r.name:l.name,disable:r.disable||l.disable,label:Q===void 0?l.label:null,leftLabel:l.leftLabel===void 0?r.leftLabel:l.leftLabel,color:l.color===void 0?r.color:l.color,checkedIcon:l.checkedIcon,uncheckedIcon:l.uncheckedIcon,dark:l.dark||i.value,size:l.size===void 0?r.size:l.size,dense:r.dense,keepColor:l.keepColor===void 0?r.keepColor:l.keepColor,"onUpdate:modelValue":v},Q)])}))}});function pe(r){setTimeout(()=>{window.URL.revokeObjectURL(r.href)},1e4),r.remove()}function ol(r,d,g={}){const{mimeType:y,byteOrderMark:s,encoding:i}=typeof g=="string"?{mimeType:g}:g,m=i!==void 0?new TextEncoder(i).encode([d]):d,T=s!==void 0?[s,m]:[m],x=new Blob(T,{type:y||"application/octet-stream"}),v=document.createElement("a");v.href=window.URL.createObjectURL(x),v.setAttribute("download",r),typeof v.download=="undefined"&&v.setAttribute("target","_blank"),v.classList.add("hidden"),v.style.position="fixed",document.body.appendChild(v);try{return v.click(),pe(v),!0}catch(l){return pe(v),l}}const V=r=>(qe("data-v-4e1c2dc2"),r=r(),Re(),r),rl=V(()=>h("span",{style:{"font-weight":"bold"}},"Selection:",-1)),nl=V(()=>h("span",{style:{"font-weight":"bold"}},"Timeframe:",-1)),sl=V(()=>h("span",{style:{"font-weight":"bold"}},"Performer Users:",-1)),il=V(()=>h("span",{style:{"font-weight":"bold"}},"Performer Groups:",-1)),ul=V(()=>h("span",{style:{"font-weight":"bold"}},"Related Users:",-1)),dl=V(()=>h("span",{style:{"font-weight":"bold"}},"Actions:",-1)),cl=V(()=>h("span",{style:{"font-weight":"bold"}},"Decription Filter:",-1)),ml=V(()=>h("span",{style:{"font-weight":"bold"}},"Size:",-1)),fl=oe({__name:"ActivityTableSummaryCard",props:{showSelections:{type:Boolean,default:!1},selections:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},timeframes:{type:Object,default:()=>({})},tableRef:{type:Object,default:null}},setup(r){const d=re();return(g,y)=>(p(),k(Y,null,{default:a(()=>[e(Y,{class:"col"},{default:a(()=>[e(De,{class:"q-pa-md",style:{"background-color":"var(--primary-white)"}},{default:a(()=>[e(U,null,{default:a(()=>[c(" Summary ")]),_:1}),r.showSelections?(p(),k(U,{key:0},{default:a(()=>[rl,e(I,{color:"teal-3"},{default:a(()=>{var s;return[c(f(((s=r.selections.find(i=>i.value===r.filters.selection))==null?void 0:s.label)||""),1)]}),_:1})]),_:1})):X("",!0),e(U,null,{default:a(()=>[nl,e(I,{color:"orange-3"},{default:a(()=>{var s;return[c(f(((s=r.timeframes.find(i=>i.value===r.filters.timeframe))==null?void 0:s.label)||""),1)]}),_:1}),c("from "+f(r.filters.dateStart)+" to "+f(r.filters.dateEnd),1)]),_:1}),e(U,null,{default:a(()=>{var s;return[sl,(p(!0),B(M,null,O([...new Set((s=r.tableRef)==null?void 0:s.computedRows.map(i=>i.performerUserFullName))],(i,m)=>(p(),k(I,{key:m,color:"purple-3"},{default:a(()=>[c(f(i),1)]),_:2},1024))),128))]}),_:1}),e(U,null,{default:a(()=>{var s;return[il,(p(!0),B(M,null,O([...new Set((s=r.tableRef)==null?void 0:s.computedRows.map(i=>i.performerUserGroupName))],(i,m)=>(p(),k(I,{key:m,color:"teal-3"},{default:a(()=>[c(f(i),1)]),_:2},1024))),128))]}),_:1}),e(U,null,{default:a(()=>{var s;return[ul,(p(!0),B(M,null,O([...new Set((s=r.tableRef)==null?void 0:s.computedRows.map(i=>i.relatedUserFullName).filter(Boolean))],(i,m)=>(p(),k(I,{key:m,color:"light-green-3"},{default:a(()=>[c(f(i),1)]),_:2},1024))),128))]}),_:1}),e(U,null,{default:a(()=>{var s;return[dl,(p(!0),B(M,null,O([...new Set((s=r.tableRef)==null?void 0:s.computedRows.map(i=>i.action))],(i,m)=>(p(),k(I,{color:"blue-3",key:m},{default:a(()=>[c(f(i),1)]),_:2},1024))),128))]}),_:1}),e(U,null,{default:a(()=>{var s;return[cl,c(" "+f(((s=r.filters.term)==null?void 0:s.length)>0?r.filters.term:"None"),1)]}),_:1}),e(U,null,{default:a(()=>{var s;return[ml,c(" Showing "+f((s=r.tableRef)==null?void 0:s.computedRowsNumber)+" of "+f(z(d).activity.length)+" Rows ",1)]}),_:1})]),_:1})]),_:1})]),_:1}))}});var vl=Ue(fl,[["__scopeId","data-v-4e1c2dc2"]]);const bl=oe({__name:"RecordActivityCard",setup(r){const d=re(),g=G(),y=G({action:"Perform DevOps",description:"Full Access credentials has been updated on server <server>, file <filename> by <your-name>",file:{base64:"",name:""}});return Fe(()=>{g.value&&URL.revokeObjectURL(g.value)}),(s,i)=>(p(),k(Y,{style:{width:"auto","min-width":"26rem",height:"auto"}},{default:a(()=>[e(U,{header:""},{default:a(()=>[c("Add Activity")]),_:1}),e(H,null,{default:a(()=>[e(I,{"text-color":"white",icon:"sym_o_terminal",color:"blue-grey-10",label:y.value.action},null,8,["label"])]),_:1}),e(H,null,{default:a(()=>[e(ke,null,{default:a(()=>[e(Z,{outlined:"",autogrow:"",modelValue:y.value.description,"onUpdate:modelValue":i[0]||(i[0]=m=>y.value.description=m),label:"Description",type:"textarea",rules:[m=>!!m||"Required"],style:{height:"6rem"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(H,null,{default:a(()=>[te(e(w,{dense:"",label:"Cancel"},null,512),[[ye]])]),_:1}),e(F),e(H,null,{default:a(()=>[te(e(w,{dense:"",color:"primary",label:"Save",onClick:i[1]||(i[1]=m=>z(d).createActivity(y.value))},null,512),[[ye]])]),_:1})]),_:1})]),_:1}))}});const yl={class:"q-ma-md column",style:{gap:"0.6rem"}},pl={class:"q-ma-md column",style:{gap:"0.6rem"}},gl={class:"q-mx-md"},_l=oe({__name:"ActivityTable",props:{showSelections:{type:Boolean,default:!0}},setup(r){const d=re(),g=Ge();$e(()=>{P("today")});const y=G(null),s=G([{name:"rowNumber",label:"rowNumber",align:"right",field:"",sortable:!1},{name:"activityId",label:"ID",align:"left",field:"activityId",sortable:!1},{name:"date",label:"Date",align:"left",field:"date",sortable:!1},{name:"time",label:"Time",align:"left",field:"time",sortable:!1},{name:"performerUserFullName",label:"User",align:"left",field:"performerUserFullName",sortable:!1},{name:"performerUserGroupName",label:"Group",align:"left",field:"performerUserGroupName",sortable:!1},{name:"relatedUserFullName",label:"Related User",align:"left",field:"relatedUserFullName",sortable:!1},{name:"action",label:"Action",align:"left",field:"action",sortable:!1},{name:"description",label:"Description",align:"left",field:"description",sortable:!1}]),i=["rowNumber","date","time","performerUserFullName","performerUserGroupName","relatedUserFullName","action","description"],m=G(!1),T=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"monthToDate",label:"Month to Date"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom"}],x=[{value:"access",label:"Access"},{value:"userCreated",label:"New Users"},{value:"userUpdateGroup",label:"Group Changes"},{value:"userInactive",label:"Inactivated"}],v=u=>{switch(l.value.selection=u,l.value.performerUserId=[],l.value.relatedUserId=[],l.value.actions=[],l.value.term="",u){case"access":d.readActivity(Ye.value);break;case"userCreated":d.readActivity(je.value);break;case"userUpdateGroup":d.readActivity(Ee.value);break;case"userInactive":d.readActivity(Le.value);break}},l=G({term:"",selection:"access",timeframe:"today",dateStart:"",dateEnd:"",searchColumns:["description"],performerUserId:[],performerUserGroupId:[],relatedUserId:[],actions:[]}),$=_(()=>[...new Set(d.activity.map(u=>u.action))]),Q=_(()=>d.activity.map(u=>({value:u.performerUserId,label:u.performerUserFullName})).filter((u,t,o)=>t===o.findIndex(n=>n.label===u.label&&n.value===u.value))),J=_(()=>d.activity.map(u=>({value:u.performerUserGroupId||"",label:u.performerUserGroupName||""})).filter((u,t,o)=>t===o.findIndex(n=>n.label===u.label&&n.value===u.value))),ee=_(()=>d.activity.map(u=>({value:u.relatedUserId,label:u.relatedUserFullName})).filter((u,t,o)=>t===o.findIndex(n=>n.label===u.label&&n.value===u.value))),P=u=>{l.value.timeframe=u;const t=Be(),o=Oe(t);let n=new Date,b=new Date;switch(u){case"today":n=o,b=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59));break;case"yesterday":n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()-1)),b=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()-1,23,59,59));break;case"monthToDate":n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1)),b=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),23,59,59));break;case"lastMonth":n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()-1,1)),b=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),0));break;case"custom":n=new Date(l.value.dateStart),b=new Date(l.value.dateEnd),isNaN(n.getTime())||isNaN(b.getTime())?W({message:"Invalid custom date range",color:"negative",icon:"warning"}):b<n&&W({message:"End date cannot be before start date",color:"negative",icon:"warning"});break}l.value.dateStart=me(n),l.value.dateEnd=me(b)},L=_(()=>{const u=fe(l.value.dateStart),t=fe(l.value.dateEnd);return d.activity.filter(o=>{var ne,se,ie,ue;const n=new Date(o.createdAt),b=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),E=b>=u&&b<=t,S=!((ne=l.value.performerUserId)!=null&&ne.length)||l.value.performerUserId.includes(o.performerUserId),q=!((se=l.value.relatedUserId)!=null&&se.length)||l.value.relatedUserId.includes(o.relatedUserId),Se=!((ie=l.value.actions)!=null&&ie.length)||l.value.actions.includes(o.action),Ie=!((ue=l.value.performerUserGroupId)!=null&&ue.length)||o.performerUserGroupId&&l.value.performerUserGroupId.includes(o.performerUserGroupId);return E&&S&&q&&Se&&Ie})}),le=()=>{if(!y.value)return;const u=y.value.filteredSortedRows,t=[s.value.map(S=>be(S.label))].concat(u.map(S=>s.value.map(q=>be(typeof q.field=="function"?q.field(S):S[q.field===void 0?q.name:q.field])).join(","))).join(`\r
`),o=new Date,b=`User Activity ${`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()} ${o.getHours()}-${o.getMinutes()}-${o.getSeconds()}`}.csv`;ol(b,t,"text/csv")!==!0?W({message:"Browser denied file download...",color:"negative",icon:"warning"}):W({message:"File downloaded successfully...",color:"positive",icon:"download"})};return Me(()=>g.selectedUser,()=>{l.value.performerUserId=[],l.value.relatedUserId=[],l.value.actions=[],l.value.term=""}),(u,t)=>(p(),k(Y,null,{default:a(()=>[e(Ke,{ref_key:"tableRef",ref:y,rows:L.value,columns:s.value,"row-key":"activityId","rows-per-page-options":[-1],"visible-columns":i,filter:l.value.term,dense:"","hide-pagination":"","virtual-scroll":"",class:"header-table",style:{"min-height":"80vh",margin:"0.4rem"}},{top:a(()=>[e(U,{class:"text-h3"},{default:a(()=>[c(" Activity ")]),_:1}),e(F),r.showSelections?(p(),k(Pe,{key:0},{default:a(()=>[(p(),B(M,null,O(x,o=>e(w,{class:"q-px-md",key:o.value,dense:"",label:o.label,color:l.value.selection===o.value?"blue":"primary",onClick:n=>v(o.value)},null,8,["label","color","onClick"])),64))]),_:1})):X("",!0),e(F),e(I,{class:"bg-blue text-white q-ma-md"},{default:a(()=>[e(D,{icon:"sym_o_priority_high"}),c(" Dates in UTC ")]),_:1}),e(Y,{class:"q-gutter-x-md"},{default:a(()=>[u.$route.name==="Admin"?(p(),k(R,{key:0,round:"",color:"primary",label:"Log DevOps Activity"},{default:a(()=>[e(bl)]),_:1})):X("",!0),e(w,{color:"primary",icon:"sym_o_download",label:"Download",onClick:le}),e(w,{dense:"",icon:m.value?"sym_o_more_vert":"sym_o_more_horiz",onClick:t[0]||(t[0]=o=>m.value=!m.value),class:"q-ml-md"},null,8,["icon"])]),_:1}),te(e(We,null,{default:a(()=>[e(vl,{tableRef:y.value,showSelections:r.showSelections,selections:x,timeframes:T,filters:l.value},null,8,["tableRef","showSelections","filters"])]),_:1},512),[[ze,m.value]])]),"header-cell-rowNumber":a(o=>[e(N,{props:o},{default:a(()=>[e(ae,{size:"xs",color:"grey",name:"sym_o_tag"})]),_:2},1032,["props"])]),"header-cell-date":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_filter_list",size:"sm","text-color":"primary"}),c(" "+f(o.col.label),1)]),default:a(()=>[h("div",yl,[(p(),B(M,null,O(T,n=>e(w,{key:n.value,outline:"",label:n.label,color:l.value.timeframe===n.value?"primary":"",onClick:b=>P(n.value)},null,8,["label","color","onClick"])),64))]),h("div",pl,[e(Z,{outlined:"",debounce:"300",modelValue:l.value.dateStart,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value.dateStart=n),label:"Date Start",type:"date",disable:l.value.timeframe!=="custom"},null,8,["modelValue","disable"]),e(Z,{outlined:"",debounce:"300",modelValue:l.value.dateEnd,"onUpdate:modelValue":t[2]||(t[2]=n=>l.value.dateEnd=n),label:"Date End",type:"date",disable:l.value.timeframe!=="custom"},null,8,["modelValue","disable"])])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-time":a(o=>[e(N,{props:o},{default:a(()=>[e(U,{style:{"font-size":"16px"}},{default:a(()=>[c(f(o.col.label),1)]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserFullName":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_filter_list",size:"sm","text-color":l.value.performerUserId&&l.value.performerUserId.length>0?"primary":""},null,8,["text-color"]),c(" "+f(o.col.label),1)]),default:a(()=>[e(j,{style:{width:"256px"}},{default:a(()=>[e(F),e(w,{dense:"",label:"Clear",onClick:t[3]||(t[3]=n=>l.value.performerUserId=[])})]),_:1}),e(K,{modelValue:l.value.performerUserId,"onUpdate:modelValue":t[4]||(t[4]=n=>l.value.performerUserId=n),options:Q.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-performerUserGroupName":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_filter_list",size:"sm","text-color":l.value.performerUserGroupId&&l.value.performerUserGroupId.length>0?"primary":""},null,8,["text-color"]),c(" "+f(o.col.label),1)]),default:a(()=>[e(j,{style:{width:"256px"}},{default:a(()=>[e(F),e(w,{dense:"",label:"Clear",onClick:t[5]||(t[5]=n=>l.value.performerUserGroupId=[])})]),_:1}),e(K,{modelValue:l.value.performerUserGroupId,"onUpdate:modelValue":t[6]||(t[6]=n=>l.value.performerUserGroupId=n),options:J.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-relatedUserFullName":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_filter_list",size:"sm","text-color":l.value.relatedUserId&&l.value.relatedUserId.length>0?"primary":""},null,8,["text-color"]),c(" "+f(o.col.label),1)]),default:a(()=>[e(j,{style:{width:"256px"}},{default:a(()=>[e(F),e(w,{dense:"",label:"Clear",onClick:t[7]||(t[7]=n=>l.value.relatedUserId=[])})]),_:1}),e(K,{modelValue:l.value.relatedUserId,"onUpdate:modelValue":t[8]||(t[8]=n=>l.value.relatedUserId=n),options:ee.value,type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-action":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_filter_list",size:"sm","text-color":l.value.actions&&l.value.actions.length>0?"primary":""},null,8,["text-color"]),c(" "+f(o.col.label),1)]),default:a(()=>[e(j,{style:{width:"192px"}},{default:a(()=>[e(F),e(w,{dense:"",label:"Clear",onClick:t[9]||(t[9]=n=>l.value.actions=[])})]),_:1}),e(K,{modelValue:l.value.actions,"onUpdate:modelValue":t[10]||(t[10]=n=>l.value.actions=n),options:$.value.map(n=>({label:n,value:n})),type:"checkbox"},null,8,["modelValue","options"])]),_:2},1024)]),_:2},1032,["props"])]),"header-cell-description":a(o=>[e(N,{props:o},{default:a(()=>[e(R,{dense:"",round:""},{label:a(()=>[e(D,{icon:"sym_o_search",size:"sm","text-color":l.value.term!==""?"primary":""},null,8,["text-color"]),c(" "+f(o.col.label),1)]),default:a(()=>[h("div",gl,[e(Z,{outlined:"",dense:"",debounce:"300",modelValue:l.value.term,"onUpdate:modelValue":t[12]||(t[12]=n=>l.value.term=n),type:"search",placeholder:"Description search\u2026",style:{"align-self":"center"}},{append:a(()=>[e(ae,{name:l.value.term?"close":"search",class:ve({"cursor-pointer":l.value.term}),onClick:t[11]||(t[11]=n=>l.value.term?l.value.term="":null)},null,8,["name","class"])]),_:1},8,["modelValue"])])]),_:2},1024)]),_:2},1032,["props"])]),body:a(o=>[e(He,{props:o},{default:a(()=>[e(A,{class:"text-grey"},{default:a(()=>[c(f(o.rowIndex+1),1)]),_:2},1024),e(A,{key:"date",props:o},{default:a(()=>[c(f(o.row.date),1)]),_:2},1032,["props"]),e(A,{key:"time",props:o},{default:a(()=>[c(f(o.row.time),1)]),_:2},1032,["props"]),e(A,{key:"performerUserFullName",props:o},{default:a(()=>[e(ke,null,{default:a(()=>[c(f(o.row.performerUserFullName),1)]),_:2},1024)]),_:2},1032,["props"]),e(A,{key:"performerUserGroupName",props:o},{default:a(()=>[e(I,{"text-color":"white",color:"cyan",label:o.row.performerUserGroupName},null,8,["label"])]),_:2},1032,["props"]),e(A,{key:"relatedUserFullName",props:o},{default:a(()=>[h("span",{class:ve({"text-grey":!o.row.relatedUserFullName})},f(o.row.relatedUserFullName||"No one"),3)]),_:2},1032,["props"]),e(A,{key:"action",props:o},{default:a(()=>{var n;return[e(I,{"text-color":"white",color:((n=z(d).activityActions.find(b=>b.action===o.row.action))==null?void 0:n.color)||"grey"},{default:a(()=>{var b,E;return[e(D,{"text-color":"white",icon:((b=z(d).activityActions.find(S=>S.action===o.row.action))==null?void 0:b.icon)||"sym_o_question_mark",color:((E=z(d).activityActions.find(S=>S.action===o.row.action))==null?void 0:E.color)||"grey"},null,8,["icon","color"]),c(" "+f(o.row.action),1)]}),_:2},1032,["color"])]}),_:2},1032,["props"]),e(A,{key:"description",props:o},{default:a(()=>[o.row.attachment?(p(),k(w,{key:0,size:"sm",icon:"sym_o_download","text-color":"primary",dense:"",onClick:n=>z(d).downloadAttachment(o.row.activityId)},null,8,["onClick"])):X("",!0),c(" "+f(o.row.description),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])]),_:1}))}});var Ql=Ue(_l,[["__scopeId","data-v-b1469df2"]]);export{Ql as A};
